!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).barba=e()}(this,function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e,i){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&s(r,i.prototype),r}).apply(null,arguments)}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return o(t,arguments,r(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,t)})(t)}function l(t,e){try{var i=t()}catch(t){return e(t)}return i&&i.then?i.then(void 0,e):i}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var h,c="2.9.7";!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(h||(h={}));var u=h.off,d=function(){function t(t){this.t=t}t.getLevel=function(){return u},t.setLevel=function(t){return u=h[t]};var e=t.prototype;return e.error=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.i(console.error,h.error,e)},e.warn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.i(console.warn,h.warning,e)},e.info=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.i(console.info,h.info,e)},e.debug=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.i(console.log,h.debug,e)},e.i=function(e,i,n){i<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(n))},t}(),f=A,p=b,g=w,m=x,v=k,_="/",y=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function w(t,e){for(var i,n=[],r=0,s=0,o="",a=e&&e.delimiter||_,l=e&&e.whitelist||void 0,h=!1;null!==(i=y.exec(t));){var c=i[0],u=i[1],d=i.index;if(o+=t.slice(s,d),s=d+c.length,u)o+=u[1],h=!0;else{var f="",p=i[2],g=i[3],m=i[4],v=i[5];if(!h&&o.length){var w=o.length-1,b=o[w];(!l||l.indexOf(b)>-1)&&(f=b,o=o.slice(0,w))}o&&(n.push(o),o="",h=!1);var x=g||m,T=f||a;n.push({name:p||r++,prefix:f,delimiter:T,optional:"?"===v||"*"===v,repeat:"+"===v||"*"===v,pattern:x?C(x):"[^"+S(T===a?T:T+a)+"]+?"})}}return(o||s<t.length)&&n.push(o+t.substr(s)),n}function b(t,e){return function(i,n){var r=t.exec(i);if(!r)return!1;for(var s=r[0],o=r.index,a={},l=n&&n.decode||decodeURIComponent,h=1;h<r.length;h++)if(void 0!==r[h]){var c=e[h-1];a[c.name]=c.repeat?r[h].split(c.delimiter).map(function(t){return l(t,c)}):l(r[h],c)}return{path:s,index:o,params:a}}}function x(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",T(e)));return function(e,n){for(var r="",s=n&&n.encode||encodeURIComponent,o=!n||!1!==n.validate,a=0;a<t.length;a++){var l=t[a];if("string"!=typeof l){var h,c=e?e[l.name]:void 0;if(Array.isArray(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<c.length;u++){if(h=s(c[u],l),o&&!i[a].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');r+=(0===u?l.prefix:l.delimiter)+h}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(h=s(String(c),l),o&&!i[a].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+h+'"');r+=l.prefix+h}}else r+=l}return r}}function S(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function C(t){return t.replace(/([=!:$/()])/g,"\\$1")}function T(t){return t&&t.sensitive?"":"i"}function k(t,e,i){for(var n=(i=i||{}).strict,r=!1!==i.start,s=!1!==i.end,o=i.delimiter||_,a=[].concat(i.endsWith||[]).map(S).concat("$").join("|"),l=r?"^":"",h=0;h<t.length;h++){var c=t[h];if("string"==typeof c)l+=S(c);else{var u=c.repeat?"(?:"+c.pattern+")(?:"+S(c.delimiter)+"(?:"+c.pattern+"))*":c.pattern;e&&e.push(c),l+=c.optional?c.prefix?"(?:"+S(c.prefix)+"("+u+"))?":"("+u+")?":S(c.prefix)+"("+u+")"}}if(s)n||(l+="(?:"+S(o)+")?"),l+="$"===a?"$":"(?="+a+")";else{var d=t[t.length-1],f="string"==typeof d?d[d.length-1]===o:void 0===d;n||(l+="(?:"+S(o)+"(?="+a+"))?"),f||(l+="(?="+S(o)+"|"+a+")")}return new RegExp(l,T(i))}function A(t,e,i){return t instanceof RegExp?function(t,e){if(!e)return t;var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(A(t[r],e,i).source);return new RegExp("(?:"+n.join("|")+")",T(i))}(t,e,i):function(t,e,i){return k(w(t,i),e,i)}(t,e,i)}f.match=function(t,e){var i=[];return b(A(t,i,e),i)},f.regexpToFunction=p,f.parse=g,f.compile=function(t,e){return x(w(t,e),e)},f.tokensToFunction=m,f.tokensToRegExp=v;var P={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},E=new(function(){function t(){this.o=P,this.u=new DOMParser}var e=t.prototype;return e.toString=function(t){return t.outerHTML},e.toDocument=function(t){return this.u.parseFromString(t,"text/html")},e.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},e.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},e.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(t){document.body.contains(t)&&t.parentNode.removeChild(t)},e.addContainer=function(t,e){var i=this.getContainer();i?this.s(t,i):e.appendChild(t)},e.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return e?e.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){if("string"==typeof t.href)return t.href;var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e)return this.resolveUrl(e.baseVal||e)}return null},e.resolveUrl=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.length;if(0===n)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],1===n)return r.href;var s=document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild);for(var o,a=document.createElement("a"),l=1;l<n;l++)a.href=arguments[l],r.href=o=a.href;return s.removeChild(r),o},e.s=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},t}()),M=new(function(){function t(){this.h=[],this.v=-1}var n=t.prototype;return n.init=function(t,e){this.l="barba";var i={ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(i),this.v=0;var n={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(n,"",t)},n.change=function(t,e,i){if(i&&i.state){var n=i.state,r=n.index;e=this.m(this.v-r),this.replace(n.states),this.v=r}else this.add(t,e);return e},n.add=function(t,e){var i=this.size,n=this.p(e),r={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(r),this.v=i;var s={from:this.l,index:i,states:[].concat(this.h)};switch(n){case"push":window.history&&window.history.pushState(s,"",t);break;case"replace":window.history&&window.history.replaceState(s,"",t)}},n.update=function(t,e){var n=e||this.v,r=i({},this.get(n),{},t);this.set(n,r)},n.remove=function(t){t?this.h.splice(t,1):this.h.pop(),this.v--},n.clear=function(){this.h=[],this.v=-1},n.replace=function(t){this.h=t},n.get=function(t){return this.h[t]},n.set=function(t,e){return this.h[t]=e},n.p=function(t){var e="push",i=t,n=P.prefix+"-"+P.history;return i.hasAttribute&&i.hasAttribute(n)&&(e=i.getAttribute(n)),e},n.m=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},e(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),O=function(t,e){try{var i=function(){if(!e.next.html)return Promise.resolve(t).then(function(t){var i=e.next;if(t){var n=E.toElement(t);i.namespace=E.getNamespace(n),i.container=E.getContainer(n),i.html=t,M.update({ns:i.namespace});var r=E.toDocument(t);document.title=r.title}})}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},L=f,z={__proto__:null,update:O,nextTick:function(){return new Promise(function(t){window.requestAnimationFrame(t)})},pathToRegexp:L},I=function(){return window.location.origin},D=function(t){return void 0===t&&(t=window.location.href),B(t).port},B=function(t){var e,i=t.match(/:\d+/);if(null===i)/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443);else{var n=i[0].substring(1);e=parseInt(n,10)}var r,s=t.replace(I(),""),o={},a=s.indexOf("#");a>=0&&(r=s.slice(a+1),s=s.slice(0,a));var l=s.indexOf("?");return l>=0&&(o=R(s.slice(l+1)),s=s.slice(0,l)),{hash:r,path:s,port:e,query:o}},R=function(t){return t.split("&").reduce(function(t,e){var i=e.split("=");return t[i[0]]=i[1],t},{})},q=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},N={__proto__:null,getHref:function(){return window.location.href},getOrigin:I,getPort:D,getPath:function(t){return void 0===t&&(t=window.location.href),B(t).path},parse:B,parseQuery:R,clean:q};function F(t,e,i){return void 0===e&&(e=2e3),new Promise(function(n,r){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(200===s.status)n(s.responseText);else if(s.status){var e={status:s.status,statusText:s.statusText};i(t,e),r(e)}},s.ontimeout=function(){var n=new Error("Timeout error ["+e+"]");i(t,n),r(n)},s.onerror=function(){var e=new Error("Fetch error");i(t,e),r(e)},s.open("GET",t),s.timeout=e,s.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),s.setRequestHeader("x-barba","yes"),s.send()})}var j=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};function H(t,e){return void 0===e&&(e={}),function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=!1;return new Promise(function(i,r){e.async=function(){return s=!0,function(t,e){t?r(t):i(e)}};var o=t.apply(e,n);s||(j(o)?o.then(i,r):i(o))})}}var W=new(function(t){function e(){var e;return(e=t.call(this)||this).logger=new d("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}n(e,t);var i=e.prototype;return i.init=function(){var t=this;this.registered.clear(),this.all.forEach(function(e){t[e]||(t[e]=function(i,n){t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:n||{},fn:i})})})},i.do=function(t){for(var e=this,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(this.registered.has(t)){var s=Promise.resolve();return this.registered.get(t).forEach(function(t){s=s.then(function(){return H(t.fn,t.ctx).apply(void 0,n)})}),s.catch(function(i){e.logger.debug("Hook error ["+t+"]"),e.logger.error(i)})}return Promise.resolve()},i.clear=function(){var t=this;this.all.forEach(function(e){delete t[e]}),this.init()},i.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach(function(e,i){return t.push(i)}),this.logger.info("Registered hooks: "+t.join(","))},e}(function(){})),V=function(){function t(t){if(this.P=[],"boolean"==typeof t)this.g=t;else{var e=Array.isArray(t)?t:[t];this.P=e.map(function(t){return L(t)})}}return t.prototype.checkHref=function(t){if("boolean"==typeof this.g)return this.g;var e=B(t).path;return this.P.some(function(t){return null!==t.exec(e)})},t}(),Z=function(t){function e(e){var i;return(i=t.call(this,e)||this).k=new Map,i}n(e,t);var r=e.prototype;return r.set=function(t,e,i){return this.k.set(t,{action:i,request:e}),{action:i,request:e}},r.get=function(t){return this.k.get(t)},r.getRequest=function(t){return this.k.get(t).request},r.getAction=function(t){return this.k.get(t).action},r.has=function(t){return!this.checkHref(t)&&this.k.has(t)},r.delete=function(t){return this.k.delete(t)},r.update=function(t,e){var n=i({},this.k.get(t),{},e);return this.k.set(t,n),n},e}(V),Y=function(){return!window.history.pushState},X=function(t){return!t.el||!t.href},U=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},$=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},G=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},K=function(t){var e=t.el;return void 0!==e.port&&D()!==D(e.href)},J=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},Q=function(t){return t.el.hasAttribute(P.prefix+"-"+P.prevent)},tt=function(t){return Boolean(t.el.closest("["+P.prefix+"-"+P.prevent+'="all"]'))},et=function(t){var e=t.href;return q(e)===q()&&D(e)===D()},it=function(t){function e(e){var i;return(i=t.call(this,e)||this).suite=[],i.tests=new Map,i.init(),i}n(e,t);var i=e.prototype;return i.init=function(){this.add("pushState",Y),this.add("exists",X),this.add("newTab",U),this.add("blank",$),this.add("corsDomain",G),this.add("corsPort",K),this.add("download",J),this.add("preventSelf",Q),this.add("preventAll",tt),this.add("sameUrl",et,!1)},i.add=function(t,e,i){void 0===i&&(i=!0),this.tests.set(t,e),i&&this.suite.push(t)},i.run=function(t,e,i,n){return this.tests.get(t)({el:e,event:i,href:n})},i.checkLink=function(t,e,i){var n=this;return this.suite.some(function(r){return n.run(r,t,e,i)})},e}(V),nt=function(t){function e(i,n){var r;void 0===n&&(n="Barba error");for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return(r=t.call.apply(t,[this].concat(o))||this).error=i,r.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r),e),r.name="BarbaError",r}return n(e,t),e}(a(Error)),rt=function(){function t(t){void 0===t&&(t=[]),this.logger=new d("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var e=t.prototype;return e.add=function(t,e){switch(t){case"rule":this.A.splice(e.position||0,0,e.value);break;case"transition":default:this.all.push(e)}this.update()},e.resolve=function(t,e){var i=this;void 0===e&&(e={});var n=e.once?this.once:this.page;n=n.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var r=new Map,s=n.find(function(n){var s=!0,o={};return!(!e.self||"self"!==n.name)||(i.A.reverse().forEach(function(e){s&&(s=i.R(n,e,t,o),n.from&&n.to&&(s=i.R(n,e,t,o,"from")&&i.R(n,e,t,o,"to")),n.from&&!n.to&&(s=i.R(n,e,t,o,"from")),!n.from&&n.to&&(s=i.R(n,e,t,o,"to")))}),r.set(n,o),s)}),o=r.get(s),a=[];if(a.push(e.once?"once":"page"),e.self&&a.push("self"),o){var l,h=[s];Object.keys(o).length>0&&h.push(o),(l=this.logger).info.apply(l,["Transition found ["+a.join(",")+"]"].concat(h))}else this.logger.info("No transition found ["+a.join(",")+"]");return s},e.update=function(){var t=this;this.all=this.all.map(function(e){return t.T(e)}).sort(function(t,e){return t.priority-e.priority}).reverse().map(function(t){return delete t.priority,t}),this.page=this.all.filter(function(t){return void 0!==t.leave||void 0!==t.enter}),this.once=this.all.filter(function(t){return void 0!==t.once})},e.R=function(t,e,i,n,r){var s=!0,o=!1,a=t,l=e.name,h=l,c=l,u=l,d=r?a[r]:a,f="to"===r?i.next:i.current;if(r?d&&d[l]:d[l]){switch(e.type){case"strings":default:var p=Array.isArray(d[h])?d[h]:[d[h]];f[h]&&-1!==p.indexOf(f[h])&&(o=!0),-1===p.indexOf(f[h])&&(s=!1);break;case"object":var g=Array.isArray(d[c])?d[c]:[d[c]];f[c]?(f[c].name&&-1!==g.indexOf(f[c].name)&&(o=!0),-1===g.indexOf(f[c].name)&&(s=!1)):s=!1;break;case"function":d[u](i)?o=!0:s=!1}o&&(r?(n[r]=n[r]||{},n[r][l]=a[r][l]):n[l]=a[l])}return s},e.O=function(t,e,i){var n=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(n+=Math.pow(10,i),t.from&&t.from[e]&&(n+=1),t.to&&t.to[e]&&(n+=2)),n},e.T=function(t){var e=this;t.priority=0;var i=0;return this.A.forEach(function(n,r){i+=e.O(t,n.name,r+1)}),t.priority=i,t},t}(),st=function(){function t(t){void 0===t&&(t=[]),this.logger=new d("@barba/core"),this.S=!1,this.store=new rt(t)}var i=t.prototype;return i.get=function(t,e){return this.store.resolve(t,e)},i.doOnce=function(t){var e=t.data,i=t.transition;try{var n=function(){r.S=!1},r=this,s=i||{};r.S=!0;var o=l(function(){return Promise.resolve(r.j("beforeOnce",e,s)).then(function(){return Promise.resolve(r.once(e,s)).then(function(){return Promise.resolve(r.j("afterOnce",e,s)).then(function(){})})})},function(t){r.S=!1,r.logger.debug("Transition error [before/after/once]"),r.logger.error(t)});return Promise.resolve(o&&o.then?o.then(n):n())}catch(t){return Promise.reject(t)}},i.doPage=function(t){var e=t.data,i=t.transition,n=t.page,r=t.wrapper;try{var s=function(t){if(o)return t;a.S=!1},o=!1,a=this,h=i||{},c=!0===h.sync||!1;a.S=!0;var u=l(function(){function t(){return Promise.resolve(a.j("before",e,h)).then(function(){var t=!1;function i(i){return t?i:Promise.resolve(a.remove(e)).then(function(){return Promise.resolve(a.j("after",e,h)).then(function(){})})}var s=function(){if(c)return l(function(){return Promise.resolve(a.add(e,r)).then(function(){return Promise.resolve(a.j("beforeLeave",e,h)).then(function(){return Promise.resolve(a.j("beforeEnter",e,h)).then(function(){return Promise.resolve(Promise.all([a.leave(e,h),a.enter(e,h)])).then(function(){return Promise.resolve(a.j("afterLeave",e,h)).then(function(){return Promise.resolve(a.j("afterEnter",e,h)).then(function(){})})})})})})},function(t){if(a.M(t))throw new nt(t,"Transition error [sync]")});var i=function(i){return t?i:l(function(){var t=function(){if(!1!==s)return Promise.resolve(a.add(e,r)).then(function(){return Promise.resolve(a.j("beforeEnter",e,h)).then(function(){return Promise.resolve(a.enter(e,h,s)).then(function(){return Promise.resolve(a.j("afterEnter",e,h)).then(function(){})})})})}();if(t&&t.then)return t.then(function(){})},function(t){if(a.M(t))throw new nt(t,"Transition error [before/after/enter]")})},s=!1,o=l(function(){return Promise.resolve(a.j("beforeLeave",e,h)).then(function(){return Promise.resolve(Promise.all([a.leave(e,h),O(n,e)]).then(function(t){return t[0]})).then(function(t){return s=t,Promise.resolve(a.j("afterLeave",e,h)).then(function(){})})})},function(t){if(a.M(t))throw new nt(t,"Transition error [before/after/leave]")});return o&&o.then?o.then(i):i(o)}();return s&&s.then?s.then(i):i(s)})}var i=function(){if(c)return Promise.resolve(O(n,e)).then(function(){})}();return i&&i.then?i.then(t):t()},function(t){if(a.S=!1,t.name&&"BarbaError"===t.name)throw a.logger.debug(t.label),a.logger.error(t.error),t;throw a.logger.debug("Transition error [page]"),a.logger.error(t),t});return Promise.resolve(u&&u.then?u.then(s):s(u))}catch(t){return Promise.reject(t)}},i.once=function(t,e){try{return Promise.resolve(W.do("once",t,e)).then(function(){return e.once?H(e.once,e)(t):Promise.resolve()})}catch(t){return Promise.reject(t)}},i.leave=function(t,e){try{return Promise.resolve(W.do("leave",t,e)).then(function(){return e.leave?H(e.leave,e)(t):Promise.resolve()})}catch(t){return Promise.reject(t)}},i.enter=function(t,e,i){try{return Promise.resolve(W.do("enter",t,e)).then(function(){return e.enter?H(e.enter,e)(t,i):Promise.resolve()})}catch(t){return Promise.reject(t)}},i.add=function(t,e){try{return E.addContainer(t.next.container,e),W.do("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},i.remove=function(t){try{return E.removeContainer(t.current.container),W.do("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},i.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},i.j=function(t,e,i){try{return Promise.resolve(W.do(t,e,i)).then(function(){return i[t]?H(i[t],i)(e):Promise.resolve()})}catch(t){return Promise.reject(t)}},e(t,[{key:"isRunning",get:function(){return this.S},set:function(t){this.S=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(t){return"self"===t.name})}},{key:"shouldWait",get:function(){return this.store.all.some(function(t){return t.to&&!t.to.route||t.sync})}}]),t}(),ot=function(){function t(t){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach(function(t){e.byNamespace.set(t.namespace,t)}),this.names.forEach(function(t){W[t](e.L(t))}))}return t.prototype.L=function(t){var e=this;return function(i){var n=t.match(/enter/i)?i.next:i.current,r=e.byNamespace.get(n.namespace);return r&&r[t]?H(r[t],r)(i):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var at={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function t(){this.version=c,this.schemaPage=at,this.Logger=d,this.logger=new d("@barba/core"),this.plugins=[],this.hooks=W,this.dom=E,this.helpers=z,this.history=M,this.request=F,this.url=N}var n=t.prototype;return n.use=function(t,e){var i=this.plugins;i.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),i.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},n.init=function(t){var e=void 0===t?{}:t,n=e.transitions,r=void 0===n?[]:n,s=e.views,o=void 0===s?[]:s,a=e.schema,l=void 0===a?P:a,h=e.requestError,c=e.timeout,u=void 0===c?2e3:c,f=e.cacheIgnore,p=void 0!==f&&f,g=e.prefetchIgnore,m=void 0!==g&&g,v=e.preventRunning,_=void 0!==v&&v,y=e.prevent,w=void 0===y?null:y,b=e.debug,x=e.logLevel;if(d.setLevel(!0===(void 0!==b&&b)?"debug":void 0===x?"off":x),this.logger.info(this.version),Object.keys(l).forEach(function(t){P[t]&&(P[t]=l[t])}),this.$=h,this.timeout=u,this.cacheIgnore=p,this.prefetchIgnore=m,this.preventRunning=_,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var S=this.data.current;if(!S.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new Z(p),this.prevent=new it(m),this.transitions=new st(r),this.views=new ot(o),null!==w){if("function"!=typeof w)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",w)}this.history.init(S.url.href,S.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(t){return t.init()});var C=this.data;C.trigger="barba",C.next=C.current,C.current=i({},this.schemaPage),this.hooks.do("ready",C),this.once(C),this.q()},n.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(t){window.location.assign(t)},n.go=function(t,e,i){var n;if(void 0===e&&(e="barba"),this.transitions.isRunning)this.force(t);else if(!(n="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return e=this.history.change(t,e,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(t,e,n)},n.once=function(t){try{var e=this;return Promise.resolve(e.hooks.do("beforeEnter",t)).then(function(){function i(){return Promise.resolve(e.hooks.do("afterEnter",t)).then(function(){})}var n=function(){if(e.transitions.hasOnce){var i=e.transitions.get(t,{once:!0});return Promise.resolve(e.transitions.doOnce({transition:i,data:t})).then(function(){})}}();return n&&n.then?n.then(i):i()})}catch(t){return Promise.reject(t)}},n.page=function(t,e,n){try{var r=function(){var t=s.data;return Promise.resolve(s.hooks.do("page",t)).then(function(){var e=l(function(){var e=s.transitions.get(t,{once:!1,self:n});return Promise.resolve(s.transitions.doPage({data:t,page:o,transition:e,wrapper:s._})).then(function(){s.q()})},function(){0===d.getLevel()&&s.force(t.current.url.href)});if(e&&e.then)return e.then(function(){})})},s=this;s.data.next.url=i({href:t},s.url.parse(t)),s.data.trigger=e;var o=s.cache.has(t)?s.cache.update(t,{action:"click"}).request:s.cache.set(t,s.request(t,s.timeout,s.onRequestError.bind(s,e)),"click").request,a=function(){if(s.transitions.shouldWait)return Promise.resolve(O(o,s.data)).then(function(){})}();return Promise.resolve(a&&a.then?a.then(r):r())}catch(t){return Promise.reject(t)}},n.onRequestError=function(t){this.transitions.isRunning=!1;for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=i[0],s=i[1],o=this.cache.getAction(r);return this.cache.delete(r),!(this.$&&!1===this.$(t,o,r,s)||("click"===o&&this.force(r),1))},n.prefetch=function(t){var e=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(t){e.logger.error(t)}),"prefetch")},n.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},n.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},n.B=function(t){var e=this,i=this.I(t);if(i){var n=this.dom.getHref(i);this.prevent.checkHref(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,i)).catch(function(t){e.logger.error(t)}),"enter")}},n.U=function(t){var e=this.I(t);if(e)return this.transitions.isRunning&&this.preventRunning?(t.preventDefault(),void t.stopPropagation()):void this.go(this.dom.getHref(e),e,t)},n.D=function(t){this.go(this.url.getHref(),"popstate",t)},n.I=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},n.q=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:i({href:t},this.url.parse(t))};this.C={current:e,next:i({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}())}),function(t,e){var i;t&&(i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)},e=e.bind(null,t,t.document),"object"==typeof module&&module.exports?e(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],e):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0))}("undefined"!=typeof window?window:0,function(t,e,i){"use strict";var n,r,s,o,a,l;t.addEventListener&&(n=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,r=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,s=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,o=/^picture$/i,a=i.cfg,l={getParent:function(e,i){var n=e,r=e.parentNode;return i&&"prev"!=i||!r||!o.test(r.nodeName||"")||(r=r.parentNode),"self"!=i&&(n="prev"==i?e.previousElementSibling:i&&(r.closest||t.jQuery)&&(r.closest?r.closest(i):jQuery(r).closest(i)[0])||r),n},getFit:function(t){var e,i,n=getComputedStyle(t,null)||{},o=n.content||n.fontFamily,a={fit:t._lazysizesParentFit||t.getAttribute("data-parent-fit")};return!a.fit&&o&&(e=o.match(r))&&(a.fit=e[1]),a.fit?(!(i=t._lazysizesParentContainer||t.getAttribute("data-parent-container"))&&o&&(e=o.match(s))&&(i=e[1]),a.parent=l.getParent(t,i)):a.fit=n.objectFit,a},getImageRatio:function(e){for(var i,r,s,l,h,c,u=e.parentNode,d=u&&o.test(u.nodeName||"")?u.querySelectorAll("source, img"):[e],f=0;f<d.length;f++)if(i=(e=d[f]).getAttribute(a.srcsetAttr)||e.getAttribute("srcset")||e.getAttribute("data-pfsrcset")||e.getAttribute("data-risrcset")||"",r=e._lsMedia||e.getAttribute("media"),r=a.customMedia[e.getAttribute("data-media")||r]||r,i&&(!r||(t.matchMedia&&matchMedia(r)||{}).matches)){(s=parseFloat(e.getAttribute("data-aspectratio")))||(c=(l=i.match(n))?"w"==l[2]?(h=l[1],l[3]):(h=l[3],l[1]):(h=e.getAttribute("width"),e.getAttribute("height")),s=h/c);break}return s},calculateSize:function(t,e){var i,n,r,s=this.getFit(t),o=s.fit,a=s.parent;return"width"==o||("contain"==o||"cover"==o)&&(n=this.getImageRatio(t))?(a?e=a.clientWidth:a=t,r=e,"width"==o?r=e:(i=e/a.clientHeight)&&("cover"==o&&i<n||"contain"==o&&n<i)&&(r=e*(n/i)),r):e}},i.parentFit=l,e.addEventListener("lazybeforesizes",function(t){var e;t.defaultPrevented||t.detail.instance!=i||(e=t.target,t.detail.width=l.calculateSize(e,t.detail.width))}))}),function(t){var e=function(t,e,i){"use strict";var n,r;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in r=t.lazySizesConfig||t.lazysizesConfig||{},i)e in r||(r[e]=i[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:r,noSupport:!0};var s=e.documentElement,o=t.HTMLPictureElement,a="addEventListener",l="getAttribute",h=t[a].bind(t),c=t.setTimeout,u=t.requestAnimationFrame||c,d=t.requestIdleCallback,f=/^picture$/i,p=["load","error","lazyincluded","_lazyloaded"],g={},m=Array.prototype.forEach,v=function(t,e){return g[e]||(g[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),g[e].test(t[l]("class")||"")&&g[e]},_=function(t,e){v(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},y=function(t,e){var i;(i=v(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(i," "))},w=function(t,e,i){var n=i?a:"removeEventListener";i&&w(t,e),p.forEach(function(i){t[n](i,e)})},b=function(t,i,r,s,o){var a=e.createEvent("Event");return r||(r={}),r.instance=n,a.initEvent(i,!s,!o),a.detail=r,t.dispatchEvent(a),a},x=function(e,i){var n;!o&&(n=t.picturefill||r.pf)?(i&&i.src&&!e[l]("srcset")&&e.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},S=function(t,e){return(getComputedStyle(t,null)||{})[e]},C=function(t,e,i){for(i=i||t.offsetWidth;i<r.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},T=function(){var t,i,n=[],r=[],s=n,o=function(){var e=s;for(s=n.length?r:n,t=!0,i=!1;e.length;)e.shift()();t=!1},a=function(n,r){t&&!r?n.apply(this,arguments):(s.push(n),i||(i=!0,(e.hidden?c:u)(o)))};return a._lsFlush=o,a}(),k=function(t,e){return e?function(){T(t)}:function(){var e=this,i=arguments;T(function(){t.apply(e,i)})}},A=function(t){var e,n=0,s=r.throttleDelay,o=r.ricTimeout,a=function(){e=!1,n=i.now(),t()},l=d&&o>49?function(){d(a,{timeout:o}),o!==r.ricTimeout&&(o=r.ricTimeout)}:k(function(){c(a)},!0);return function(t){var r;(t=!0===t)&&(o=33),e||(e=!0,(r=s-(i.now()-n))<0&&(r=0),t||r<9?l():c(l,r))}},P=function(t){var e,n,r=function(){e=null,t()},s=function(){var t=i.now()-n;t<99?c(s,99-t):(d||r)(r)};return function(){n=i.now(),e||(e=c(s,99))}},E=function(){var o,d,p,g,C,E,O,L,z,I,D,B,R=/^img$/i,q=/^iframe$/i,N="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),F=0,j=0,H=-1,W=function(t){j--,(!t||j<0||!t.target)&&(j=0)},V=function(t){return null==B&&(B="hidden"==S(e.body,"visibility")),B||!("hidden"==S(t.parentNode,"visibility")&&"hidden"==S(t,"visibility"))},Z=function(t,i){var n,r=t,o=V(t);for(L-=i,D+=i,z-=i,I+=i;o&&(r=r.offsetParent)&&r!=e.body&&r!=s;)(o=(S(r,"opacity")||1)>0)&&"visible"!=S(r,"overflow")&&(n=r.getBoundingClientRect(),o=I>n.left&&z<n.right&&D>n.top-1&&L<n.bottom+1);return o},Y=function(){var t,i,a,h,c,u,f,p,m,v,_,y,w=n.elements;if((g=r.loadMode)&&j<8&&(t=w.length)){for(i=0,H++;i<t;i++)if(w[i]&&!w[i]._lazyRace)if(!N||n.prematureUnveil&&n.prematureUnveil(w[i]))Q(w[i]);else if((p=w[i][l]("data-expand"))&&(u=1*p)||(u=F),v||(v=!r.expand||r.expand<1?s.clientHeight>500&&s.clientWidth>500?500:370:r.expand,n._defEx=v,_=v*r.expFactor,y=r.hFac,B=null,F<_&&j<1&&H>2&&g>2&&!e.hidden?(F=_,H=0):F=g>1&&H>1&&j<6?v:0),m!==u&&(E=innerWidth+u*y,O=innerHeight+u,f=-1*u,m=u),a=w[i].getBoundingClientRect(),(D=a.bottom)>=f&&(L=a.top)<=O&&(I=a.right)>=f*y&&(z=a.left)<=E&&(D||I||z||L)&&(r.loadHidden||V(w[i]))&&(d&&j<3&&!p&&(g<3||H<4)||Z(w[i],u))){if(Q(w[i]),c=!0,j>9)break}else!c&&d&&!h&&j<4&&H<4&&g>2&&(o[0]||r.preloadAfterLoad)&&(o[0]||!p&&(D||I||z||L||"auto"!=w[i][l](r.sizesAttr)))&&(h=o[0]||w[i]);h&&!c&&Q(h)}},X=A(Y),U=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(W(t),_(e,r.loadedClass),y(e,r.loadingClass),w(e,G),b(e,"lazyloaded"))},$=k(U),G=function(t){$({target:t.target})},K=function(t){var e,i=t[l](r.srcsetAttr);(e=r.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},J=k(function(t,e,i,n,s){var o,a,h,u,d,g;(d=b(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?_(t,r.autosizesClass):t.setAttribute("sizes",n)),a=t[l](r.srcsetAttr),o=t[l](r.srcAttr),s&&(u=(h=t.parentNode)&&f.test(h.nodeName||"")),g=e.firesLoad||"src"in t&&(a||o||u),d={target:t},_(t,r.loadingClass),g&&(clearTimeout(p),p=c(W,2500),w(t,G,!0)),u&&m.call(h.getElementsByTagName("source"),K),a?t.setAttribute("srcset",a):o&&!u&&(q.test(t.nodeName)?function(t,e){var i=t.getAttribute("data-load-mode")||r.iframeLoadMode;0==i?t.contentWindow.location.replace(e):1==i&&(t.src=e)}(t,o):t.src=o),s&&(a||u)&&x(t,{src:o})),t._lazyRace&&delete t._lazyRace,y(t,r.lazyClass),T(function(){var e=t.complete&&t.naturalWidth>1;g&&!e||(e&&_(t,r.fastLoadedClass),U(d),t._lazyCache=!0,c(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&j--},!0)}),Q=function(t){if(!t._lazyRace){var e,i=R.test(t.nodeName),n=i&&(t[l](r.sizesAttr)||t[l]("sizes")),s="auto"==n;(!s&&d||!i||!t[l]("src")&&!t.srcset||t.complete||v(t,r.errorClass)||!v(t,r.lazyClass))&&(e=b(t,"lazyunveilread").detail,s&&M.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,j++,J(t,e,s,n,i))}},tt=P(function(){r.loadMode=3,X()}),et=function(){3==r.loadMode&&(r.loadMode=2),tt()},it=function(){d||(i.now()-C<999?c(it,999):(d=!0,r.loadMode=3,X(),h("scroll",et,!0)))};return{_:function(){C=i.now(),n.elements=e.getElementsByClassName(r.lazyClass),o=e.getElementsByClassName(r.lazyClass+" "+r.preloadClass),h("scroll",X,!0),h("resize",X,!0),h("pageshow",function(t){if(t.persisted){var i=e.querySelectorAll("."+r.loadingClass);i.length&&i.forEach&&u(function(){i.forEach(function(t){t.complete&&Q(t)})})}}),t.MutationObserver?new MutationObserver(X).observe(s,{childList:!0,subtree:!0,attributes:!0}):(s[a]("DOMNodeInserted",X,!0),s[a]("DOMAttrModified",X,!0),setInterval(X,999)),h("hashchange",X,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){e[a](t,X,!0)}),/d$|^c/.test(e.readyState)?it():(h("load",it),e[a]("DOMContentLoaded",X),c(it,2e4)),n.elements.length?(Y(),T._lsFlush()):X()},checkElems:X,unveil:Q,_aLSL:et}}(),M=function(){var t,i=k(function(t,e,i,n){var r,s,o;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),f.test(e.nodeName||""))for(s=0,o=(r=e.getElementsByTagName("source")).length;s<o;s++)r[s].setAttribute("sizes",n);i.detail.dataAttr||x(t,i.detail)}),n=function(t,e,n){var r,s=t.parentNode;s&&(n=C(t,s,n),(r=b(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=r.detail.width)&&n!==t._lazysizesWidth&&i(t,s,r,n))},s=P(function(){var e,i=t.length;if(i)for(e=0;e<i;e++)n(t[e])});return{_:function(){t=e.getElementsByClassName(r.autosizesClass),h("resize",s)},checkElems:s,updateElem:n}}(),O=function(){!O.i&&e.getElementsByClassName&&(O.i=!0,M._(),E._())};return c(function(){r.init&&O()}),n={cfg:r,autoSizer:M,loader:E,init:O,uP:x,aC:_,rC:y,hC:v,fire:b,gW:C,rAF:T}}(t,t.document,Date);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}("undefined"!=typeof window?window:{}),function(t,e){var i;t&&(i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)},e=e.bind(null,t,t.document),"object"==typeof module&&module.exports?e(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],e):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0))}("undefined"!=typeof window?window:0,function(t,e,i){"use strict";var n,r,s,o,a,l,h,c,u,d,f;function p(t,e,i,n,r,s,o,l){a.push({c:e,u:i,w:+("w"==l?o:n)})}function g(t,e){return t.w-e.w}function m(t,e){var n={srcset:t.getAttribute(i.cfg.srcsetAttr)||""},r=o(n.srcset);return Object.defineProperty(t,e,{value:n,writable:!0}),n.cands=r,n.index=0,n.dirty=!1,r[0]&&r[0].w?(r.sort(g),n.cSrcset=[r[n.index].c]):(n.cSrcset=n.srcset?[n.srcset]:[],n.cands=[]),n}function v(t,e,i,n,r){var s,o=t[r];o&&(s=o.index,c[r](o,e,i),o.dirty&&s==o.index||(o.cSrcset.join(", "),t.setAttribute(n,o.cSrcset.join(", ")),o.dirty=!0))}t.addEventListener&&(r=/^picture$/i,s=e.documentElement,l=/(([^,\s].[^\s]+)\s+(\d+)(w|h)(\s+(\d+)(w|h))?)/g,o=function(t){return a=[],t.replace(l,p),a},h=function(t,e){var i,n,s,o;if(!t[e]&&(o=t.parentNode||{},t[e]=m(t,e),t[e].isImg=!0,r.test(o.nodeName||"")))for(t[e].picture=!0,n=0,s=(i=o.getElementsByTagName("source")).length;n<s;n++)m(i[n],e).isImg=!1;return t[e]},c={_lazyOptimumx:function(t,e,i){for(var n,r,s,o,a,l,h=0;h<t.cands.length;h++)if((n=t.cands[h]).d=(n.w||1)/e,!(t.index>=h)){if(!(n.d<=i)&&(r=t.cands[h-1],s=n.d,o=i,l=a=void 0,r&&r.d&&(l=.7<o?.6:.4,r.d>=o||((a=Math.pow(r.d-l,1.6)||.1)<.1?a=.1:3<a&&(a=3),!(r.d+(s-o)*a<o)))))break;t.cSrcset.push(n.c),t.index=h}}},u=function(t,e,i,n,r){var s,o,a,l,h=t[r];if(h.width=e,h.picture&&(o=t.parentNode))for(l=0,a=(s=o.getElementsByTagName("source")).length;l<a;l++)v(s[l],e,i,n,r);v(t,e,i,n,r)},d=function(t){var e=t.getAttribute("data-optimumx")||t.getAttribute("data-maxdpr");return!e&&n.constrainPixelDensity&&(e="auto"),e&&("auto"==e?n.getOptimumX(t):parseFloat(e,10))},f=function(){i&&!i.getOptimumX&&(i.getX=d,i.pWS=o,s.removeEventListener("lazybeforeunveil",f))},s.addEventListener("lazybeforeunveil",f),setTimeout(f),"function"!=typeof(n=i&&i.cfg).getOptimumX&&(n.getOptimumX=function(){var e=t.devicePixelRatio||1;return 2.6<e?e*=.6:1.9<e?e*=.8:e-=.01,Math.min(Math.round(100*e)/100,2)}),t.devicePixelRatio&&addEventListener("lazybeforesizes",function(t){var e,r,s,o,a,l,c;t.detail.instance==i&&(a=t.target,c=(l=t.detail).dataAttr,t.defaultPrevented||!(e=d(a))||e>=devicePixelRatio||(!c||!a._lazyOptimumx||l.reloaded||n.unloadedClass&&i.hC(a,n.unloadedClass)||(a._lazyOptimumx=null),r=h(a,"_lazyOptimumx"),(s=l.width)&&(r.width||0)<s&&(o=c?i.cfg.srcsetAttr:"srcset",i.rAF(function(){u(a,s,e,o,"_lazyOptimumx")}))))}))}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var i,n=a(t);if(e){var r=a(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?l(t):e}(this,i)}}function c(t,e,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var g={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},m=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,g,i),this.smartphone=g.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=g.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context&&("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(e){e.addEventListener("click",t.setScrollTo,!1)})}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,i=this.instance.scroll.y,n=i+this.windowHeight,r=this.instance.scroll.x,s=r+this.windowWidth;Object.entries(this.els).forEach(function(o){var a=u(o,2),l=a[0],h=a[1];if(!h||h.inView&&!t||("horizontal"===e.direction?s>=h.left&&r<h.right&&e.setInView(h,l):n>=h.top&&i<h.bottom&&e.setInView(h,l)),h&&h.inView)if("horizontal"===e.direction){var c=h.right-h.left;h.progress=(e.instance.scroll.x-(h.left-e.windowWidth))/(c+e.windowWidth),(s<h.left||r>h.right)&&e.setOutOfView(h,l)}else{var d=h.bottom-h.top;h.progress=(e.instance.scroll.y-(h.top-e.windowHeight))/(d+e.windowHeight),(n<h.top||i>h.bottom)&&e.setOutOfView(h,l)}}),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var i=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach(function(t){t===e&&delete i.currentElements[t]}),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map(function(t){return t.trim()}),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],n=i.indexOf(e);n<0||(i.splice(n,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),n=this.listeners[i];n&&0!==n.length&&n.forEach(function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(e){e.removeEventListener("click",t.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),e}(),v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _(t,e){return t(e={exports:{}},e.exports),e.exports}var y=_(function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var i,n=t.HTMLElement||t.Element,r={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:n.prototype.scroll||a,scrollIntoView:n.prototype.scrollIntoView},s=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,o=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?d.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):r.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?r.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):d.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,e=arguments[0].top;d.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var i=function(t){for(;t!==e.body&&!1===u(t);)t=t.parentNode||t.host;return t}(this),n=i.getBoundingClientRect(),s=this.getBoundingClientRect();i!==e.body?(d.call(this,i,i.scrollLeft+s.left-n.left,i.scrollTop+s.top-n.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(t,e){this.scrollLeft=t,this.scrollTop=e}function l(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function h(t,e){return"Y"===e?t.clientHeight+o<t.scrollHeight:"X"===e?t.clientWidth+o<t.scrollWidth:void 0}function c(e,i){var n=t.getComputedStyle(e,null)["overflow"+i];return"auto"===n||"scroll"===n}function u(t){var e=h(t,"Y")&&c(t,"Y"),i=h(t,"X")&&c(t,"X");return e||i}function d(i,n,o){var l,h,c,u,d=s();i===e.body?(l=t,h=t.scrollX||t.pageXOffset,c=t.scrollY||t.pageYOffset,u=r.scroll):(l=i,h=i.scrollLeft,c=i.scrollTop,u=a),function e(i){var n,r,o,a,l=(s()-i.startTime)/468;a=l=l>1?1:l,n=.5*(1-Math.cos(Math.PI*a)),r=i.startX+(i.x-i.startX)*n,o=i.startY+(i.y-i.startY)*n,i.method.call(i.scrollable,r,o),r===i.x&&o===i.y||t.requestAnimationFrame(e.bind(t,i))}({scrollable:l,method:u,startTime:d,startX:h,startY:c,x:n,y:o})}}}}),w=(y.polyfill,function(e){o(r,m);var n=h(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,r),(e=n.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=y,window.smoothscrollPolyfill.polyfill()),e}return i(r,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),c(a(r.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;c(a(r.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){t.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(e,i){e.getBoundingClientRect();var n,r,s,o=e.dataset[t.name+"Class"]||t.class,a="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:i,l="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,h=e.dataset[t.name+"Repeat"],c=e.dataset[t.name+"Call"],u=e.dataset[t.name+"Target"],d=(s=void 0!==u?document.querySelector("".concat(u)):e).getBoundingClientRect();n=d.top+t.instance.scroll.y,r=d.left+t.instance.scroll.x;var f=n+s.offsetHeight,p=r+s.offsetWidth;h="false"!=h&&(null!=h||t.repeat);var g=t.getRelativeOffset(l),m={el:e,targetEl:s,id:a,class:o,top:n+=g[0],bottom:f-=g[1],left:r,right:p,offset:l,progress:0,repeat:h,inView:!1,call:c};t.els[a]=m,e.classList.contains(o)&&t.setInView(t.els[a],a)})}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach(function(e){var i=u(e,2),n=i[0],r=i[1],s=r.targetEl.getBoundingClientRect().top+t.instance.scroll.y,o=s+r.targetEl.offsetHeight,a=t.getRelativeOffset(r.offset);t.els[n].top=s+a[0],t.els[n].bottom=o-a[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,n=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");i="number"!=typeof t?t.getBoundingClientRect().top+i+this.instance.scroll.y:t+i;var r=function(){return parseInt(window.pageYOffset)===parseInt(i)};if(n){if(r())return void n();window.addEventListener("scroll",function t(){r()&&(window.removeEventListener("scroll",t),n())})}window.scrollTo({top:i,behavior:0===e.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){c(a(r.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),r}()),b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var C=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,n,r=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var o in i=Object(arguments[s]))x.call(i,o)&&(r[o]=i[o]);if(b){n=b(i);for(var a=0;a<n.length;a++)S.call(i,n[a])&&(r[n[a]]=i[n[a]])}}return r};function T(){}T.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function r(){n.off(t,r),e.apply(i,arguments)}return r._=e,this.on(t,r,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var s=0,o=n.length;s<o;s++)n[s].fn!==e&&n[s].fn._!==e&&r.push(n[s]);return r.length?i[t]=r:delete i[t],this}};var k=T,A=_(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,r,s,o,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),a=n.reduce(function(t,e){return t+e}),s=i.reduce(function(t,e){return t+e}),o=a/n.length,r=s/i.length,Math.abs(o)<Math.abs(r*this.tolerance)&&this.sensitivity<Math.abs(r)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(v)}),P="onwheel"in document,E="onmousewheel"in document,M="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,O=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,L=!!window.navigator.msPointerEnabled,z="onkeydown"in document,I=navigator.userAgent.indexOf("Firefox")>-1,D=Object.prototype.toString,B=Object.prototype.hasOwnProperty;function R(t,e){return function(){return t.apply(e,arguments)}}var q=A.Lethargy,N="virtualscroll",F=j;function j(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)B.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==D.call(t[i])&&e.push(i);for(var n=0;n<e.length;n++){var r=e[n];t[r]=R(t[r],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=C({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new q),this._emitter=new k,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function H(t,e,i){return(1-i)*t+i*e}function W(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform,r=n.match(/^matrix3d\((.+)\)$/);return r?(e.x=r?parseFloat(r[1].split(", ")[12]):0,e.y=r?parseFloat(r[1].split(", ")[13]):0):(r=n.match(/^matrix\((.+)\)$/),e.x=r?parseFloat(r[1].split(", ")[4]):0,e.y=r?parseFloat(r[1].split(", ")[5]):0),e}}function V(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}j.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(N,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},j.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,I&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},j.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},j.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},j.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},j.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:e.deltaY=this.options.keyStep;break;case 39:case 40:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case 32:e.deltaY=-i;break;default:return}this._notify(t)},j.prototype._bind=function(){P&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),E&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),M&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),L&&O&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),z&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},j.prototype._unbind=function(){P&&this.el.removeEventListener("wheel",this._onWheel),E&&this.el.removeEventListener("mousewheel",this._onMouseWheel),M&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),L&&O&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),z&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},j.prototype.on=function(t,e){this._emitter.on(N,t,e);var i=this._emitter.e;i&&i[N]&&1===i[N].length&&this._bind()},j.prototype.off=function(t,e){this._emitter.off(N,t,e);var i=this._emitter.e;(!i[N]||i[N].length<=0)&&this._unbind()},j.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},j.prototype.destroy=function(){this._emitter.off(),this._unbind()};var Z="function"==typeof Float32Array;function Y(t,e){return 1-3*e+3*t}function X(t,e){return 3*e-6*t}function U(t){return 3*t}function $(t,e,i){return((Y(e,i)*t+X(e,i))*t+U(e))*t}function G(t,e,i){return 3*Y(e,i)*t*t+2*X(e,i)*t+U(e)}function K(t){return t}var J=function(e){o(r,m);var n=h(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,r),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=n.call(this,i)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=i.scrollbarContainer,e.checkKey=e.checkKey.bind(l(e)),window.addEventListener("keydown",e.checkKey,!1),e}return i(r,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=s({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new F({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame(function(){t.updateDelta(e),t.isScrolling||t.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),c(a(r.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,i=0;i<e.length;i++)t+=e[i].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)9==t.keyCode&&requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(t.keyCode){case 9:requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case 38:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case 40:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:this.isActiveElementScrollSensitive()&&(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLButtonElement||document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return t.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),n=Date.now()-this.startScrollTs;if(!this.animatingScroll&&n>100&&(i<.5&&0!=this.instance.delta[this.directionAxis]||i<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(i){var n=u(i,2),r=(n[0],n[1]);r.persistent||t.instance.scroll[t.directionAxis]>r.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<r.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(r.el,-t.instance.scroll[t.directionAxis],0):t.transform(r.el,0,-t.instance.scroll[t.directionAxis]),r.inView||(r.inView=!0,r.el.style.opacity=1,r.el.style.pointerEvents="all",r.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((r.inView||e)&&(r.inView=!1,r.el.style.opacity=0,r.el.style.pointerEvents="none",r.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(r.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var s=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,s,0):this.transform(this.scrollbarThumb,0,s)}c(a(r.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,i=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===i?t.deltaX+t.deltaY:"vertical"===i?t.deltaY:"horizontal"===i?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=H(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var i=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,n=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;n>0&&n<e.instance.limit.y&&(e.instance.delta.y=n),i>0&&i<e.instance.limit.x&&(e.instance.delta.x=i)})}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(e,i){var n,r,s,o=V(e),a=Object.entries(t.sections).map(function(t){var e=u(t,2);return e[0],e[1]}).find(function(t){return o.includes(t.el)}),l=e.dataset[t.name+"Class"]||t.class,h="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+i,c=e.dataset[t.name+"Repeat"],d=e.dataset[t.name+"Call"],f=e.dataset[t.name+"Position"],p=e.dataset[t.name+"Delay"],g=e.dataset[t.name+"Direction"],m="string"==typeof e.dataset[t.name+"Sticky"],v=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,_="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,y=e.dataset[t.name+"Target"],w=(s=void 0!==y?document.querySelector("".concat(y)):e).getBoundingClientRect();null===a||a.inView?(n=w.top+t.instance.scroll.y-W(s).y,r=w.left+t.instance.scroll.x-W(s).x):(n=w.top-W(a.el).y-W(s).y,r=w.left-W(a.el).x-W(s).x);var b=n+s.offsetHeight,x=r+s.offsetWidth,S={x:(x-r)/2+r,y:(b-n)/2+n};if(m){var C=e.getBoundingClientRect(),T=C.top,k=C.left,A={x:k-r,y:T-n};n+=window.innerHeight,r+=window.innerWidth,b=T+s.offsetHeight-e.offsetHeight-A[t.directionAxis],S={x:((x=k+s.offsetWidth-e.offsetWidth-A[t.directionAxis])-r)/2+r,y:(b-n)/2+n}}c="false"!=c&&(null!=c||t.repeat);var P=[0,0];if(_)if("horizontal"===t.direction){for(var E=0;E<_.length;E++)"string"==typeof _[E]?_[E].includes("%")?P[E]=parseInt(_[E].replace("%","")*t.windowWidth/100):P[E]=parseInt(_[E]):P[E]=_[E];r+=P[0],x-=P[1]}else{for(E=0;E<_.length;E++)"string"==typeof _[E]?_[E].includes("%")?P[E]=parseInt(_[E].replace("%","")*t.windowHeight/100):P[E]=parseInt(_[E]):P[E]=_[E];n+=P[0],b-=P[1]}var M={el:e,id:h,class:l,section:a,top:n,middle:S,bottom:b,left:r,right:x,offset:_,progress:0,repeat:c,inView:!1,call:d,speed:v,delay:p,position:f,target:s,direction:g,sticky:m};t.els[h]=M,e.classList.contains(l)&&t.setInView(t.els[h],h),(!1!==v||m)&&(t.parallaxElements[h]=M)})}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach(function(e,i){var n="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+i,r=e.getBoundingClientRect(),s={x:r.left-1.5*window.innerWidth-W(e).x,y:r.top-1.5*window.innerHeight-W(e).y},o={x:s.x+r.width+2*window.innerWidth,y:s.y+r.height+2*window.innerHeight},a="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",n);var l={el:e,offset:s,limit:o,inView:!1,persistent:a,id:n};t.sections[n]=l})}},{key:"transform",value:function(t,e,i,n){var r;if(n){var s=W(t),o=H(s.x,e,n),a=H(s.y,i,n);r="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(o,",").concat(a,",0,1)")}else r="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=r,t.style.msTransform=r,t.style.transform=r}},{key:"transformElements",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.instance.scroll.x+this.windowWidth,r=this.instance.scroll.y+this.windowHeight,s={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(o){var a=u(o,2),l=(a[0],a[1]),h=!1;if(t&&(h=0),l.inView||i)switch(l.position){case"top":h=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementTop":h=(r-l.top)*-l.speed;break;case"bottom":h=(e.instance.limit[e.directionAxis]-r+e.windowHeight)*l.speed;break;case"left":h=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementLeft":h=(n-l.left)*-l.speed;break;case"right":h=(e.instance.limit[e.directionAxis]-n+e.windowHeight)*l.speed;break;default:h=(s[e.directionAxis]-l.middle[e.directionAxis])*-l.speed}l.sticky&&(h=l.inView?"horizontal"===e.direction?e.instance.scroll.x-l.left+window.innerWidth:e.instance.scroll.y-l.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<l.left-window.innerWidth&&e.instance.scroll.x<l.left-window.innerWidth/2?0:e.instance.scroll.x>l.right&&e.instance.scroll.x>l.right+100&&l.right-l.left+window.innerWidth:e.instance.scroll.y<l.top-window.innerHeight&&e.instance.scroll.y<l.top-window.innerHeight/2?0:e.instance.scroll.y>l.bottom&&e.instance.scroll.y>l.bottom+100&&l.bottom-l.top+window.innerHeight),!1!==h&&("horizontal"===l.direction||"horizontal"===e.direction&&"vertical"!==l.direction?e.transform(l.el,h,0,!t&&l.delay):e.transform(l.el,0,h,!t&&l.delay))})}},{key:"scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(i.offset)||0,r=isNaN(parseInt(i.duration))?1e3:parseInt(i.duration),s=i.easing||[.25,0,.35,1],o=!!i.disableLerp,a=!!i.callback&&i.callback;if(s=function(t,e,i,n){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===n)return K;for(var r=Z?new Float32Array(11):new Array(11),s=0;s<11;++s)r[s]=$(.1*s,t,i);function o(e){for(var n=0,s=1;10!==s&&r[s]<=e;++s)n+=.1;var o=n+(e-r[--s])/(r[s+1]-r[s])*.1,a=G(o,t,i);return a>=.001?function(t,e,i,n){for(var r=0;r<4;++r){var s=G(e,i,n);if(0===s)return e;e-=($(e,i,n)-t)/s}return e}(e,o,t,i):0===a?o:function(t,e,i,n,r){var s,o,a=0;do{(s=$(o=e+(i-e)/2,n,r)-t)>0?i=o:e=o}while(Math.abs(s)>1e-7&&++a<10);return o}(e,n,n+.1,t,i)}return function(t){return 0===t?0:1===t?1:$(o(t),e,n)}}.apply(void 0,d(s)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){if(!V(t).includes(this.el))return;var l,h=t.getBoundingClientRect(),c=h.top,f=h.left,p=V(t).find(function(t){return Object.entries(e.sections).map(function(t){var e=u(t,2);return e[0],e[1]}).find(function(e){return e.el==t})});l=p?W(p)[this.directionAxis]:-this.instance.scroll[this.directionAxis],n="horizontal"===this.direction?f+n-l:c+n-l}else n=t+n;var g=parseFloat(this.instance.delta[this.directionAxis]),m=Math.max(0,Math.min(n,this.instance.limit[this.directionAxis]))-g,v=function(t){o?"horizontal"===e.direction?e.setScroll(g+m*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,g+m*t):e.instance.delta[e.directionAxis]=g+m*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var _=Date.now();!function t(){var i=(Date.now()-_)/r;i>1?(v(1),e.animatingScroll=!1,0==r&&e.update(),a&&a()):(e.scrollToRaf=requestAnimationFrame(t),v(s(i)))}()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=s(s({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){c(a(r.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),r}();return function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=i,Object.assign(this,g,i),this.smartphone=g.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=g.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn(" `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn(" `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn(" `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new J(this.options):this.scroll=new w(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t){return"string"==typeof t}function r(t){return"function"==typeof t}function s(t){return"number"==typeof t}function o(t){return void 0===t}function a(t){return"object"==typeof t}function l(t){return!1!==t}function h(){return"undefined"!=typeof window}function c(t){return r(t)||n(t)}function u(t){return(Tt=Se(t,ue))&&Ni}function d(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function f(t,e){return!e&&console.warn(t)}function p(t,e){return t&&(ue[t]=e)&&Tt&&(Tt[t]=e)||ue}function g(){return 0}function m(t){var e,i,n=t[0];if(a(n)||r(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=be.length;i--&&!be[i].targetTest(n););e=be[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Ue(t[i],e)))||t.splice(i,1);return t}function v(t){return t._gsap||m(Me(t))[0]._gsap}function _(t,e,i){return(i=t[e])&&r(i)?t[e]():o(i)&&t.getAttribute&&t.getAttribute(e)||i}function y(t,e){return(t=t.split(",")).forEach(e)||t}function w(t){return Math.round(1e5*t)/1e5||0}function b(t){return Math.round(1e7*t)/1e7||0}function x(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+n:"-"===i?t-n:"*"===i?t*n:t/n}function S(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i}function C(){var t,e,i=me.length,n=me.slice(0);for(ve={},t=me.length=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function T(t,e,i,n){me.length&&!yt&&C(),t.render(e,i,n||yt&&e<0&&(t._initted||t._startAt)),me.length&&!yt&&C()}function k(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(he).length<2?e:n(t)?t.trim():t}function A(t){return t}function P(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function E(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=a(e[i])?E(t[i]||(t[i]={}),e[i]):e[i]);return t}function M(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n}function O(t){var e,i=t.parent||bt,n=t.keyframes?(e=ne(t.keyframes),function(t,i){for(var n in i)n in t||"duration"===n&&e||"ease"===n||(t[n]=i[n])}):P;if(l(t.inherit))for(;i;)n(t,i.vars.defaults),i=i.parent||i._dp;return t}function L(t,e,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s,o=t[n];if(r)for(s=e[r];o&&o[r]>s;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t,e}function z(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=e._prev,s=e._next;r?r._next=s:t[i]===e&&(t[i]=s),s?s._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null}function I(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0}function D(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t}function B(t,e,i,n){return t._startAt&&(yt?t._startAt.revert(fe):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))}function R(t){return t._repeat?Ce(t._tTime,t=t.duration()+t._rDelay)*t:0}function q(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function N(t){return t._end=b(t._start+(t._tDur/Math.abs(t._ts||t._rts||$t)||0))}function F(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=b(i._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),N(t),i._dirty||D(i,t)),t}function j(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=q(t.rawTime(),e),(!e._dur||Pe(0,e.totalDuration(),i)-e._tTime>$t)&&e.render(i,!0)),D(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)0<=i.rawTime()&&i.totalTime(i._tTime),i=i._dp;t._zTime=-$t}}function H(t,e,i,n){return e.parent&&I(e),e._start=b((s(i)?i:i||t!==bt?Ae(t,i,e):t._time)+e._delay),e._end=b(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),L(t,e,"_first","_last",t._sort?"_start":0),Te(e)||(t._recent=e),n||j(t,e),t._ts<0&&F(t,t._tTime),t}function W(t,e){return(ue.ScrollTrigger||d("scrollTrigger",e))&&ue.ScrollTrigger.create(e,t)}function V(t,e,i,n,r){return ni(t,e,r),t._initted?!i&&t._pt&&!yt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&At!==qe.frame?(me.push(t),t._lazy=[r,n],1):void 0:1}function Z(t,e,i,n){var r=t._repeat,s=b(e)||0,o=t._tTime/t._tDur;return o&&!n&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:b(s*(r+1)+t._rDelay*r):s,0<o&&!n&&F(t,t._tTime=t._tDur*o),t.parent&&N(t),i||D(t.parent,t),t}function Y(t){return t instanceof Ke?D(t):Z(t,t._dur)}function X(t,e,i){var n,r,o=s(e[1]),a=(o?2:1)+(t<2?0:1),h=e[a];if(o&&(h.duration=e[1]),h.parent=i,t){for(n=h,r=i;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=l(r.vars.inherit)&&r.parent;h.immediateRender=l(n.immediateRender),t<2?h.runBackwards=1:h.startAt=e[a-1]}return new ai(e[0],h,e[1+a])}function U(t,e){return t||0===t?e(t):e}function $(t,e){return n(t)&&(e=ce.exec(t))?e[1]:""}function G(t,e){return t&&a(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&a(t[0]))&&!t.nodeType&&t!==xt}function K(t){return t=Me(t)[0]||f("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return Me(e,i.querySelectorAll?i:i===t?f("Invalid scope")||Ct.createElement("div"):t)}}function J(t){return t.sort(function(){return.5-Math.random()})}function Q(t){if(r(t))return t;var e=a(t)?t:{each:t},i=Ve(e.ease),s=e.from||0,o=parseFloat(e.base)||0,l={},h=0<s&&s<1,c=isNaN(s)||h,u=e.axis,d=s,f=s;return n(s)?d=f={center:.5,edges:.5,end:1}[s]||0:!h&&c&&(d=s[0],f=s[1]),function(t,n,r){var a,h,p,g,m,v,_,y,w,x=(r||e).length,S=l[x];if(!S){if(!(w="auto"===e.grid?0:(e.grid||[1,Ut])[1])){for(_=-Ut;_<(_=r[w++].getBoundingClientRect().left)&&w<x;);w--}for(S=l[x]=[],a=c?Math.min(w,x)*d-.5:s%w,h=w===Ut?0:c?x*f/w-.5:s/w|0,y=Ut,v=_=0;v<x;v++)p=v%w-a,g=h-(v/w|0),S[v]=m=u?Math.abs("y"===u?g:p):Qt(p*p+g*g),_<m&&(_=m),m<y&&(y=m);"random"===s&&J(S),S.max=_-y,S.min=y,S.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(x<w?x-1:u?"y"===u?x/w:w:Math.max(w,x/w))||0)*("edges"===s?-1:1),S.b=x<0?o-x:o,S.u=$(e.amount||e.each)||0,i=i&&x<0?We(i):i}return x=(S[t]-S.min)/S.max||0,b(S.b+(i?i(x):x)*S.v)+S.u}}function tt(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=b(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(s(i)?0:$(i))}}function et(t,e){var i,n,o=ne(t);return!o&&a(t)&&(i=o=t.radius||Ut,t.values?(t=Me(t.values),(n=!s(t[0]))&&(i*=i)):t=tt(t.increment)),U(e,o?r(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var r,o,a=parseFloat(n?e.x:e),l=parseFloat(n?e.y:0),h=Ut,c=0,u=t.length;u--;)(r=n?(r=t[u].x-a)*r+(o=t[u].y-l)*o:Math.abs(t[u]-a))<h&&(h=r,c=u);return c=!i||h<=i?t[c]:e,n||c===e||s(e)?c:c+$(e)}:tt(t))}function it(t,e,i,n){return U(ne(t)?!e:!0===i?!!(i=0):!n,function(){return ne(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n})}function nt(t,e,i){return U(i,function(i){return t[~~e(i)]})}function rt(t){for(var e,i,n,r,s=0,o="";~(e=t.indexOf("random(",s));)n=t.indexOf(")",e),r="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?he:re),o+=t.substr(s,e-s)+it(r?i:+i[0],r?0:+i[1],+i[2]||1e-5),s=n+1;return o+t.substr(s,t.length-s)}function st(t,e,i){var n,r,s,o=t.labels,a=Ut;for(n in o)(r=o[n]-e)<0==!!i&&r&&a>(r=Math.abs(r))&&(s=n,a=r);return s}function ot(t){return I(t),t.scrollTrigger&&t.scrollTrigger.kill(!!yt),t.progress()<1&&Le(t,"onInterrupt"),t}function at(t){if(h()&&t){var e=(t=!t.name&&t.default||t).name,i=r(t),n=e&&!i&&t.init?function(){this._props=[]}:t,s={init:g,render:vi,add:ii,kill:yi,modifier:_i,rawVars:0},o={targetTest:0,get:0,getSetter:fi,aliases:{},register:0};if(Ne(),t!==n){if(_e[e])return;P(n,P(M(t,s),o)),Se(n.prototype,Se(s,M(t,o))),_e[n.prop=e]=n,t.targetTest&&(be.push(n),ge[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}p(e,n),t.register&&t.register(Ni,n,bi)}else t&&ze.push(t)}function lt(t,e,i){return(6*(t+=t<0?1:1<t?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Ie+.5|0}function ht(t,e,i){var n,r,o,a,l,h,c,u,d,f,p=t?s(t)?[t>>16,t>>8&Ie,t&Ie]:0:De.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),De[t])p=De[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(o=t.charAt(3))+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Ie,p&Ie,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ie,t&Ie]}else if("hsl"===t.substr(0,3))if(p=f=t.match(re),e){if(~t.indexOf("="))return p=t.match(se),i&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,l=p[1]/100,n=2*(h=p[2]/100)-(r=h<=.5?h*(l+1):h+l-h*l),3<p.length&&(p[3]*=1),p[0]=lt(a+1/3,n,r),p[1]=lt(a,n,r),p[2]=lt(a-1/3,n,r);else p=t.match(re)||De.transparent;p=p.map(Number)}return e&&!f&&(n=p[0]/Ie,r=p[1]/Ie,o=p[2]/Ie,h=((c=Math.max(n,r,o))+(u=Math.min(n,r,o)))/2,c===u?a=l=0:(d=c-u,l=.5<h?d/(2-c-u):d/(c+u),a=c===n?(r-o)/d+(r<o?6:0):c===r?(o-n)/d+2:(n-r)/d+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*l+.5),p[2]=~~(100*h+.5)),i&&p.length<4&&(p[3]=1),p}function ct(t){var e=[],i=[],n=-1;return t.split(Be).forEach(function(t){var r=t.match(oe)||[];e.push.apply(e,r),i.push(n+=r.length+1)}),e.c=i,e}function ut(t,e,i){var n,r,s,o,a="",l=(t+a).match(Be),h=e?"hsla(":"rgba(",c=0;if(!l)return t;if(l=l.map(function(t){return(t=ht(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),i&&(s=ct(t),(n=i.c).join(a)!==s.c.join(a)))for(o=(r=t.replace(Be,"1").split(oe)).length-1;c<o;c++)a+=r[c]+(~n.indexOf(c)?l.shift()||h+"0,0,0,0)":(s.length?s:l.length?l:i).shift());if(!r)for(o=(r=t.split(Be)).length-1;c<o;c++)a+=r[c]+l[c];return a+r[o]}function dt(t){var e,i=t.join(" ");if(Be.lastIndex=0,Be.test(i))return e=Re.test(i),t[1]=ut(t[1],e),t[0]=ut(t[0],e,ct(t[1])),!0}function ft(t,e){for(var i,n=t._first;n;)n instanceof Ke?ft(n,e):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===e||(n.timeline?ft(n.timeline,e):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=e)),n=n._next}function pt(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,s={easeIn:e,easeOut:i,easeInOut:n};return y(t,function(t){for(var e in Fe[t]=ue[t]=s,Fe[r=t.toLowerCase()]=i,s)Fe[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Fe[t+"."+e]=s[e]}),s}function gt(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function mt(t,e,i){function n(t){return 1===t?1:r*Math.pow(2,-10*t)*ee((t-o)*s)+1}var r=1<=e?e:1,s=(i||(t?.3:.45))/(e<1?e:1),o=s/Gt*(Math.asin(1/r)||0),a="out"===t?n:"in"===t?function(t){return 1-n(1-t)}:gt(n);return s=Gt/s,a.config=function(e,i){return mt(t,e,i)},a}function vt(t,e){function i(t){return t?--t*t*((e+1)*t+e)+1:0}void 0===e&&(e=1.70158);var n="out"===t?i:"in"===t?function(t){return 1-i(1-t)}:gt(i);return n.config=function(e){return vt(t,e)},n}var _t,yt,wt,bt,xt,St,Ct,Tt,kt,At,Pt,Et,Mt,Ot,Lt,zt,It,Dt,Bt,Rt,qt,Nt,Ft,jt,Ht,Wt,Vt,Zt,Yt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Xt={duration:.5,overwrite:!1,delay:0},Ut=1e8,$t=1/Ut,Gt=2*Math.PI,Kt=Gt/4,Jt=0,Qt=Math.sqrt,te=Math.cos,ee=Math.sin,ie="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ne=Array.isArray,re=/(?:-?\.?\d|\.)+/gi,se=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,oe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ae=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,le=/[+-]=-?[.\d]+/,he=/[^,'"\[\]\s]+/gi,ce=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ue={},de={suppressEvents:!0,isStart:!0,kill:!1},fe={suppressEvents:!0,kill:!1},pe={suppressEvents:!0},ge={},me=[],ve={},_e={},ye={},we=30,be=[],xe="",Se=function(t,e){for(var i in e)t[i]=e[i];return t},Ce=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Te=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},ke={_start:0,endTime:g,totalDuration:g},Ae=function t(e,i,r){var s,o,a,l=e.labels,h=e._recent||ke,c=e.duration()>=Ut?h.endTime(!1):e._dur;return n(i)&&(isNaN(i)||i in l)?(o=i.charAt(0),a="%"===i.substr(-1),s=i.indexOf("="),"<"===o||">"===o?(0<=s&&(i=i.replace(/=/,"")),("<"===o?h._start:h.endTime(0<=h._repeat))+(parseFloat(i.substr(1))||0)*(a?(s<0?h:r).totalDuration()/100:1)):s<0?(i in l||(l[i]=c),l[i]):(o=parseFloat(i.charAt(s-1)+i.substr(s+1)),a&&r&&(o=o/100*(ne(r)?r[0]:r).totalDuration()),1<s?t(e,i.substr(0,s-1),r)+o:c+o)):null==i?c:+i},Pe=function(t,e,i){return i<t?t:e<i?e:i},Ee=[].slice,Me=function(t,e,i){return wt&&!e&&wt.selector?wt.selector(t):!n(t)||i||!St&&Ne()?ne(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(t){return n(t)&&!e||G(t,1)?i.push.apply(i,Me(t)):i.push(t)})||i}(t,i):G(t)?Ee.call(t,0):t?[t]:[]:Ee.call((e||Ct).querySelectorAll(t),0)},Oe=function(t,e,i,n,r){var s=e-t,o=n-i;return U(r,function(e){return i+((e-t)/s*o||0)})},Le=function(t,e,i){var n,r,s,o=t.vars,a=o[e],l=wt,h=t._ctx;if(a)return n=o[e+"Params"],r=o.callbackScope||t,i&&me.length&&C(),h&&(wt=h),s=n?a.apply(r,n):a.call(r),wt=l,s},ze=[],Ie=255,De={aqua:[0,Ie,Ie],lime:[0,Ie,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ie],navy:[0,0,128],white:[Ie,Ie,Ie],olive:[128,128,0],yellow:[Ie,Ie,0],orange:[Ie,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ie,0,0],pink:[Ie,192,203],cyan:[0,Ie,Ie],transparent:[Ie,Ie,Ie,0]},Be=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in De)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Re=/hsl[a]?\(/,qe=(Bt=Date.now,Rt=500,qt=33,Nt=Bt(),Ft=Nt,Ht=jt=1e3/240,zt={time:0,frame:0,tick:function(){Ze(!0)},deltaRatio:function(t){return It/(1e3/(t||60))},wake:function(){kt&&(!St&&h()&&(xt=St=window,Ct=xt.document||{},ue.gsap=Ni,(xt.gsapVersions||(xt.gsapVersions=[])).push(Ni.version),u(Tt||xt.GreenSockGlobals||!xt.gsap&&xt||{}),Lt=xt.requestAnimationFrame,ze.forEach(at)),Mt&&zt.sleep(),Ot=Lt||function(t){return setTimeout(t,Ht-1e3*zt.time+1|0)},Et=1,Ze(2))},sleep:function(){(Lt?xt.cancelAnimationFrame:clearTimeout)(Mt),Et=0,Ot=g},lagSmoothing:function(t,e){Rt=t||1/0,qt=Math.min(e||33,Rt)},fps:function(t){jt=1e3/(t||240),Ht=1e3*zt.time+jt},add:function(t,e,i){var n=e?function(e,i,r,s){t(e,i,r,s),zt.remove(n)}:t;return zt.remove(t),Wt[i?"unshift":"push"](n),Ne(),n},remove:function(t,e){~(e=Wt.indexOf(t))&&Wt.splice(e,1)&&e<=Dt&&Dt--},_listeners:Wt=[]}),Ne=function(){return!Et&&qe.wake()},Fe={},je=/^[\d.\-M][\d.\-,\s]/,He=/["']/g,We=function(t){return function(e){return 1-t(1-e)}},Ve=function(t,e){return t&&(r(t)?t:Fe[t]||function(t){var e=(t+"").split("("),i=Fe[e[0]];return i&&1<e.length&&i.config?i.config.apply(null,~t.indexOf("{")?[function(t){for(var e,i,n,r={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)i=s[a],e=a!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),r[o]=isNaN(n)?n.replace(He,"").trim():+n,o=i.substr(e+1).trim();return r}(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)}(t).split(",").map(k)):Fe._CE&&je.test(t)?Fe._CE("",t):i}(t))||e};function Ze(t){var e,i,n,r,s=Bt()-Ft,o=!0===t;if(Rt<s&&(Nt+=s-qt),(0<(e=(n=(Ft+=s)-Nt)-Ht)||o)&&(r=++zt.frame,It=n-1e3*zt.time,zt.time=n/=1e3,Ht+=e+(jt<=e?4:jt-e),i=1),o||(Mt=Ot(Ze)),i)for(Dt=0;Dt<Wt.length;Dt++)Wt[Dt](n,It,r,t)}function Ye(t){return t<Zt?Vt*t*t:t<.7272727272727273?Vt*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Vt*(t-=2.25/2.75)*t+.9375:Vt*Math.pow(t-2.625/2.75,2)+.984375}y("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var i=e<5?e+1:e;pt(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},function(t){return 1-Math.pow(1-t,i)},function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2})}),Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn,pt("Elastic",mt("in"),mt("out"),mt()),Vt=7.5625,Zt=1/2.75,pt("Bounce",function(t){return 1-Ye(1-t)},Ye),pt("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),pt("Circ",function(t){return-(Qt(1-t*t)-1)}),pt("Sine",function(t){return 1===t?1:1-te(t*Kt)}),pt("Back",vt("in"),vt("out"),vt()),Fe.SteppedEase=Fe.steps=ue.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0;return function(t){return((n*Pe(0,.99999999,t)|0)+r)*i}}},Xt.ease=Fe["quad.out"],y("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return xe+=t+","+t+"Params,"});var Xe,Ue=function(t,e){this.id=Jt++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:_,this.set=e?e.getSetter:fi},$e=((Xe=Ge.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Xe.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Xe.totalDuration=function(t){return arguments.length?(this._dirty=0,Z(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Xe.totalTime=function(t,e){if(Ne(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(F(this,t),!i._dp||i.parent||j(i,this);i&&i.parent;)i.parent._time!==i._start+(0<=i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&H(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===$t||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),T(this,t,e)),this},Xe.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+R(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},Xe.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Xe.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+R(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Xe.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Ce(this._tTime,i)+1:1},Xe.timeScale=function(t){if(!arguments.length)return this._rts===-$t?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?q(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-$t?0:this._rts,this.totalTime(Pe(-Math.abs(this._delay),this._tDur,e),!0),N(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},Xe.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ne(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==$t&&(this._tTime-=$t)))),this):this._ps},Xe.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||H(e,this,t-this._delay),this}return this._start},Xe.endTime=function(t){return this._start+(l(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},Xe.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?q(e.rawTime(t),this):this._tTime:this._tTime},Xe.revert=function(t){void 0===t&&(t=pe);var e=yt;return yt=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),yt=e,this},Xe.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(t):i},Xe.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Y(this)):-2===this._repeat?1/0:this._repeat},Xe.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Y(this),e?this.time(e):this}return this._rDelay},Xe.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Xe.seek=function(t,e){return this.totalTime(Ae(this,t),l(e))},Xe.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,l(e))},Xe.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Xe.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Xe.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Xe.resume=function(){return this.paused(!1)},Xe.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-$t:0)),this):this._rts<0},Xe.invalidate=function(){return this._initted=this._act=0,this._zTime=-$t,this},Xe.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-$t))},Xe.eventCallback=function(t,e,i){var n=this.vars;return 1<arguments.length?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},Xe.then=function(t){var e=this;return new Promise(function(i){function n(){var t=e.then;e.then=null,r(s)&&(s=s(e))&&(s.then||s===e)&&(e.then=t),i(s),e.then=t}var s=r(t)?t:A;e._initted&&1===e.totalProgress()&&0<=e._ts||!e._tTime&&e._ts<0?n():e._prom=n})},Xe.kill=function(){ot(this)},Ge);function Ge(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Z(this,+t.duration,1,1),this.data=t.data,wt&&(this._ctx=wt).data.push(this),Et||qe.wake()}P($e.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$t,_prom:0,_ps:!1,_rts:1});var Ke=function(t){function o(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=l(e.sortChildren),bt&&H(e.parent||bt,i(r),n),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&W(i(r),e.scrollTrigger),r}e(o,t);var a=o.prototype;return a.to=function(t,e,i){return X(0,arguments,this),this},a.from=function(t,e,i){return X(1,arguments,this),this},a.fromTo=function(t,e,i,n){return X(2,arguments,this),this},a.set=function(t,e,i){return e.duration=0,e.parent=this,O(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ai(t,e,Ae(this,i),1),this},a.call=function(t,e,i){return H(this,ai.delayedCall(0,t,e),i)},a.staggerTo=function(t,e,i,n,r,s,o){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=s,i.onCompleteParams=o,i.parent=this,new ai(t,i,Ae(this,r)),this},a.staggerFrom=function(t,e,i,n,r,s,o){return i.runBackwards=1,O(i).immediateRender=l(i.immediateRender),this.staggerTo(t,e,i,n,r,s,o)},a.staggerFromTo=function(t,e,i,n,r,s,o,a){return n.startAt=i,O(n).immediateRender=l(n.immediateRender),this.staggerTo(t,e,n,r,s,o,a)},a.render=function(t,e,i){var n,r,s,o,a,l,h,c,u,d,f,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,_=t<=0?0:b(t),y=this._zTime<0!=t<0&&(this._initted||!v);if(this!==bt&&m<_&&0<=t&&(_=m),_!==this._tTime||i||y){if(g!==this._time&&v&&(_+=this._time-g,t+=this._time-g),n=_,u=this._start,l=!(c=this._ts),y&&(v||(g=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,i);if(n=b(_%a),_===m?(o=this._repeat,n=v):((o=~~(_/a))&&o===_/a&&(n=v,o--),v<n&&(n=v)),d=Ce(this._tTime,a),!g&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(n=v-n,p=1),o!==d&&!this._lock){var w=f&&1&d,x=w===(f&&1&o);if(o<d&&(w=!w),g=w?0:_%v?v:_,this._lock=1,this.render(g||(p?0:b(o*a)),e,!v)._lock=0,this._tTime=_,!e&&this.parent&&Le(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||l!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,x&&(this._lock=2,g=w?v:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ft(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,i){var n;if(e<i)for(n=t._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,b(g),b(n)))&&(_-=n-(n=h._start)),this._tTime=_,this._time=n,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&!o&&(Le(this,"onStart"),this._tTime!==_))return this;if(g<=n&&0<=t)for(r=this._first;r;){if(s=r._next,(r._act||n>=r._start)&&r._ts&&h!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(0<r._ts?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,e,i),n!==this._time||!this._ts&&!l){h=0,s&&(_+=this._zTime=-$t);break}}r=s}else{r=this._last;for(var S=t<0?t:n;r;){if(s=r._prev,(r._act||S<=r._end)&&r._ts&&h!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(0<r._ts?(S-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(S-r._start)*r._ts,e,i||yt&&(r._initted||r._startAt)),n!==this._time||!this._ts&&!l){h=0,s&&(_+=this._zTime=S?-$t:$t);break}}r=s}}if(h&&!e&&(this.pause(),h.render(g<=n?0:-$t)._zTime=g<=n?1:-1,this._ts))return this._start=u,N(this),this.render(t,e,i);this._onUpdate&&!e&&Le(this,"onUpdate",!0),(_===m&&this._tTime>=this.totalDuration()||!_&&g)&&(u!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||(!t&&v||!(_===m&&0<this._ts||!_&&this._ts<0)||I(this,1),e||t<0&&!g||!_&&!g&&m||(Le(this,_===m&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||_<m&&0<this.timeScale()||this._prom())))}return this},a.add=function(t,e){var i=this;if(s(e)||(e=Ae(this,e,t)),!(t instanceof $e)){if(ne(t))return t.forEach(function(t){return i.add(t,e)}),this;if(n(t))return this.addLabel(t,e);if(!r(t))return this;t=ai.delayedCall(0,t)}return this!==t?H(this,t,e):this},a.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-Ut);for(var r=[],s=this._first;s;)s._start>=n&&(s instanceof ai?e&&r.push(s):(i&&r.push(s),t&&r.push.apply(r,s.getChildren(!0,e,i)))),s=s._next;return r},a.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},a.remove=function(t){return n(t)?this.removeLabel(t):r(t)?this.killTweensOf(t):(z(this,t),t===this._recent&&(this._recent=this._last),D(this))},a.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=b(qe.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},a.addLabel=function(t,e){return this.labels[t]=Ae(this,e),this},a.removeLabel=function(t){return delete this.labels[t],this},a.addPause=function(t,e,i){var n=ai.delayedCall(0,e||g,i);return n.data="isPause",this._hasPause=1,H(this,n,Ae(this,t))},a.removePause=function(t){var e=this._first;for(t=Ae(this,t);e;)e._start===t&&"isPause"===e.data&&I(e),e=e._next},a.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)ti!==n[r]&&n[r].kill(t,e);return this},a.getTweensOf=function(t,e){for(var i,n=[],r=Me(t),o=this._first,a=s(e);o;)o instanceof ai?S(o._targets,r)&&(a?(!ti||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&n.push(o):(i=o.getTweensOf(r,e)).length&&n.push.apply(n,i),o=o._next;return n},a.tweenTo=function(t,e){e=e||{};var i,n=this,r=Ae(n,t),s=e.startAt,o=e.onStart,a=e.onStartParams,l=e.immediateRender,h=ai.to(n,P({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale())||$t,onStart:function(){if(n.pause(),!i){var t=e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale());h._dur!==t&&Z(h,t,0,1).render(h._time,!0,!0),i=1}o&&o.apply(h,a||[])}},e));return l?h.render(0):h},a.tweenFromTo=function(t,e,i){return this.tweenTo(e,P({startAt:{time:Ae(this,t)}},i))},a.recent=function(){return this._recent},a.nextLabel=function(t){return void 0===t&&(t=this._time),st(this,Ae(this,t))},a.previousLabel=function(t){return void 0===t&&(t=this._time),st(this,Ae(this,t),1)},a.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+$t)},a.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,r=this._first,s=this.labels;r;)r._start>=i&&(r._start+=t,r._end+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return D(this)},a.invalidate=function(e){var i=this._first;for(this._lock=0;i;)i.invalidate(e),i=i._next;return t.prototype.invalidate.call(this,e)},a.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),D(this)},a.totalDuration=function(t){var e,i,n,r=0,s=this,o=s._last,a=Ut;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(n=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),a<(i=o._start)&&s._sort&&o._ts&&!s._lock?(s._lock=1,H(s,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(r-=i,(!n&&!s._dp||n&&n.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-1/0),a=0),o._end>r&&o._ts&&(r=o._end),o=e;Z(s,s===bt&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},o.updateRoot=function(t){if(bt._ts&&(T(bt,q(t,bt)),At=qe.frame),qe.frame>=we){we+=Yt.autoSleep||120;var e=bt._first;if((!e||!e._ts)&&Yt.autoSleep&&qe._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||qe.sleep()}}},o}($e);function Je(t,e,i,s,o,l){var h,c,u,d;if(_e[t]&&!1!==(h=new _e[t]).init(o,h.rawVars?e[t]:function(t,e,i,s,o){if(r(t)&&(t=ri(t,o,e,i,s)),!a(t)||t.style&&t.nodeType||ne(t)||ie(t))return n(t)?ri(t,o,e,i,s):t;var l,h={};for(l in t)h[l]=ri(t[l],o,e,i,s);return h}(e[t],s,o,l,i),i,s,l)&&(i._pt=c=new bi(i._pt,o,t,0,1,h.render,h,0,h.priority),i!==Pt))for(u=i._ptLookup[i._targets.indexOf(o)],d=h._props.length;d--;)u[h._props[d]]=c;return h}function Qe(t,e,i,n){var r,s,o=e.ease||n||"power1.inOut";if(ne(e))s=i[t]||(i[t]=[]),e.forEach(function(t,i){return s.push({t:i/(e.length-1)*100,v:t,e:o})});else for(r in e)s=i[r]||(i[r]=[]),"ease"===r||s.push({t:parseFloat(t),v:e[r],e:o})}P(Ke.prototype,{_lock:0,_hasPause:0,_forcing:0});var ti,ei,ii=function(t,e,i,s,o,a,l,h,c,u){r(s)&&(s=s(o||0,t,a));var f,p=t[e],g="get"!==i?i:r(p)?c?t[e.indexOf("set")||!r(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():p,m=r(p)?c?di:ui:ci;if(n(s)&&(~s.indexOf("random(")&&(s=rt(s)),"="===s.charAt(1)&&(!(f=x(g,s)+($(g)||0))&&0!==f||(s=f))),!u||g!==s||ei)return isNaN(g*s)||""===s?(p||e in t||d(e,s),function(t,e,i,n,r,s,o){var a,l,h,c,u,d,f,p,g=new bi(this._pt,t,e,0,1,mi,null,r),m=0,v=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=rt(n)),s&&(s(p=[i,n],t,e),i=p[0],n=p[1]),l=i.match(ae)||[];a=ae.exec(n);)c=a[0],u=n.substring(m,a.index),h?h=(h+1)%5:"rgba("===u.substr(-5)&&(h=1),c!==l[v++]&&(d=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:u||1===v?u:",",s:d,c:"="===c.charAt(1)?x(d,c)-d:parseFloat(c)-d,m:h&&h<4?Math.round:0},m=ae.lastIndex);return g.c=m<n.length?n.substring(m,n.length):"",g.fp=o,(le.test(n)||f)&&(g.e=0),this._pt=g}.call(this,t,e,g,s,m,h||Yt.stringFilter,c)):(f=new bi(this._pt,t,e,+g||0,s-(g||0),"boolean"==typeof p?gi:pi,0,m),c&&(f.fp=c),l&&f.modifier(l,this,t),this._pt=f)},ni=function t(e,i,n){var r,s,o,a,h,c,u,d,f,p,g,_,y,w=e.vars,b=w.ease,x=w.startAt,S=w.immediateRender,T=w.lazy,k=w.onUpdate,A=w.onUpdateParams,E=w.callbackScope,O=w.runBackwards,L=w.yoyoEase,z=w.keyframes,D=w.autoRevert,B=e._dur,R=e._startAt,q=e._targets,N=e.parent,F=N&&"nested"===N.data?N.vars.targets:q,j="auto"===e._overwrite&&!_t,H=e.timeline;if(!H||z&&b||(b="none"),e._ease=Ve(b,Xt.ease),e._yEase=L?We(Ve(!0===L?b:L,Xt.ease)):0,L&&e._yoyo&&!e._repeat&&(L=e._yEase,e._yEase=e._ease,e._ease=L),e._from=!H&&!!w.runBackwards,!H||z&&!w.stagger){if(_=(d=q[0]?v(q[0]).harness:0)&&w[d.prop],r=M(w,ge),R&&(R._zTime<0&&R.progress(1),i<0&&O&&S&&!D?R.render(-1,!0):R.revert(O&&B?fe:de),R._lazy=0),x){if(I(e._startAt=ai.set(q,P({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!R&&l(T),startAt:null,delay:0,onUpdate:k,onUpdateParams:A,callbackScope:E,stagger:0},x))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(yt||!S&&!D)&&e._startAt.revert(fe),S&&B&&i<=0&&n<=0)return void(i&&(e._zTime=i))}else if(O&&B&&!R)if(i&&(S=!1),o=P({overwrite:!1,data:"isFromStart",lazy:S&&!R&&l(T),immediateRender:S,stagger:0,parent:N},r),_&&(o[d.prop]=_),I(e._startAt=ai.set(q,o)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(yt?e._startAt.revert(fe):e._startAt.render(-1,!0)),e._zTime=i,S){if(!i)return}else t(e._startAt,$t,$t);for(e._pt=e._ptCache=0,T=B&&l(T)||T&&!B,s=0;s<q.length;s++){if(u=(h=q[s])._gsap||m(q)[s]._gsap,e._ptLookup[s]=p={},ve[u.id]&&me.length&&C(),g=F===q?s:F.indexOf(h),d&&!1!==(f=new d).init(h,_||r,e,g,F)&&(e._pt=a=new bi(e._pt,h,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(t){p[t]=a}),f.priority&&(c=1)),!d||_)for(o in r)_e[o]&&(f=Je(o,r,e,g,h,F))?f.priority&&(c=1):p[o]=a=ii.call(e,h,o,"get",r[o],g,F,0,w.stringFilter);e._op&&e._op[s]&&e.kill(h,e._op[s]),j&&e._pt&&(ti=e,bt.killTweensOf(h,p,e.globalTime(i)),y=!e.parent,ti=0),e._pt&&T&&(ve[u.id]=1)}c&&wi(e),e._onInit&&e._onInit(e)}e._onUpdate=k,e._initted=(!e._op||e._pt)&&!y,z&&i<=0&&H.render(Ut,!0,!0)},ri=function(t,e,i,s,o){return r(t)?t.call(e,i,s,o):n(t)&&~t.indexOf("random(")?rt(t):t},si=xe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oi={};y(si+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return oi[t]=1});var ai=function(t){function r(e,n,r,o){var h;"number"==typeof n&&(r.duration=n,n=r,r=null);var u,d,p,g,v,_,y,w,x=(h=t.call(this,o?n:O(n))||this).vars,S=x.duration,C=x.delay,T=x.immediateRender,k=x.stagger,A=x.overwrite,E=x.keyframes,L=x.defaults,z=x.scrollTrigger,I=x.yoyoEase,D=n.parent||bt,B=(ne(e)||ie(e)?s(e[0]):"length"in n)?[e]:Me(e);if(h._targets=B.length?m(B):f("GSAP target "+e+" not found. https://greensock.com",!Yt.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=A,E||k||c(S)||c(C)){if(n=h.vars,(u=h.timeline=new Ke({data:"nested",defaults:L||{},targets:D&&"nested"===D.data?D.vars.targets:B})).kill(),u.parent=u._dp=i(h),u._start=0,k||c(S)||c(C)){if(g=B.length,y=k&&Q(k),a(k))for(v in k)~si.indexOf(v)&&((w=w||{})[v]=k[v]);for(d=0;d<g;d++)(p=M(n,oi)).stagger=0,I&&(p.yoyoEase=I),w&&Se(p,w),_=B[d],p.duration=+ri(S,i(h),d,_,B),p.delay=(+ri(C,i(h),d,_,B)||0)-h._delay,!k&&1===g&&p.delay&&(h._delay=C=p.delay,h._start+=C,p.delay=0),u.to(_,p,y?y(d,_,B):0),u._ease=Fe.none;u.duration()?S=C=0:h.timeline=0}else if(E){O(P(u.vars.defaults,{ease:"none"})),u._ease=Ve(E.ease||n.ease||"none");var R,q,N,F=0;if(ne(E))E.forEach(function(t){return u.to(B,t,">")}),u.duration();else{for(v in p={},E)"ease"===v||"easeEach"===v||Qe(v,E[v],p,E.easeEach);for(v in p)for(R=p[v].sort(function(t,e){return t.t-e.t}),d=F=0;d<R.length;d++)(N={ease:(q=R[d]).e,duration:(q.t-(d?R[d-1].t:0))/100*S})[v]=q.v,u.to(B,N,F),F+=N.duration;u.duration()<S&&u.to({},{duration:S-u.duration()})}}S||h.duration(S=u.duration())}else h.timeline=0;return!0!==A||_t||(ti=i(h),bt.killTweensOf(B),ti=0),H(D,i(h),r),n.reversed&&h.reverse(),n.paused&&h.paused(!0),(T||!S&&!E&&h._start===b(D._time)&&l(T)&&function t(e){return!e||e._ts&&t(e.parent)}(i(h))&&"nested"!==D.data)&&(h._tTime=-$t,h.render(Math.max(0,-C)||0)),z&&W(i(h),z),h}e(r,t);var o=r.prototype;return o.render=function(t,e,i){var n,r,s,o,a,l,h,c,u,d=this._time,f=this._tDur,p=this._dur,g=t<0,m=f-$t<t&&!g?f:t<$t?0:t;if(p){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=g){if(n=m,c=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*o+t,e,i);if(n=b(m%o),m===f?(s=this._repeat,n=p):((s=~~(m/o))&&s===m/o&&(n=p,s--),p<n&&(n=p)),(l=this._yoyo&&1&s)&&(u=this._yEase,n=p-n),a=Ce(this._tTime,o),n===d&&!i&&this._initted)return this._tTime=m,this;s!==a&&(c&&this._yEase&&ft(c,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(b(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(V(this,g?t:n,i,e,m))return this._tTime=0,this;if(d!==this._time)return this;if(p!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(u||this._ease)(n/p),this._from&&(this.ratio=h=1-h),n&&!d&&!e&&!s&&(Le(this,"onStart"),this._tTime!==m))return this;for(r=this._pt;r;)r.r(h,r.d),r=r._next;c&&c.render(t<0?t:!n&&l?-$t:c._dur*c._ease(n/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&B(this,t,0,i),Le(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&Le(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(g&&!this._onUpdate&&B(this,t,0,!0),!t&&p||!(m===this._tDur&&0<this._ts||!m&&this._ts<0)||I(this,1),e||g&&!d||!(m||d||l)||(Le(this,m===f?"onComplete":"onReverseComplete",!0),!this._prom||m<f&&0<this.timeScale()||this._prom()))}}else!function(t,e,i,n){var r,s,o,a=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))}(t)&&(t._initted||!Te(t))||(t._ts<0||t._dp._ts<0)&&!Te(t))?0:1,h=t._rDelay,c=0;if(h&&t._repeat&&(c=Pe(0,t._tDur,e),s=Ce(c,h),t._yoyo&&1&s&&(l=1-l),s!==Ce(t._tTime,h)&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||yt||n||t._zTime===$t||!e&&t._zTime){if(!t._initted&&V(t,e,n,i,c))return;for(o=t._zTime,t._zTime=e||(i?$t:0),i=i||e&&!o,t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=c,r=t._pt;r;)r.r(l,r.d),r=r._next;e<0&&B(t,e,0,!0),t._onUpdate&&!i&&Le(t,"onUpdate"),c&&t._repeat&&!i&&t.parent&&Le(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&I(t,1),i||yt||(Le(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},o.targets=function(){return this._targets},o.invalidate=function(e){return e&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},o.resetTo=function(t,e,i,n){Et||qe.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ni(this,r),function(t,e,i,n,r,s,o){var a,l,h,c,u=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!u)for(u=t._ptCache[e]=[],h=t._ptLookup,c=t._targets.length;c--;){if((a=h[c][e])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==e&&a.fp!==e;)a=a._next;if(!a)return ei=1,t.vars[e]="+=0",ni(t,o),ei=0,1;u.push(a)}for(c=u.length;c--;)(a=(l=u[c])._pt||l).s=!n&&0!==n||r?a.s+(n||0)+s*a.c:n,a.c=i-a.s,l.e&&(l.e=w(i)+$(l.e)),l.b&&(l.b=a.s+$(l.b))}(this,t,e,i,n,this._ease(r/this._dur),r)?this.resetTo(t,e,i,n):(F(this,0),this.parent||L(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},o.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ot(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ti&&!0!==ti.vars.overwrite)._first||ot(this),this.parent&&i!==this.timeline.totalDuration()&&Z(this,this._dur*this.timeline._tDur/i,0,1),this}var r,s,o,a,l,h,c,u=this._targets,d=t?Me(t):u,f=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(u,d))return"all"===e&&(this._pt=0),ot(this);for(r=this._op=this._op||[],"all"!==e&&(n(e)&&(l={},y(e,function(t){return l[t]=1}),e=l),e=function(t,e){var i,n,r,s,o=t[0]?v(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(n in i=Se({},e),a)if(n in i)for(r=(s=a[n].split(",")).length;r--;)i[s[r]]=i[n];return i}(u,e)),c=u.length;c--;)if(~d.indexOf(u[c]))for(l in s=f[c],"all"===e?(r[c]=e,a=s,o={}):(o=r[c]=r[c]||{},a=e),a)(h=s&&s[l])&&("kill"in h.d&&!0!==h.d.kill(l)||z(this,h,"_pt"),delete s[l]),"all"!==o&&(o[l]=1);return this._initted&&!this._pt&&p&&ot(this),this},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e){return X(1,arguments)},r.delayedCall=function(t,e,i,n){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},r.fromTo=function(t,e,i){return X(2,arguments)},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,i){return bt.killTweensOf(t,e,i)},r}($e);function li(t,e,i){return t.setAttribute(e,i)}function hi(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)}P(ai.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),y("staggerTo,staggerFrom,staggerFromTo",function(t){ai[t]=function(){var e=new Ke,i=Ee.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}});var ci=function(t,e,i){return t[e]=i},ui=function(t,e,i){return t[e](i)},di=function(t,e,i,n){return t[e](n.fp,i)},fi=function(t,e){return r(t[e])?ui:o(t[e])&&t.setAttribute?li:ci},pi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},gi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},mi=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},vi=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},_i=function(t,e,i,n){for(var r,s=this._pt;s;)r=s._next,s.p===n&&s.modifier(t,e,i),s=r},yi=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?z(this,n,"_pt"):n.dep||(e=1),n=i;return!e},wi=function(t){for(var e,i,n,r,s=t._pt;s;){for(e=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:r=s,s=e}t._pt=n},bi=(xi.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=hi,this.m=t,this.mt=i,this.tween=e},xi);function xi(t,e,i,n,r,s,o,a,l){this.t=e,this.s=n,this.c=r,this.p=i,this.r=s||pi,this.d=o||this,this.set=a||ci,this.pr=l||0,(this._next=t)&&(t._prev=this)}function Si(t){return(Ai[t]||Pi).map(function(t){return t()})}function Ci(){var t=Date.now(),e=[];2<t-Ei&&(Si("matchMediaInit"),ki.forEach(function(t){var i,n,r,s,o=t.queries,a=t.conditions;for(n in o)(i=xt.matchMedia(o[n]).matches)&&(r=1),i!==a[n]&&(a[n]=i,s=1);s&&(t.revert(),r&&e.push(t))}),Si("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t)}),Ei=t,Si("matchMedia"))}y(xe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ge[t]=1}),ue.TweenMax=ue.TweenLite=ai,ue.TimelineLite=ue.TimelineMax=Ke,bt=new Ke({sortChildren:!1,defaults:Xt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Yt.stringFilter=dt;var Ti,ki=[],Ai={},Pi=[],Ei=0,Mi=0,Oi=((Ti=Li.prototype).add=function(t,e,i){function n(){var t,n=wt,o=s.selector;return n&&n!==s&&n.data.push(s),i&&(s.selector=K(i)),wt=s,r(t=e.apply(s,arguments))&&s._r.push(t),wt=n,s.selector=o,s.isReverted=!1,t}r(t)&&(i=e,e=t,t=r);var s=this;return s.last=n,t===r?n(s):t?s[t]=n:n},Ti.ignore=function(t){var e=wt;wt=null,t(this),wt=e},Ti.getTweens=function(){var t=[];return this.data.forEach(function(e){return e instanceof Li?t.push.apply(t,e.getTweens()):e instanceof ai&&!(e.parent&&"nested"===e.parent.data)&&t.push(e)}),t},Ti.clear=function(){this._r.length=this.data.length=0},Ti.kill=function(t,e){var i=this;if(t){var n=this.getTweens();this.data.forEach(function(t){"isFlip"===t.data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(t){return n.splice(n.indexOf(t),1)}))}),n.map(function(t){return{g:t.globalTime(0),t:t}}).sort(function(t,e){return e.g-t.g||-1/0}).forEach(function(e){return e.t.revert(t)}),this.data.forEach(function(e){return!(e instanceof ai)&&e.revert&&e.revert(t)}),this._r.forEach(function(e){return e(t,i)}),this.isReverted=!0}else this.data.forEach(function(t){return t.kill&&t.kill()});if(this.clear(),e)for(var r=ki.length;r--;)ki[r].id===this.id&&ki.splice(r,1)},Ti.revert=function(t){this.kill(t||{})},Li);function Li(t,e){this.selector=e&&K(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Mi++,t&&this.add(t)}var zi,Ii=((zi=Di.prototype).add=function(t,e,i){a(t)||(t={matches:t});var n,r,s,o=new Oi(0,i||this.scope),l=o.conditions={};for(r in wt&&!o.selector&&(o.selector=wt.selector),this.contexts.push(o),e=o.add("onMatch",e),o.queries=t)"all"===r?s=1:(n=xt.matchMedia(t[r]))&&(ki.indexOf(o)<0&&ki.push(o),(l[r]=n.matches)&&(s=1),n.addListener?n.addListener(Ci):n.addEventListener("change",Ci));return s&&e(o),this},zi.revert=function(t){this.kill(t||{})},zi.kill=function(t){this.contexts.forEach(function(e){return e.kill(t,!0)})},Di);function Di(t){this.contexts=[],this.scope=t}var Bi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){return at(t)})},timeline:function(t){return new Ke(t)},getTweensOf:function(t,e){return bt.getTweensOf(t,e)},getProperty:function(t,e,i,r){n(t)&&(t=Me(t)[0]);var s=v(t||{}).get,o=i?A:k;return"native"===i&&(i=""),t?e?o((_e[e]&&_e[e].get||s)(t,e,i,r)):function(e,i,n){return o((_e[e]&&_e[e].get||s)(t,e,i,n))}:t},quickSetter:function(t,e,i){if(1<(t=Me(t)).length){var n=t.map(function(t){return Ni.quickSetter(t,e,i)}),r=n.length;return function(t){for(var e=r;e--;)n[e](t)}}t=t[0]||{};var s=_e[e],o=v(t),a=o.harness&&(o.harness.aliases||{})[e]||e,l=s?function(e){var n=new s;Pt._pt=0,n.init(t,i?e+i:e,Pt,0,[t]),n.render(1,n),Pt._pt&&vi(1,Pt)}:o.set(t,a);return s?l:function(e){return l(t,a,i?e+i:e,o,1)}},quickTo:function(t,e,i){function n(t,i,n){return s.resetTo(e,t,i,n)}var r,s=Ni.to(t,Se(((r={})[e]="+=0.1",r.paused=!0,r),i||{}));return n.tween=s,n},isTweening:function(t){return 0<bt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=Ve(t.ease,Xt.ease)),E(Xt,t||{})},config:function(t){return E(Yt,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,s=t.extendTimeline;(n||"").split(",").forEach(function(t){return t&&!_e[t]&&!ue[t]&&f(e+" effect requires "+t+" plugin.")}),ye[e]=function(t,e,n){return i(Me(t),P(e||{},r),n)},s&&(Ke.prototype[e]=function(t,i,n){return this.add(ye[e](t,a(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){Fe[t]=Ve(e)},parseEase:function(t,e){return arguments.length?Ve(t,e):Fe},getById:function(t){return bt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,r=new Ke(t);for(r.smoothChildTiming=l(t.smoothChildTiming),bt.remove(r),r._dp=0,r._time=r._tTime=bt._time,i=bt._first;i;)n=i._next,!e&&!i._dur&&i instanceof ai&&i.vars.onComplete===i._targets[0]||H(r,i,i._start-i._delay),i=n;return H(bt,r,0),r},context:function(t,e){return t?new Oi(t,e):wt},matchMedia:function(t){return new Ii(t)},matchMediaRefresh:function(){return ki.forEach(function(t){var e,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,e=1);e&&t.revert()})||Ci()},addEventListener:function(t,e){var i=Ai[t]||(Ai[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Ai[t],n=i&&i.indexOf(e);0<=n&&i.splice(n,1)},utils:{wrap:function t(e,i,n){var r=i-e;return ne(e)?nt(e,t(0,e.length),i):U(n,function(t){return(r+(t-e)%r)%r+e})},wrapYoyo:function t(e,i,n){var r=i-e,s=2*r;return ne(e)?nt(e,t(0,e.length-1),i):U(n,function(t){return e+(r<(t=(s+(t-e)%s)%s||0)?s-t:t)})},distribute:Q,random:it,snap:et,normalize:function(t,e,i){return Oe(t,e,0,1,i)},getUnit:$,clamp:function(t,e,i){return U(i,function(i){return Pe(t,e,i)})},splitColor:ht,toArray:Me,selector:K,mapRange:Oe,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||$(i))}},interpolate:function t(e,i,r,s){var o=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!o){var a,l,h,c,u,d=n(e),f={};if(!0===r&&(s=1)&&(r=null),d)e={p:e},i={p:i};else if(ne(e)&&!ne(i)){for(h=[],c=e.length,u=c-2,l=1;l<c;l++)h.push(t(e[l-1],e[l]));c--,o=function(t){t*=c;var e=Math.min(u,~~t);return h[e](t-e)},r=i}else s||(e=Se(ne(e)?[]:{},e));if(!h){for(a in i)ii.call(f,e,a,"get",i[a]);o=function(t){return vi(t,f)||(d?e.p:e)}}}return U(r,o)},shuffle:J},install:u,effects:ye,ticker:qe,updateRoot:Ke.updateRoot,plugins:_e,globalTimeline:bt,core:{PropTween:bi,globals:p,Tween:ai,Timeline:Ke,Animation:$e,getCache:v,_removeLinkedListItem:z,reverting:function(){return yt},context:function(t){return t&&wt&&(wt.data.push(t),t._ctx=wt),wt},suppressOverwrites:function(t){return _t=t}}};function Ri(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i}function qi(t,e){return{name:t,rawVars:1,init:function(t,i,r){r._onInit=function(t){var r,s;if(n(i)&&(r={},y(i,function(t){return r[t]=1}),i=r),e){for(s in r={},i)r[s]=e(i[s]);i=r}!function(t,e){var i,n,r,s=t._targets;for(i in e)for(n=s.length;n--;)(r=(r=t._ptLookup[n][i])&&r.d)&&(r._pt&&(r=Ri(r,i)),r&&r.modifier&&r.modifier(e[i],t,s[n],i))}(t,i)}}}}y("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Bi[t]=ai[t]}),qe.add(Ke.updateRoot),Pt=Bi.to({},{duration:0});var Ni=Bi.registerPlugin({name:"attr",init:function(t,e,i,n,r){var s,o,a;for(s in this.tween=i,e)a=t.getAttribute(s)||"",(o=this.add(t,"setAttribute",(a||0)+"",e[s],n,r,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(t,e){for(var i=e._pt;i;)yt?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},qi("roundProps",tt),qi("modifiers"),qi("snap",et))||Bi;function Fi(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function ji(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Hi(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function Wi(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)}function Vi(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function Zi(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function Yi(t,e,i){return t.style[e]=i}function Xi(t,e,i){return t.style.setProperty(e,i)}function Ui(t,e,i){return t._gsap[e]=i}function $i(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i}function Gi(t,e,i,n,r){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(r,s)}function Ki(t,e,i,n,r){var s=t._gsap;s[e]=i,s.renderTransform(r,s)}function Ji(t,e){var i=this,n=this.target,r=n.style;if(t in Gn&&r){if(this.tfm=this.tfm||{},"transform"===t)return nr.transform.split(",").forEach(function(t){return Ji.call(i,t,e)});if(~(t=nr[t]||t).indexOf(",")?t.split(",").forEach(function(t){return i.tfm[t]=cr(n,t)}):this.tfm[t]=n._gsap.x?n._gsap[t]:cr(n,t),0<=this.props.indexOf(rr))return;n._gsap.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(sr,e,"")),t=rr}(r||e)&&this.props.push(t,e,r[t])}function Qi(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))}function tn(){var t,e,i=this.props,n=this.target,r=n.style,s=n._gsap;for(t=0;t<i.length;t+=3)i[t+1]?n[i[t]]=i[t+2]:i[t+2]?r[i[t]]=i[t+2]:r.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(tr,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=Mn())&&t.isStart||r[rr]||(Qi(r),s.uncache=1)}}function en(t,e){var i={target:t,props:[],revert:tn,save:Ji};return t._gsap||Ni.core.getCache(t),e&&e.split(",").forEach(function(t){return i.save(t)}),i}function nn(t,e){var i=Tn.createElementNS?Tn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Tn.createElement(t);return i.style?i:Tn.createElement(t)}function rn(t,e,i){var n=getComputedStyle(t);return n[e]||n.getPropertyValue(e.replace(tr,"-$1").toLowerCase())||n.getPropertyValue(e)||!i&&rn(t,ar(e)||e,1)||""}function sn(){"undefined"!=typeof window&&window.document&&(Cn=window,Tn=Cn.document,kn=Tn.documentElement,Pn=nn("div")||{style:{}},nn("div"),rr=ar(rr),sr=rr+"Origin",Pn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",On=!!ar("perspective"),Mn=Ni.core.reverting,An=1)}function on(t){var e,i=nn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(kn.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=on}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),kn.removeChild(i),this.style.cssText=s,e}function an(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])}function ln(t){var e;try{e=t.getBBox()}catch(i){e=on.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===on||(e=on.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+an(t,["x","cx","x1"])||0,y:+an(t,["y","cy","y1"])||0,width:0,height:0}}function hn(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!ln(t))}function cn(t,e){if(e){var i=t.style;e in Gn&&e!==sr&&(e=rr),i.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty(e.replace(tr,"-$1").toLowerCase())):i.removeAttribute(e)}}function un(t,e,i,n,r,s){var o=new bi(t._pt,e,i,0,1,s?Zi:Vi);return(t._pt=o).b=n,o.e=r,t._props.push(i),o}function dn(t,e,i,n){var r,s,o,a,l=parseFloat(i)||0,h=(i+"").trim().substr((l+"").length)||"px",c=Pn.style,u=er.test(e),d="svg"===t.tagName.toLowerCase(),f=(d?"client":"offset")+(u?"Width":"Height"),p="px"===n,g="%"===n;return n===h||!l||lr[n]||lr[h]?l:("px"===h||p||(l=dn(t,e,i,"px")),a=t.getCTM&&hn(t),!g&&"%"!==h||!Gn[e]&&!~e.indexOf("adius")?(c[u?"width":"height"]=100+(p?h:n),s=~e.indexOf("adius")||"em"===n&&t.appendChild&&!d?t:t.parentNode,a&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==Tn&&s.appendChild||(s=Tn.body),(o=s._gsap)&&g&&o.width&&u&&o.time===qe.time&&!o.uncache?w(l/o.width*100):(!g&&"%"!==h||hr[rn(s,"display")]||(c.position=rn(t,"position")),s===t&&(c.position="static"),s.appendChild(Pn),r=Pn[f],s.removeChild(Pn),c.position="absolute",u&&g&&((o=v(s)).time=qe.time,o.width=s[f]),w(p?r*l/100:r&&l?100/r*l:0))):(r=a?t.getBBox()[u?"width":"height"]:t[f],w(g?l/r*100:l/100*r)))}function fn(t,e,i,n){if(!i||"none"===i){var r=ar(e,t,1),s=r&&rn(t,r,1);s&&s!==i?(e=r,i=s):"borderColor"===e&&(i=rn(t,"borderTopColor"))}var o,a,l,h,c,u,d,f,p,g,m,v=new bi(this._pt,t.style,e,0,1,mi),_=0,y=0;if(v.b=i,v.e=n,i+="","auto"==(n+="")&&(t.style[e]=n,n=rn(t,e)||n,t.style[e]=i),dt(o=[i,n]),n=o[1],l=(i=o[0]).match(oe)||[],(n.match(oe)||[]).length){for(;a=oe.exec(n);)d=a[0],p=n.substring(_,a.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),d!==(u=l[y++]||"")&&(h=parseFloat(u)||0,m=u.substr((h+"").length),"="===d.charAt(1)&&(d=x(h,d)+m),f=parseFloat(d),g=d.substr((f+"").length),_=oe.lastIndex-g.length,g||(g=g||Yt.units[e]||m,_===n.length&&(n+=g,v.e+=g)),m!==g&&(h=dn(t,e,u,g)||0),v._pt={_next:v._pt,p:p||1===y?p:",",s:h,c:f-h,m:c&&c<4||"zIndex"===e?Math.round:0});v.c=_<n.length?n.substring(_,n.length):""}else v.r="display"===e&&"none"===n?Zi:Vi;return le.test(n)&&(v.e=0),this._pt=v}function pn(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return"top"!==i&&"bottom"!==i&&"left"!==n&&"right"!==n||(t=i,i=n,n=t),e[0]=ur[i]||i,e[1]=ur[n]||n,e.join(" ")}function gn(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,r,s=e.t,o=s.style,a=e.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",n=1;else for(r=(a=a.split(",")).length;-1<--r;)i=a[r],Gn[i]&&(n=1,i="transformOrigin"===i?sr:rr),cn(s,i);n&&(cn(s,rr),l&&(l.svg&&s.removeAttribute("transform"),gr(s,1),l.uncache=1,Qi(o)))}}function mn(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function vn(t){var e=rn(t,rr);return mn(e)?fr:e.substr(7).match(se).map(w)}function _n(t,e){var i,n,r,s,o=t._gsap||v(t),a=t.style,l=vn(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?fr:l:(l!==fr||t.offsetParent||t===kn||o.svg||(r=a.display,a.display="block",(i=t.parentNode)&&t.offsetParent||(s=1,n=t.nextElementSibling,kn.appendChild(t)),l=vn(t),r?a.display=r:cn(t,"display"),s&&(n?i.insertBefore(t,n):i?i.appendChild(t):kn.removeChild(t))),e&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function yn(t,e,i,n,r,s){var o,a,l,h=t._gsap,c=r||_n(t,!0),u=h.xOrigin||0,d=h.yOrigin||0,f=h.xOffset||0,p=h.yOffset||0,g=c[0],m=c[1],v=c[2],_=c[3],y=c[4],w=c[5],b=e.split(" "),x=parseFloat(b[0])||0,S=parseFloat(b[1])||0;i?c!==fr&&(a=g*_-m*v)&&(l=x*(-m/a)+S*(g/a)-(g*w-m*y)/a,x=x*(_/a)+S*(-v/a)+(v*w-_*y)/a,S=l):(x=(o=ln(t)).x+(~b[0].indexOf("%")?x/100*o.width:x),S=o.y+(~(b[1]||b[0]).indexOf("%")?S/100*o.height:S)),n||!1!==n&&h.smooth?(y=x-u,w=S-d,h.xOffset=f+(y*g+w*v)-y,h.yOffset=p+(y*m+w*_)-w):h.xOffset=h.yOffset=0,h.xOrigin=x,h.yOrigin=S,h.smooth=!!n,h.origin=e,h.originIsAbsolute=!!i,t.style[sr]="0px 0px",s&&(un(s,h,"xOrigin",u,x),un(s,h,"yOrigin",d,S),un(s,h,"xOffset",f,h.xOffset),un(s,h,"yOffset",p,h.yOffset)),t.setAttribute("data-svg-origin",x+" "+S)}function wn(t,e,i){var n=$(e);return w(parseFloat(e)+parseFloat(dn(t,"x",i+"px",n)))+n}function bn(t,e,i,r,s){var o,a,l=360,h=n(s),c=parseFloat(s)*(h&&~s.indexOf("rad")?Kn:1)-r,u=r+c+"deg";return h&&("short"===(o=s.split("_")[1])&&(c%=l)!=c%180&&(c+=c<0?l:-l),"cw"===o&&c<0?c=(c+36e9)%l-~~(c/l)*l:"ccw"===o&&0<c&&(c=(c-36e9)%l-~~(c/l)*l)),t._pt=a=new bi(t._pt,e,i,r,c,ji),a.e=u,a.u="deg",t._props.push(i),a}function xn(t,e){for(var i in e)t[i]=e[i];return t}function Sn(t,e,i){var n,r,s,o,a,l,h,c=xn({},i._gsap),u=i.style;for(r in c.svg?(s=i.getAttribute("transform"),i.setAttribute("transform",""),u[rr]=e,n=gr(i,1),cn(i,rr),i.setAttribute("transform",s)):(s=getComputedStyle(i)[rr],u[rr]=e,n=gr(i,1),u[rr]=s),Gn)(s=c[r])!==(o=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(a=$(s)!==(h=$(o))?dn(i,r,s,h):parseFloat(s),l=parseFloat(o),t._pt=new bi(t._pt,n,r,a,l-a,Fi),t._pt.u=h||0,t._props.push(r));xn(n,c)}ai.version=Ke.version=Ni.version="3.12.2",kt=1,h()&&Ne();var Cn,Tn,kn,An,Pn,En,Mn,On,Ln=Fe.Power0,zn=Fe.Power1,In=Fe.Power2,Dn=Fe.Power3,Bn=Fe.Power4,Rn=Fe.Linear,qn=Fe.Quad,Nn=Fe.Cubic,Fn=Fe.Quart,jn=Fe.Quint,Hn=Fe.Strong,Wn=Fe.Elastic,Vn=Fe.Back,Zn=Fe.SteppedEase,Yn=Fe.Bounce,Xn=Fe.Sine,Un=Fe.Expo,$n=Fe.Circ,Gn={},Kn=180/Math.PI,Jn=Math.PI/180,Qn=Math.atan2,tr=/([A-Z])/g,er=/(left|right|width|margin|padding|x)/i,ir=/[\s,\(]\S/,nr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rr="transform",sr=rr+"Origin",or="O,Moz,ms,Ms,Webkit".split(","),ar=function(t,e,i){var n=(e||Pn).style,r=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(or[r]+t in n););return r<0?null:(3===r?"ms":0<=r?or[r]:"")+t},lr={deg:1,rad:1,turn:1},hr={grid:1,flex:1},cr=function(t,e,i,n){var r;return An||sn(),e in nr&&"transform"!==e&&~(e=nr[e]).indexOf(",")&&(e=e.split(",")[0]),Gn[e]&&"transform"!==e?(r=gr(t,n),r="transformOrigin"!==e?r[e]:r.svg?r.origin:mr(rn(t,sr))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!n&&!~(r+"").indexOf("calc(")||(r=dr[e]&&dr[e](t,e,i)||rn(t,e)||_(t,e)||("opacity"===e?1:0)),i&&!~(r+"").trim().indexOf(" ")?dn(t,e,r,i)+i:r},ur={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},dr={clearProps:function(t,e,i,n,r){if("isFromStart"!==r.data){var s=t._pt=new bi(t._pt,e,i,0,0,gn);return s.u=n,s.pr=-10,s.tween=r,t._props.push(i),1}}},fr=[1,0,0,1,0,0],pr={},gr=function(t,e){var i=t._gsap||new Ue(t);if("x"in i&&!e&&!i.uncache)return i;var n,r,s,o,a,l,h,c,u,d,f,p,g,m,v,_,y,b,x,S,C,T,k,A,P,E,M,O,L,z,I,D,B=t.style,R=i.scaleX<0,q="deg",N=getComputedStyle(t),F=rn(t,sr)||"0";return n=r=s=l=h=c=u=d=f=0,o=a=1,i.svg=!(!t.getCTM||!hn(t)),N.translate&&("none"===N.translate&&"none"===N.scale&&"none"===N.rotate||(B[rr]=("none"!==N.translate?"translate3d("+(N.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==N.rotate?"rotate("+N.rotate+") ":"")+("none"!==N.scale?"scale("+N.scale.split(" ").join(",")+") ":"")+("none"!==N[rr]?N[rr]:"")),B.scale=B.rotate=B.translate="none"),m=_n(t,i.svg),i.svg&&yn(t,(A=i.uncache?(P=t.getBBox(),F=i.xOrigin-P.x+"px "+(i.yOrigin-P.y)+"px",""):!e&&t.getAttribute("data-svg-origin"))||F,!!A||i.originIsAbsolute,!1!==i.smooth,m),p=i.xOrigin||0,g=i.yOrigin||0,m!==fr&&(b=m[0],x=m[1],S=m[2],C=m[3],n=T=m[4],r=k=m[5],6===m.length?(o=Math.sqrt(b*b+x*x),a=Math.sqrt(C*C+S*S),l=b||x?Qn(x,b)*Kn:0,(u=S||C?Qn(S,C)*Kn+l:0)&&(a*=Math.abs(Math.cos(u*Jn))),i.svg&&(n-=p-(p*b+g*S),r-=g-(p*x+g*C))):(D=m[6],z=m[7],M=m[8],O=m[9],L=m[10],I=m[11],n=m[12],r=m[13],s=m[14],h=(v=Qn(D,L))*Kn,v&&(A=T*(_=Math.cos(-v))+M*(y=Math.sin(-v)),P=k*_+O*y,E=D*_+L*y,M=T*-y+M*_,O=k*-y+O*_,L=D*-y+L*_,I=z*-y+I*_,T=A,k=P,D=E),c=(v=Qn(-S,L))*Kn,v&&(_=Math.cos(-v),I=C*(y=Math.sin(-v))+I*_,b=A=b*_-M*y,x=P=x*_-O*y,S=E=S*_-L*y),l=(v=Qn(x,b))*Kn,v&&(A=b*(_=Math.cos(v))+x*(y=Math.sin(v)),P=T*_+k*y,x=x*_-b*y,k=k*_-T*y,b=A,T=P),h&&359.9<Math.abs(h)+Math.abs(l)&&(h=l=0,c=180-c),o=w(Math.sqrt(b*b+x*x+S*S)),a=w(Math.sqrt(k*k+D*D)),v=Qn(T,k),u=2e-4<Math.abs(v)?v*Kn:0,f=I?1/(I<0?-I:I):0),i.svg&&(A=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!mn(rn(t,rr)),A&&t.setAttribute("transform",A))),90<Math.abs(u)&&Math.abs(u)<270&&(R?(o*=-1,u+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),e=e||i.uncache,i.x=n-((i.xPercent=n&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+"px",i.y=r-((i.yPercent=r&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+"px",i.z=s+"px",i.scaleX=w(o),i.scaleY=w(a),i.rotation=w(l)+q,i.rotationX=w(h)+q,i.rotationY=w(c)+q,i.skewX=u+q,i.skewY=d+q,i.transformPerspective=f+"px",(i.zOrigin=parseFloat(F.split(" ")[2])||0)&&(B[sr]=mr(F)),i.xOffset=i.yOffset=0,i.force3D=Yt.force3D,i.renderTransform=i.svg?xr:On?br:vr,i.uncache=0,i},mr=function(t){return(t=t.split(" "))[0]+" "+t[1]},vr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,br(t,e)},_r="0deg",yr="0px",wr=") ",br=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,s=i.x,o=i.y,a=i.z,l=i.rotation,h=i.rotationY,c=i.rotationX,u=i.skewX,d=i.skewY,f=i.scaleX,p=i.scaleY,g=i.transformPerspective,m=i.force3D,v=i.target,_=i.zOrigin,y="",w="auto"===m&&t&&1!==t||!0===m;if(_&&(c!==_r||h!==_r)){var b,x=parseFloat(h)*Jn,S=Math.sin(x),C=Math.cos(x);x=parseFloat(c)*Jn,s=wn(v,s,S*(b=Math.cos(x))*-_),o=wn(v,o,-Math.sin(x)*-_),a=wn(v,a,C*b*-_+_)}g!==yr&&(y+="perspective("+g+wr),(n||r)&&(y+="translate("+n+"%, "+r+"%) "),!w&&s===yr&&o===yr&&a===yr||(y+=a!==yr||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+wr),l!==_r&&(y+="rotate("+l+wr),h!==_r&&(y+="rotateY("+h+wr),c!==_r&&(y+="rotateX("+c+wr),u===_r&&d===_r||(y+="skew("+u+", "+d+wr),1===f&&1===p||(y+="scale("+f+", "+p+wr),v.style[rr]=y||"translate(0, 0)"},xr=function(t,e){var i,n,r,s,o,a=e||this,l=a.xPercent,h=a.yPercent,c=a.x,u=a.y,d=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,_=a.xOrigin,y=a.yOrigin,b=a.xOffset,x=a.yOffset,S=a.forceCSS,C=parseFloat(c),T=parseFloat(u);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Jn,f*=Jn,i=Math.cos(d)*g,n=Math.sin(d)*g,r=Math.sin(d-f)*-m,s=Math.cos(d-f)*m,f&&(p*=Jn,o=Math.tan(f-p),r*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),i*=o=Math.sqrt(1+o*o),n*=o)),i=w(i),n=w(n),r=w(r),s=w(s)):(i=g,s=m,n=r=0),(C&&!~(c+"").indexOf("px")||T&&!~(u+"").indexOf("px"))&&(C=dn(v,"x",c,"px"),T=dn(v,"y",u,"px")),(_||y||b||x)&&(C=w(C+_-(_*i+y*r)+b),T=w(T+y-(_*n+y*s)+x)),(l||h)&&(C=w(C+l/100*(o=v.getBBox()).width),T=w(T+h/100*o.height)),o="matrix("+i+","+n+","+r+","+s+","+C+","+T+")",v.setAttribute("transform",o),S&&(v.style[rr]=o)};y("padding,margin,Width,Radius",function(t,e){var i="Right",n="Bottom",r="Left",s=(e<3?["Top",i,n,r]:["Top"+r,"Top"+i,n+i,n+r]).map(function(i){return e<2?t+i:"border"+i+t});dr[1<e?"border"+t:t]=function(t,e,i,n,r){var o,a;if(arguments.length<4)return o=s.map(function(e){return cr(t,e,i)}),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(n+"").split(" "),a={},s.forEach(function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]}),t.init(e,a,r)}});var Sr,Cr,Tr,kr={name:"css",register:sn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,s){var o,a,l,h,c,u,f,p,g,m,v,_,y,w,b,S,C=this._props,T=t.style,k=i.vars.startAt;for(f in An||sn(),this.styles=this.styles||en(t),S=this.styles.props,this.tween=i,e)if("autoRound"!==f&&(a=e[f],!_e[f]||!Je(f,e,i,r,t,s)))if(c=typeof a,u=dr[f],"function"===c&&(c=typeof(a=a.call(i,r,t,s))),"string"===c&&~a.indexOf("random(")&&(a=rt(a)),u)u(this,t,f,a,i)&&(b=1);else if("--"===f.substr(0,2))o=(getComputedStyle(t).getPropertyValue(f)+"").trim(),a+="",Be.lastIndex=0,Be.test(o)||(p=$(o),g=$(a)),g?p!==g&&(o=dn(t,f,o,g)+g):p&&(a+=p),this.add(T,"setProperty",o,a,r,s,0,0,f),C.push(f),S.push(f,0,T[f]);else if("undefined"!==c){if(k&&f in k?(n(o="function"==typeof k[f]?k[f].call(i,r,t,s):k[f])&&~o.indexOf("random(")&&(o=rt(o)),$(o+"")||(o+=Yt.units[f]||$(cr(t,f))||""),"="===(o+"").charAt(1)&&(o=cr(t,f))):o=cr(t,f),h=parseFloat(o),(m="string"===c&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),l=parseFloat(a),f in nr&&("autoAlpha"===f&&(1===h&&"hidden"===cr(t,"visibility")&&l&&(h=0),S.push("visibility",0,T.visibility),un(this,T,"visibility",h?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==f&&"transform"!==f&&~(f=nr[f]).indexOf(",")&&(f=f.split(",")[0])),v=f in Gn)if(this.styles.save(f),_||((y=t._gsap).renderTransform&&!e.parseTransform||gr(t,e.parseTransform),w=!1!==e.smoothOrigin&&y.smooth,(_=this._pt=new bi(this._pt,T,rr,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===f)this._pt=new bi(this._pt,y,"scaleY",y.scaleY,(m?x(y.scaleY,m+l):l)-y.scaleY||0,Fi),this._pt.u=0,C.push("scaleY",f),f+="X";else{if("transformOrigin"===f){S.push(sr,0,T[sr]),a=pn(a),y.svg?yn(t,a,0,w,0,this):((g=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&un(this,y,"zOrigin",y.zOrigin,g),un(this,T,f,mr(o),mr(a)));continue}if("svgOrigin"===f){yn(t,a,1,w,0,this);continue}if(f in pr){bn(this,y,f,h,m?x(h,m+a):a);continue}if("smoothOrigin"===f){un(this,y,"smooth",y.smooth,a);continue}if("force3D"===f){y[f]=a;continue}if("transform"===f){Sn(this,a,t);continue}}else f in T||(f=ar(f)||f);if(v||(l||0===l)&&(h||0===h)&&!ir.test(a)&&f in T)l=l||0,(p=(o+"").substr((h+"").length))!==(g=$(a)||(f in Yt.units?Yt.units[f]:p))&&(h=dn(t,f,o,g)),this._pt=new bi(this._pt,v?y:T,f,h,(m?x(h,m+l):l)-h,v||"px"!==g&&"zIndex"!==f||!1===e.autoRound?Fi:Wi),this._pt.u=g||0,p!==g&&"%"!==g&&(this._pt.b=o,this._pt.r=Hi);else if(f in T)fn.call(this,t,f,o,m?m+a:a);else if(f in t)this.add(t,f,o||t[f],m?m+a:a,r,s);else if("parseTransform"!==f){d(f,a);continue}v||(f in T?S.push(f,0,T[f]):S.push(f,1,o||t[f])),C.push(f)}b&&wi(this)},render:function(t,e){if(e.tween._time||!Mn())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:cr,aliases:nr,getSetter:function(t,e,i){var n=nr[e];return n&&n.indexOf(",")<0&&(e=n),e in Gn&&e!==sr&&(t._gsap.x||cr(t,"x"))?i&&En===i?"scale"===e?$i:Ui:(En=i||{})&&("scale"===e?Gi:Ki):t.style&&!o(t.style[e])?Yi:~e.indexOf("-")?Xi:fi(t,e)},core:{_removeProperty:cn,_getMatrix:_n}};Ni.utils.checkPrefix=ar,Ni.core.getStyleSaver=en,Tr=y((Sr="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Cr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){Gn[t]=1}),y(Cr,function(t){Yt.units[t]="deg",pr[t]=1}),nr[Tr[13]]=Sr+","+Cr,y("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");nr[e[1]]=Tr[e[0]]}),y("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Yt.units[t]="px"}),Ni.registerPlugin(kr);var Ar=Ni.registerPlugin(kr)||Ni,Pr=Ar.core.Tween;t.Back=Vn,t.Bounce=Yn,t.CSSPlugin=kr,t.Circ=$n,t.Cubic=Nn,t.Elastic=Wn,t.Expo=Un,t.Linear=Rn,t.Power0=Ln,t.Power1=zn,t.Power2=In,t.Power3=Dn,t.Power4=Bn,t.Quad=qn,t.Quart=Fn,t.Quint=jn,t.Sine=Xn,t.SteppedEase=Zn,t.Strong=Hn,t.TimelineLite=Ke,t.TimelineMax=Ke,t.TweenLite=ai,t.TweenMax=Pr,t.default=Ar,t.gsap=Ar,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(t){return t}function i(t){return U(t)[0]||(yt(t)&&!1!==F.config().nullTargetWarn?console.warn("Element not found:",t):null)}function n(t){return Math.round(1e5*t)/1e5||0}function r(){return"undefined"!=typeof window}function s(){return F||r()&&(F=window.gsap)&&F.registerPlugin&&F}function o(t){return!!~Y.indexOf(t)}function a(t,e){return~ft.indexOf(t)&&ft[ft.indexOf(t)+1][e]}function l(t,e){var i=e.s,n=e.sc,r=pt.indexOf(t),s=n===qt.sc?1:2;return~r||(r=pt.push(t)-1),pt[r+s]||(pt[r+s]=a(t,i)||(o(t)?n:function(e){return arguments.length?t[i]=e:t[i]}))}function h(t){return a(t,"getBoundingClientRect")||(o(t)?function(){return ae.width=H.innerWidth,ae.height=H.innerHeight,ae}:function(){return Nt(t)})}function c(t,e){var i=e.s,n=e.d2,r=e.d,s=e.a;return(i="scroll"+n)&&(s=a(t,i))?s()-h(t)()[r]:o(t)?(Z[i]||V[i])-(H["inner"+n]||V["client"+n]||Z["client"+n]):t[i]-t["offset"+n]}function u(t,e){for(var i=0;i<rt.length;i+=3)e&&!~e.indexOf(rt[i+1])||t(rt[i],rt[i+1],rt[i+2])}function d(t){return"function"==typeof t}function f(t){return"number"==typeof t}function p(t){return"object"==typeof t}function g(t){return d(t)&&t()}function m(t,e){return function(){var i=g(t),n=g(e);return function(){g(i),g(n)}}}function v(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()}function _(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}}function y(t){return H.getComputedStyle(t)}function w(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function b(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0}function x(t){var e,i=[],n=t.labels,r=t.duration();for(e in n)i.push(n[e]/r);return i}function S(t){var e=F.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(t,e){return t-e});return i?function(t,n,r){var s;if(void 0===r&&(r=.001),!n)return e(t);if(0<n){for(t-=r,s=0;s<i.length;s++)if(i[s]>=t)return i[s];return i[s-1]}for(s=i.length,t+=r;s--;)if(i[s]<=t)return i[s];return i[0]}:function(i,n,r){void 0===r&&(r=.001);var s=e(i);return!n||Math.abs(s-i)<r||s-i<0==n<0?s:e(n<0?i-t:i+t)}}function C(t,e,i,n){return i.split(",").forEach(function(i){return t(e,i,n)})}function T(t,e,i){return t.addEventListener(e,i,{passive:!0})}function k(t,e,i){return t.removeEventListener(e,i)}function A(t,e){if(yt(t)){var i=t.indexOf("="),n=~i?(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(n*=e/100),t=t.substr(0,i-1)),t=n+(t in Ht?Ht[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t}function P(t,e,i,n,r,s,l,h){var c=r.startColor,u=r.endColor,d=r.fontSize,f=r.indent,p=r.fontWeight,g=W.createElement("div"),m=o(i)||"fixed"===a(i,"pinType"),v=-1!==t.indexOf("scroller"),_=m?Z:i,y=-1!==t.indexOf("start"),w=y?c:u,b="border-color:"+w+";font-size:"+d+";color:"+w+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((v||h)&&m?"fixed;":"absolute;"),!v&&!h&&m||(b+=(n===qt?Ct:Tt)+":"+(s+parseFloat(f))+"px;"),l&&(b+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),g._isStart=y,g.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),g.style.cssText=b,g.innerText=e||0===e?t+"-"+e:t,_.children[0]?_.insertBefore(g,_.children[0]):_.appendChild(g),g._offset=g["offset"+n.op.d2],Wt(g,0,n,y),g}function E(){return 34<gt()-vt&&ie()}function M(){ie(),vt||$t("scrollStart"),vt=gt()}function O(){return!J&&!at&&!W.fullscreenElement&&X.restart(!0)}function L(t){var e,i=F.ticker.frame,n=[],r=0;if(ct!==i||dt){for(Jt();r<Ut.length;r+=4)(e=H.matchMedia(Ut[r]).matches)!==Ut[r+3]&&((Ut[r+3]=e)?n.push(r):Jt(1,Ut[r])||d(Ut[r+2])&&Ut[r+2]());for(Kt(),r=0;r<n.length;r++)e=n[r],ht=Ut[e],Ut[e+2]=Ut[e+1](t);ht=0,j&&Qt(0,1),ct=i,$t("matchMedia")}}function z(){return k(he,"scrollEnd",z)||Qt(!0)}function I(){return pt.forEach(function(t){return"function"==typeof t&&(t.rec=0)})}function D(t,e,i,n){if(t.parentNode!==e){for(var r,s=ne.length,o=e.style,a=t.style;s--;)o[r=ne[s]]=i[r];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[Tt]=a[Ct]=o.flexBasis="auto",o.overflow="visible",o.boxSizing="border-box",o[kt]=b(t,Rt)+Bt,o[At]=b(t,qt)+Bt,o[Lt]=a[zt]=a.top=a[St]="0",oe(n),a[kt]=a.maxWidth=i[kt],a[At]=a.maxHeight=i[At],a[Lt]=i[Lt],t.parentNode.insertBefore(e,t),e.appendChild(t)}}function B(t){for(var e=re.length,i=t.style,n=[],r=0;r<e;r++)n.push(re[r],i[re[r]]);return n.t=t,n}function R(t,e,n,r,s,o,a,l,h,c,u,p,g){d(t)&&(t=t(l)),yt(t)&&"max"===t.substr(0,3)&&(t=p+("="===t.charAt(4)?A("0"+t.substr(3),n):0));var m,v,_,w=g?g.time():0;if(g&&g.seek(0),f(t))a&&Wt(a,n,r,!0);else{d(e)&&(e=e(l));var b,x,S,C,T=t.split(" ");_=i(e)||Z,(b=Nt(_)||{})&&(b.left||b.top)||"none"!==y(_).display||(C=_.style.display,_.style.display="block",b=Nt(_),C?_.style.display=C:_.style.removeProperty("display")),x=A(T[0],b[r.d]),S=A(T[1]||"0",n),t=b[r.p]-h[r.p]-c+x+s-S,a&&Wt(a,S,r,n-S<20||a._isStart&&20<S),n-=n-S}if(o){var k=t+n,P=o._isStart;m="scroll"+r.d2,Wt(o,k,r,P&&20<k||!P&&(u?Math.max(Z[m],V[m]):o.parentNode[m])<=k+1),u&&(h=Nt(a),u&&(o.style[r.op.p]=h[r.op.p]-r.op.m-o._offset+Bt))}return g&&_&&(m=Nt(_),g.seek(p),v=Nt(_),g._caScrollDist=m[r.p]-v[r.p],t=t/g._caScrollDist*p),g&&g.seek(w),g?t:Math.round(t)}function q(t,e,i,n){if(t.parentNode!==e){var r,s,o=t.style;if(e===Z){for(r in t._stOrig=o.cssText,s=y(t))+r||le.test(r)||!s[r]||"string"!=typeof o[r]||"0"===r||(o[r]=s[r]);o.top=i,o.left=n}else o.cssText=t._stOrig;F.core.getCache(t).uncache=1,e.appendChild(t)}}function N(t,e){function i(e,l,h,c,u){var d=i.tween,f=l.onComplete;return d&&d.kill(),r=Math.round(h),l[a]=e,(l.modifiers={})[a]=function(t){return(t=n(o()))!==r&&t!==s&&2<Math.abs(t-r)&&2<Math.abs(t-s)?(d.kill(),i.tween=0):t=h+c*d.ratio+u*d.ratio*d.ratio,s=r,r=n(t)},l.onComplete=function(){i.tween=0,f&&f.call(d)},d=i.tween=F.to(t,l)}var r,s,o=l(t,e),a="_scroll"+e.p2;return t[a]=o,T(t,"wheel",function(){return i.tween&&i.tween.kill()&&(i.tween=0)}),i}var F,j,H,W,V,Z,Y,X,U,$,G,K,J,Q,tt,et,it,nt,rt,st,ot,at,lt,ht,ct,ut,dt=1,ft=[],pt=[],gt=Date.now,mt=gt(),vt=0,_t=1,yt=function(t){return"string"==typeof t},wt=Math.abs,bt="scrollLeft",xt="scrollTop",St="left",Ct="right",Tt="bottom",kt="width",At="height",Pt="Right",Et="Left",Mt="Top",Ot="Bottom",Lt="padding",zt="margin",It="Width",Dt="Height",Bt="px",Rt={s:bt,p:St,p2:Et,os:Ct,os2:Pt,d:kt,d2:It,a:"x",sc:function(t){return arguments.length?H.scrollTo(t,qt.sc()):H.pageXOffset||W[bt]||V[bt]||Z[bt]||0}},qt={s:xt,p:"top",p2:Mt,os:Tt,os2:Ot,d:At,d2:Dt,a:"y",op:Rt,sc:function(t){return arguments.length?H.scrollTo(Rt.sc(),t):H.pageYOffset||W[xt]||V[xt]||Z[xt]||0}},Nt=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==y(t)[tt]&&F.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},Ft={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},jt={toggleActions:"play",anticipatePin:0},Ht={top:0,left:0,center:.5,bottom:1,right:1},Wt=function(t,e,i,n){var r={display:"block"},s=i[n?"os2":"p2"],o=i[n?"p2":"os2"];t._isFlipped=n,r[i.a+"Percent"]=n?-100:0,r[i.a]=n?"1px":0,r["border"+s+It]=1,r["border"+o+It]=0,r[i.p]=e+"px",F.set(t,r)},Vt=[],Zt={},Yt={},Xt=[],Ut=[],$t=function(t){return Yt[t]&&Yt[t].map(function(t){return t()})||Xt},Gt=[],Kt=function(t){for(var e=0;e<Gt.length;e+=5)t&&Gt[e+4]!==t||(Gt[e].style.cssText=Gt[e+1],Gt[e].getBBox&&Gt[e].setAttribute("transform",Gt[e+2]||""),Gt[e+3].uncache=1)},Jt=function(t,e){var i;for(et=0;et<Vt.length;et++)i=Vt[et],e&&i.media!==e||(t?i.kill(1):i.revert());e&&Kt(e),e||$t("revert")},Qt=function(t,e){if(!vt||t){ut=!0;var i=$t("refreshInit");st&&he.sort(),e||Jt(),Vt.forEach(function(t){return t.refresh()}),Vt.forEach(function(t){return"max"===t.vars.end&&t.setPositions(t.start,c(t.scroller,t._dir))}),i.forEach(function(t){return t&&t.render&&t.render(-1)}),I(),X.pause(),ut=!1,$t("refresh")}else T(he,"scrollEnd",z)},te=0,ee=1,ie=function(){if(!ut){var t=Vt.length,e=gt(),i=50<=e-mt,n=t&&Vt[0].scroll();if(ee=n<te?-1:1,te=n,i&&(vt&&!Q&&200<e-vt&&(vt=0,$t("scrollEnd")),G=mt,mt=e),ee<0){for(et=t;0<et--;)Vt[et]&&Vt[et].update(0,i);ee=1}else for(et=0;et<t;et++)Vt[et]&&Vt[et].update(0,i)}},ne=[St,"top",Tt,Ct,zt+Ot,zt+Pt,zt+Mt,zt+Et,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],re=ne.concat([kt,At,"boxSizing","max"+It,"max"+Dt,"position",zt,Lt,Lt+Mt,Lt+Pt,Lt+Ot,Lt+Et]),se=/([A-Z])/g,oe=function(t){if(t){var e,i,n=t.t.style,r=t.length,s=0;for((t.t._gsap||F.core.getCache(t.t)).uncache=1;s<r;s+=2)i=t[s+1],e=t[s],i?n[e]=i:n[e]&&n.removeProperty(e.replace(se,"-$1").toLowerCase())}},ae={left:0,top:0},le=/(?:webkit|moz|length|cssText|inset)/i;Rt.op=qt;var he=(ce.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(1),_t){var r,s,u,g,m,C,E,L,I,j,Y,X,K,tt,it,nt,rt,at,ct,ut,pt,mt,bt,xt,St,Ct,Tt,Dt,Ht,Wt,Yt,Xt,Ut,$t,Gt,Kt,Jt,Qt=(t=w(yt(t)||f(t)||t.nodeType?{trigger:t}:t,jt)).onUpdate,te=t.toggleClass,ie=t.id,ne=t.onToggle,re=t.onRefresh,se=t.scrub,le=t.trigger,he=t.pin,ue=t.pinSpacing,de=t.invalidateOnRefresh,fe=t.anticipatePin,pe=t.onScrubComplete,ge=t.onSnapComplete,me=t.once,ve=t.snap,_e=t.pinReparent,ye=t.pinSpacer,we=t.containerAnimation,be=t.fastScrollEnd,xe=t.preventOverlaps,Se=t.horizontal||t.containerAnimation&&!1!==t.horizontal?Rt:qt,Ce=!se&&0!==se,Te=i(t.scroller||H),ke=F.core.getCache(Te),Ae=o(Te),Pe="fixed"===("pinType"in t?t.pinType:a(Te,"pinType")||Ae&&"fixed"),Ee=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Me=Ce&&t.toggleActions.split(" "),Oe="markers"in t?t.markers:jt.markers,Le=Ae?0:parseFloat(y(Te)["border"+Se.p2+It])||0,ze=this,Ie=t.onRefreshInit&&function(){return t.onRefreshInit(ze)},De=function(t,e,i){var n=i.d,r=i.d2,s=i.a;return(s=a(t,"getBoundingClientRect"))?function(){return s()[n]}:function(){return(e?H["inner"+r]:t["client"+r])||0}}(Te,Ae,Se),Be=function(t,e){return!e||~ft.indexOf(t)?h(t):function(){return ae}}(Te,Ae),Re=0,qe=l(Te,Se);if(ze.media=ht,ze._dir=Se,fe*=45,ze.scroller=Te,ze.scroll=we?we.time.bind(we):qe,g=qe(),ze.vars=t,n=n||t.animation,"refreshPriority"in t&&(st=1),ke.tweenScroll=ke.tweenScroll||{top:N(Te,qt),left:N(Te,Rt)},ze.tweenTo=r=ke.tweenScroll[Se.p],n&&(n.vars.lazy=!1,n._initted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.render(0,!0,!0),ze.animation=n.pause(),n.scrollTrigger=ze,(Yt=f(se)&&se)&&(Wt=F.to(n,{ease:"power3",duration:Yt,onComplete:function(){return pe&&pe(ze)}})),Dt=0,ie=ie||n.vars.id),Vt.push(ze),ve&&(p(ve)&&!ve.push||(ve={snapTo:ve}),"scrollBehavior"in Z.style&&F.set(Ae?[Z,V]:Te,{scrollBehavior:"auto"}),u=d(ve.snapTo)?ve.snapTo:"labels"===ve.snapTo?function(t){return function(e){return F.utils.snap(x(t),e)}}(n):"labelsDirectional"===ve.snapTo?function(t){return function(e,i){return S(x(t))(e,i.direction)}}(n):!1!==ve.directional?function(t,e){return S(ve.snapTo)(t,e.direction)}:F.utils.snap(ve.snapTo),Xt=p(Xt=ve.duration||{min:.1,max:2})?$(Xt.min,Xt.max):$(Xt,Xt),Ut=F.delayedCall(ve.delay||Yt/2||.1,function(){if(Math.abs(ze.getVelocity())<10&&!Q&&Re!==qe()){var t=n&&!Ce?n.totalProgress():ze.progress,e=(t-Ht)/(gt()-G)*1e3||0,i=F.utils.clamp(-ze.progress,1-ze.progress,wt(e/2)*e/.185),s=ze.progress+(!1===ve.inertia?0:i),o=$(0,1,u(s,ze)),a=qe(),l=Math.round(C+o*K),h=ve.onStart,c=ve.onInterrupt,d=ve.onComplete,f=r.tween;if(a<=E&&C<=a&&l!==a){if(f&&!f._initted&&f.data<=wt(l-a))return;!1===ve.inertia&&(i=o-ze.progress),r(l,{duration:Xt(wt(.185*Math.max(wt(s-t),wt(o-t))/e/.05||0)),ease:ve.ease||"power3",data:wt(l-a),onInterrupt:function(){return Ut.restart(!0)&&c&&c(ze)},onComplete:function(){ze.update(),Re=qe(),Dt=Ht=n&&!Ce?n.totalProgress():ze.progress,ge&&ge(ze),d&&d(ze)}},a,i*K,l-a-i*K),h&&h(ze,r.tween)}}else ze.isActive&&Ut.restart(!0)}).pause()),ie&&(Zt[ie]=ze),le=ze.trigger=i(le||he),he=!0===he?le:i(he),yt(te)&&(te={targets:le,className:te}),he&&(!1===ue||ue===zt||(ue=!(!ue&&"flex"===y(he.parentNode).display)&&Lt),ze.pin=he,!1!==t.force3D&&F.set(he,{force3D:!0}),(s=F.core.getCache(he)).spacer?tt=s.pinState:(ye&&((ye=i(ye))&&!ye.nodeType&&(ye=ye.current||ye.nativeElement),s.spacerIsNative=!!ye,ye&&(s.spacerState=B(ye))),s.spacer=rt=ye||W.createElement("div"),rt.classList.add("pin-spacer"),ie&&rt.classList.add("pin-spacer-"+ie),s.pinState=tt=B(he)),ze.spacer=rt=s.spacer,Tt=y(he),bt=Tt[ue+Se.os2],ct=F.getProperty(he),ut=F.quickSetter(he,Se.a,Bt),D(he,rt,Tt),nt=B(he)),Oe&&(X=p(Oe)?w(Oe,Ft):Ft,j=P("scroller-start",ie,Te,Se,X,0),Y=P("scroller-end",ie,Te,Se,X,0,j),at=j["offset"+Se.op.d2],L=P("start",ie,Te,Se,X,at,0,we),I=P("end",ie,Te,Se,X,at,0,we),we&&(Jt=F.quickSetter([L,I],Se.a,Bt)),Pe||ft.length&&!0===a(Te,"fixedMarkers")||(function(t){var e=y(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(Ae?Z:Te),F.set([j,Y],{force3D:!0}),St=F.quickSetter(j,Se.a,Bt),Ct=F.quickSetter(Y,Se.a,Bt))),we){var Ne=we.vars.onUpdate,Fe=we.vars.onUpdateParams;we.eventCallback("onUpdate",function(){ze.update(0,0,1),Ne&&Ne.apply(Fe||[])})}ze.previous=function(){return Vt[Vt.indexOf(ze)-1]},ze.next=function(){return Vt[Vt.indexOf(ze)+1]},ze.revert=function(t){var e=!1!==t||!ze.enabled,i=J;e!==ze.isReverted&&(e&&(ze.scroll.rec||(ze.scroll.rec=qe()),Gt=Math.max(qe(),ze.scroll.rec||0),$t=ze.progress,Kt=n&&n.progress()),L&&[L,I,j,Y].forEach(function(t){return t.style.display=e?"none":"block"}),e&&(J=1),ze.update(e),J=i,he&&(e?function(t,e,i){oe(i);var n=t._gsap;if(n.spacerIsNative)oe(n.spacerState);else if(t.parentNode===e){var r=e.parentNode;r&&(r.insertBefore(t,e),r.removeChild(e))}}(he,rt,tt):_e&&ze.isActive||D(he,rt,y(he),xt)),ze.isReverted=e)},ze.refresh=function(e,r){if(!J&&ze.enabled||r)if(he&&e&&vt)T(ce,"scrollEnd",z);else{J=1,Wt&&Wt.pause(),de&&n&&n.time(-.01,!0).invalidate(),ze.isReverted||ze.revert();for(var s,o,a,h,u,p,v,_,w,x,S=De(),k=Be(),P=we?we.duration():c(Te,Se),M=0,O=0,q=t.end,N=t.endTrigger||le,H=t.start||(0!==t.start&&le?he?"0 0":"0 100%":0),W=t.pinnedContainer&&i(t.pinnedContainer),V=le&&Math.max(0,Vt.indexOf(ze))||0,X=V;X--;)(p=Vt[X]).end||p.refresh(0,1)||(J=1),!(v=p.pin)||v!==le&&v!==he||p.isReverted||((x=x||[]).unshift(p),p.revert());for(d(H)&&(H=H(ze)),C=R(H,le,S,Se,qe(),L,j,ze,k,Le,Pe,P,we)||(he?-.001:0),d(q)&&(q=q(ze)),yt(q)&&!q.indexOf("+=")&&(~q.indexOf(" ")?q=(yt(H)?H.split(" ")[0]:"")+q:(M=A(q.substr(2),S),q=yt(H)?H:C+M,N=le)),E=Math.max(C,R(q||(N?"100% 0":P),N,S,Se,qe()+M,I,Y,ze,k,Le,Pe,P,we))||-.001,K=E-C||(C-=.01)&&.001,M=0,X=V;X--;)(v=(p=Vt[X]).pin)&&p.start-p._pinPush<C&&!we&&(s=p.end-p.start,v!==le&&v!==W||f(H)||(M+=s*(1-p.progress)),v===he&&(O+=s));if(C+=M,E+=M,ze._pinPush=O,L&&M&&((s={})[Se.a]="+="+M,W&&(s[Se.p]="-="+qe()),F.set([L,I],s)),he)s=y(he),h=Se===qt,a=qe(),pt=parseFloat(ct(Se.a))+O,!P&&1<E&&((Ae?Z:Te).style["overflow-"+Se.a]="scroll"),D(he,rt,s),nt=B(he),o=Nt(he,!0),_=Pe&&l(Te,h?Rt:qt)(),ue&&((xt=[ue+Se.os2,K+O+Bt]).t=rt,(X=ue===Lt?b(he,Se)+K+O:0)&&xt.push(Se.d,X+Bt),oe(xt),Pe&&qe(Gt)),Pe&&((u={top:o.top+(h?a-C:_)+Bt,left:o.left+(h?_:a-C)+Bt,boxSizing:"border-box",position:"fixed"})[kt]=u.maxWidth=Math.ceil(o.width)+Bt,u[At]=u.maxHeight=Math.ceil(o.height)+Bt,u[zt]=u[zt+Mt]=u[zt+Pt]=u[zt+Ot]=u[zt+Et]="0",u[Lt]=s[Lt],u[Lt+Mt]=s[Lt+Mt],u[Lt+Pt]=s[Lt+Pt],u[Lt+Ot]=s[Lt+Ot],u[Lt+Et]=s[Lt+Et],it=function(t,e,i){for(var n,r=[],s=t.length,o=i?8:0;o<s;o+=2)n=t[o],r.push(n,n in e?e[n]:t[o+1]);return r.t=t.t,r}(tt,u,_e)),n?(w=n._initted,ot(1),n.render(n.duration(),!0,!0),mt=ct(Se.a)-pt+K+O,K!==mt&&it.splice(it.length-2,2),n.render(0,!0,!0),w||n.invalidate(),ot(0)):mt=K;else if(le&&qe()&&!we)for(o=le.parentNode;o&&o!==Z;)o._pinOffset&&(C-=o._pinOffset,E-=o._pinOffset),o=o.parentNode;x&&x.forEach(function(t){return t.revert(!1)}),ze.start=C,ze.end=E,g=m=qe(),we||(g<Gt&&qe(Gt),ze.scroll.rec=0),ze.revert(!1),J=0,n&&Ce&&n._initted&&n.progress()!==Kt&&n.progress(Kt,!0).render(n.time(),!0,!0),$t===ze.progress&&!we||(n&&!Ce&&n.totalProgress($t,!0),ze.progress=$t,ze.update(0,0,1)),he&&ue&&(rt._pinOffset=Math.round(ze.progress*mt)),re&&re(ze)}},ze.getVelocity=function(){return(qe()-m)/(gt()-G)*1e3||0},ze.endAnimation=function(){v(ze.callbackAnimation),n&&(Wt?Wt.progress(1):n.paused()?Ce||v(n,ze.direction<0,1):v(n,n.reversed()))},ze.labelToScroll=function(t){return n&&n.labels&&(C||ze.refresh()||C)+n.labels[t]/n.duration()*K||0},ze.getTrailing=function(t){var e=Vt.indexOf(ze),i=0<ze.direction?Vt.slice(0,e).reverse():Vt.slice(e+1);return yt(t)?i.filter(function(e){return e.vars.preventOverlaps===t}):i},ze.update=function(t,e,i){if(!we||i||t){var s,o,a,l,h,u,p,y=ze.scroll(),w=t?0:(y-C)/K,b=w<0?0:1<w?1:w||0,x=ze.progress;if(e&&(m=g,g=we?qe():y,ve&&(Ht=Dt,Dt=n&&!Ce?n.totalProgress():b)),fe&&!b&&he&&!J&&!dt&&vt&&C<y+(y-m)/(gt()-G)*fe&&(b=1e-4),b!==x&&ze.enabled){if(l=(h=(s=ze.isActive=!!b&&b<1)!=(!!x&&x<1))||!!b!=!!x,ze.direction=x<b?1:-1,ze.progress=b,l&&!J&&(o=b&&!x?0:1===b?1:1===x?2:3,Ce&&(a=!h&&"none"!==Me[o+1]&&Me[o+1]||Me[o],p=n&&("complete"===a||"reset"===a||a in n))),xe&&h&&(p||se||!n)&&(d(xe)?xe(ze):ze.getTrailing(xe).forEach(function(t){return t.endAnimation()})),Ce||(!Wt||J||dt?n&&n.totalProgress(b,!!J):(Wt.vars.totalProgress=b,Wt.invalidate().restart())),he)if(t&&ue&&(rt.style[ue+Se.os2]=bt),Pe){if(l){if(u=!t&&x<b&&y<E+1&&y+1>=c(Te,Se),_e)if(t||!s&&!u)q(he,rt);else{var S=Nt(he,!0),T=y-C;q(he,Z,S.top+(Se===qt?T:0)+Bt,S.left+(Se===qt?0:T)+Bt)}oe(s||u?it:nt),mt!==K&&b<1&&s||ut(pt+(1!==b||u?0:mt))}}else ut(pt+mt*b);!ve||r.tween||J||dt||Ut.restart(!0),te&&(h||me&&b&&(b<1||!lt))&&U(te.targets).forEach(function(t){return t.classList[s||me?"add":"remove"](te.className)}),!Qt||Ce||t||Qt(ze),l&&!J?(Ce&&(p&&("complete"===a?n.pause().totalProgress(1):"reset"===a?n.restart(!0).pause():"restart"===a?n.restart(!0):n[a]()),Qt&&Qt(ze)),!h&&lt||(ne&&h&&_(ze,ne),Ee[o]&&_(ze,Ee[o]),me&&(1===b?ze.kill(!1,1):Ee[o]=0),h||Ee[o=1===b?1:3]&&_(ze,Ee[o])),be&&!s&&Math.abs(ze.getVelocity())>(f(be)?be:2500)&&(v(ze.callbackAnimation),Wt?Wt.progress(1):v(n,!b,1))):Ce&&Qt&&!J&&Qt(ze)}if(Ct){var k=we?y/we.duration()*(we._caScrollDist||0):y;St(k+(j._isFlipped?1:0)),Ct(k)}Jt&&Jt(-y/we.duration()*(we._caScrollDist||0))}},ze.enable=function(t,e){ze.enabled||(ze.enabled=!0,T(Te,"resize",O),T(Te,"scroll",M),Ie&&T(ce,"refreshInit",Ie),!1!==t&&(ze.progress=$t=0,g=m=Re=qe()),!1!==e&&ze.refresh())},ze.getTween=function(t){return t&&r?r.tween:Wt},ze.setPositions=function(t,e){he&&(pt+=t-C,mt+=e-t-K),ze.start=C=t,ze.end=E=e,K=e-t,ze.update()},ze.disable=function(t,e){if(ze.enabled&&(!1!==t&&ze.revert(),ze.enabled=ze.isActive=!1,e||Wt&&Wt.pause(),Gt=0,s&&(s.uncache=1),Ie&&k(ce,"refreshInit",Ie),Ut&&(Ut.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!Ae)){for(var i=Vt.length;i--;)if(Vt[i].scroller===Te&&Vt[i]!==ze)return;k(Te,"resize",O),k(Te,"scroll",M)}},ze.kill=function(t,e){ze.disable(t,e),Wt&&Wt.kill(),ie&&delete Zt[ie];var i=Vt.indexOf(ze);0<=i&&Vt.splice(i,1),i===et&&0<ee&&et--,i=0,Vt.forEach(function(t){return t.scroller===ze.scroller&&(i=1)}),i||(ze.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.render(-1),e||n.kill()),L&&[L,I,j,Y].forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),he&&(s&&(s.uncache=1),i=0,Vt.forEach(function(t){return t.pin===he&&i++}),i||(s.spacer=0))},ze.enable(!1,!1),n&&n.add&&!K?F.delayedCall(.01,function(){return C||E||ze.refresh()})&&(K=.01)&&(C=E=0):ze.refresh()}else this.update=this.refresh=this.kill=e},ce.register=function(t){if(!j&&(F=t||s(),r()&&window.document&&(H=window,W=document,V=W.documentElement,Z=W.body),F&&(U=F.utils.toArray,$=F.utils.clamp,ot=F.core.suppressOverwrites||e,F.core.globals("ScrollTrigger",ce),Z))){T(H,"wheel",M),Y=[H,W,V,Z],T(W,"scroll",M);var i,n=Z.style,o=n.borderTopStyle;n.borderTopStyle="solid",i=Nt(Z),qt.m=Math.round(i.top+qt.sc())||0,Rt.m=Math.round(i.left+Rt.sc())||0,o?n.borderTopStyle=o:n.removeProperty("border-top-style"),K=setInterval(E,200),F.delayedCall(.5,function(){return dt=0}),T(W,"touchcancel",e),T(Z,"touchstart",e),C(T,W,"pointerdown,touchstart,mousedown",function(){return Q=1}),C(T,W,"pointerup,touchend,mouseup",function(){return Q=0}),tt=F.utils.checkPrefix("transform"),re.push(tt),j=gt(),X=F.delayedCall(.2,Qt).pause(),rt=[W,"visibilitychange",function(){var t=H.innerWidth,e=H.innerHeight;W.hidden?(it=t,nt=e):it===t&&nt===e||O()},W,"DOMContentLoaded",Qt,H,"load",function(){return vt||Qt()},H,"resize",O],u(T)}return j},ce.defaults=function(t){if(t)for(var e in t)jt[e]=t[e];return jt},ce.kill=function(){_t=0,Vt.slice(0).forEach(function(t){return t.kill(1)})},ce.config=function(t){"limitCallbacks"in t&&(lt=!!t.limitCallbacks);var e=t.syncInterval;e&&clearInterval(K)||(K=e)&&setInterval(E,e),"autoRefreshEvents"in t&&(u(k)||u(T,t.autoRefreshEvents||"none"),at=-1===(t.autoRefreshEvents+"").indexOf("resize"))},ce.scrollerProxy=function(t,e){var n=i(t),r=pt.indexOf(n),s=o(n);~r&&pt.splice(r,s?6:2),e&&(s?ft.unshift(H,e,Z,e,V,e):ft.unshift(n,e))},ce.matchMedia=function(t){var e,i,n,r,s;for(i in t)n=Ut.indexOf(i),r=t[i],"all"===(ht=i)?r():(e=H.matchMedia(i))&&(e.matches&&(s=r()),~n?(Ut[n+1]=m(Ut[n+1],r),Ut[n+2]=m(Ut[n+2],s)):(n=Ut.length,Ut.push(i,r,s),e.addListener?e.addListener(L):e.addEventListener("change",L)),Ut[n+3]=e.matches),ht=0;return Ut},ce.clearMatchMedia=function(t){t||(Ut.length=0),0<=(t=Ut.indexOf(t))&&Ut.splice(t,4)},ce.isInViewport=function(t,e,n){var r=(yt(t)?i(t):t).getBoundingClientRect(),s=r[n?kt:At]*e||0;return n?0<r.right-s&&r.left+s<H.innerWidth:0<r.bottom-s&&r.top+s<H.innerHeight},ce.positionInViewport=function(t,e,n){yt(t)&&(t=i(t));var r=t.getBoundingClientRect(),s=r[n?kt:At],o=null==e?s/2:e in Ht?Ht[e]*s:~e.indexOf("%")?parseFloat(e)*s/100:parseFloat(e)||0;return n?(r.left+o)/H.innerWidth:(r.top+o)/H.innerHeight},ce);function ce(t,e){j||ce.register(F)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(t,e)}he.version="3.9.1",he.saveStyles=function(t){return t?U(t).forEach(function(t){if(t&&t.style){var e=Gt.indexOf(t);0<=e&&Gt.splice(e,5),Gt.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),F.core.getCache(t),ht)}}):Gt},he.revert=function(t,e){return Jt(!t,e)},he.create=function(t,e){return new he(t,e)},he.refresh=function(t){return t?O():(j||he.register())&&Qt(!0)},he.update=ie,he.clearScrollMemory=I,he.maxScroll=function(t,e){return c(t,e?Rt:qt)},he.getScrollFunc=function(t,e){return l(i(t),e?Rt:qt)},he.getById=function(t){return Zt[t]},he.getAll=function(){return Vt.slice(0)},he.isScrolling=function(){return!!vt},he.snapDirectional=S,he.addEventListener=function(t,e){var i=Yt[t]||(Yt[t]=[]);~i.indexOf(e)||i.push(e)},he.removeEventListener=function(t,e){var i=Yt[t],n=i&&i.indexOf(e);0<=n&&i.splice(n,1)},he.batch=function(t,e){function i(t,e){var i=[],n=[],r=F.delayedCall(o,function(){e(i,n),i=[],n=[]}).pause();return function(t){i.length||r.restart(!0),i.push(t.trigger),n.push(t),a<=i.length&&r.progress(1)}}var n,r=[],s={},o=e.interval||.016,a=e.batchMax||1e9;for(n in e)s[n]="on"===n.substr(0,2)&&d(e[n])&&"onRefreshInit"!==n?i(0,e[n]):e[n];return d(a)&&(a=a(),T(he,"refresh",function(){return a=e.batchMax()})),U(t).forEach(function(t){var e={};for(n in s)e[n]=s[n];e.trigger=t,r.push(he.create(e))}),r},he.sort=function(t){return Vt.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},s()&&F.registerPlugin(he),t.ScrollTrigger=he,t.default=he,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});var paper=function(t,e){var i=(t=t||require("./node/self.js")).window,n=t.document,r=new function(){var t=/^(statics|enumerable|beans|preserve)$/,i=[],n=i.slice,r=Object.create,s=Object.getOwnPropertyDescriptor,o=Object.defineProperty,a=i.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},l=Object.assign||function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},h=function(t,e,i){if(t){var n=s(t,"length");(n&&"number"==typeof n.value?a:function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)}).call(t,e,i=i||t)}return i};function c(e,i,n,r,a){var l={};function h(t,h){"string"==typeof(h=h||(h=s(i,t))&&(h.get?h:h.value))&&"#"===h[0]&&(h=e[h.substring(1)]||h);var c,d="function"==typeof h,f=h,p=a||d&&!h.base?h&&h.get?t in e:e[t]:null;a&&p||(d&&p&&(h.base=p),d&&!1!==r&&(c=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),f&&!d&&f.get&&"function"==typeof f.get&&u.isPlainObject(f)||(f={value:f,writable:!0}),(s(e,t)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=null!=n?n:!c),o(e,t,f))}if(i){for(var c in i)i.hasOwnProperty(c)&&!t.test(c)&&h(c);for(var c in l){var d=l[c],f=e["set"+d],p=e["get"+d]||f&&e["is"+d];!p||!0!==r&&0!==p.length||h(c,{get:p,set:f})}}return e}function u(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&l(this,i)}return this}return c(u,{inject:function(t){if(t){var e=!0===t.statics?t:t.statics,i=t.beans,n=t.preserve;e!==t&&c(this.prototype,t,t.enumerable,i,n),c(this,e,null,i,n)}for(var r=1,s=arguments.length;r<s;r++)this.inject(arguments[r]);return this},extend:function(){for(var t,e,i,n=this,s=0,a=arguments.length;s<a&&(!t||!e);s++)i=arguments[s],t=t||i.initialize,e=e||i.prototype;return e=(t=t||function(){n.apply(this,arguments)}).prototype=e||r(this.prototype),o(e,"constructor",{value:t,writable:!0,configurable:!0}),c(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=n,t}}).inject({enumerable:!1,initialize:u,set:u,inject:function(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&c(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=r(this);return t.inject.apply(t,arguments)},each:function(t,e){return h(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:l,each:h,create:r,define:o,describe:s,clone:function(t){return l(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===u||"Object"===e.name)},pick:function(t,i){return t!==e?t:i},slice:function(t,e,i){return n.call(t,e,i)}}})};"undefined"!=typeof module&&(module.exports=r),r.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+r.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?h.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return r.importJSON(t,this)},exportJSON:function(t){return r.exportJSON(this,t)},toJSON:function(){return r.serialize(this)},set:function(t,e){return t&&r.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!r.exports[i]&&(r.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((i=t.length)!==e.length)return!1;for(;i--;)if(!r.equals(t[i],e[i]))return!1}else{var i,n=Object.keys(t);if((i=n.length)!==Object.keys(e).length)return!1;for(;i--;){var s=n[i];if(!e.hasOwnProperty(s)||!r.equals(t[s],e[s]))return!1}}return!0}return!1},read:function(t,i,n,s){if(this===r){var o=this.peek(t,i);return t.__index++,o}var a=this.prototype,l=a._readIndex,h=i||l&&t.__index||0,c=t.length,u=t[h];if(s=s||c-h,u instanceof this||n&&n.readNull&&null==u&&s<=1)return l&&(t.__index=h+1),u&&n&&n.clone?u.clone():u;if(u=r.create(a),l&&(u.__read=!0),u=u.initialize.apply(u,h>0||h+s<c?r.slice(t,h,h+s):t)||u,l){t.__index=h+u.__read;var d=u.__filtered;d&&(t.__filtered=d,u.__filtered=e),u.__read=e}return u},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var r,s=[],o=e||0,a=n?o+n:t.length,l=o;l<a;l++)s.push(Array.isArray(r=t[l])?this.read(r,0,i):this.read(t,l,i,1));return s},readNamed:function(t,i,n,s,o){var a=this.getNamed(t,i),l=a!==e;if(l){var h=t.__filtered;if(!h){var c=this.getSource(t);(h=t.__filtered=r.create(c)).__unfiltered=c}h[i]=e}return this.read(l?[a]:t,n,s,o)},readSupported:function(t,i){var n=this.getSource(t),r=this,s=!1;return n&&Object.keys(n).forEach(function(n){if(n in i){var o=r.readNamed(t,n);o!==e&&(i[n]=o),s=!0}}),s},getSource:function(t){var i=t.__source;if(i===e){var n=1===t.length&&t[0];i=t.__source=n&&r.isPlainObject(n)?n:null}return i},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,i,n,r){var s;function o(r){if(!(n&&r in n||s&&r in s)){var o=i[r];o!==e&&(t[r]=o)}}if(r){for(var a,l={},h=0,c=r.length;h<c;h++)(a=r[h])in i&&(o(a),l[a]=!0);s=l}return Object.keys(i.__unfiltered||i).forEach(o),t},isPlainValue:function(t,e){return r.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var s,o=!n;if(o&&(e.formatter=new h(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[i]=r,n=this.references[i]=[i]}return n}}),t&&t._serialize){s=t._serialize(e,n);var a=t._class;!a||t._compactSerialize||!o&&i||s[0]===a||s.unshift(a)}else if(Array.isArray(t)){s=[];for(var l=0,c=t.length;l<c;l++)s[l]=r.serialize(t[l],e,i,n)}else if(r.isPlainObject(t)){s={};var u=Object.keys(t);for(l=0,c=u.length;l<c;l++){var d=u[l];s[d]=r.serialize(t[d],e,i,n)}}else s="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&n.length>0?[["dictionary",n.definitions],s]:s},deserialize:function(t,e,i,n,s){var o=t,a=!i,l=a&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var h=t[0],c="dictionary"===h;if(1==t.length&&/^#/.test(h))return i.dictionary[h];o=[];for(var u=(h=r.exports[h])?1:0,d=t.length;u<d;u++)o.push(r.deserialize(t[u],e,i,c,l));if(h){var f=o;o=e?e(h,f,a||s):new h(f)}}else if(r.isPlainObject(t))for(var p in o={},n&&(i.dictionary=o),t)o[p]=r.deserialize(t[p],e,i);return l?o[1]:o},exportJSON:function(t,e){var i=r.serialize(t,e);return e&&0==e.asString?i:JSON.stringify(i)},importJSON:function(t,e){return r.deserialize("string"==typeof t?JSON.parse(t):t,function(t,i,n){var s=n&&e&&e.constructor===t,o=s?e:r.create(t.prototype);if(1===i.length&&o instanceof b&&(s||!(o instanceof S))){var a=i[0];r.isPlainObject(a)&&(a.insert=!1,s&&(i=i.concat([b.INSERT])))}return(s?o.set:t).apply(o,i),s&&(e=null),o})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var n=t.length;t.length+=i;for(var r=0;r<i;r++)t[n+r]=e[r]}return t},splice:function(t,i,n,s){var o=i&&i.length,a=n===e;(n=a?t.length:n)>t.length&&(n=t.length);for(var l=0;l<o;l++)i[l]._index=n+l;if(a)return r.push(t,i),[];var h=[n,s];i&&r.push(h,i);for(var c=t.splice.apply(t,h),u=(l=0,c.length);l<u;l++)c[l]._index=e;for(l=n+o,u=t.length;l<u;l++)t[l]._index=l;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var s={on:function(t,e){if("string"!=typeof t)r.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,n=i&&i[t],s=this._callbacks=this._callbacks||{};-1===(s=s[t]=s[t]||[]).indexOf(e)&&(s.push(e),n&&n.install&&1===s.length&&n.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var i,n=this._eventTypes,s=n&&n[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||-1!==(i=o.indexOf(e))&&1===o.length?(s&&s.uninstall&&s.uninstall.call(this,t),delete this._callbacks[t]):-1!==i&&o.splice(i,1)),this}r.each(t,function(t,e){this.off(e,t)},this)},once:function(t,e){return this.on(t,function i(){e.apply(this,arguments),this.off(t,i)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=r.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var o=0,a=i.length;o<a;o++)if(0==i[o].apply(this,n)){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e)for(var r in i)if(i[r].length>0){var s=e[r],o=s&&s[n];o&&o.call(this,r)}},statics:{inject:function t(e){var i=e._events;if(i){var n={};r.each(i,function(t,i){var s="string"==typeof t,o=s?t:i,a=r.capitalize(o),l=o.substring(2).toLowerCase();n[l]=s?{}:t,o="_"+o,e["get"+a]=function(){return this[o]},e["set"+a]=function(t){var e=this[o];e&&this.off(l,e),t&&this.on(l,t),this[o]=t}}),e._eventTypes=n}return t.base.apply(this,arguments)}}},o=r.extend({_class:"PaperScope",initialize:function e(){st=this,this.settings=new r({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var i=e.prototype;if(!this.support){var n=et.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:it.nativeModes},et.release(n)}if(!this.agent){var s=t.navigator.userAgent.toLowerCase(),o=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(s)||[])[0],a="darwin"===o?"mac":o,l=i.agent=i.browser={platform:a};a&&(l[a]=!0),s.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,r){if(!l.chrome){var s="opera"===e?n:/^(node|trident)$/.test(e)?r:i;l.version=s,l.versionNumber=parseFloat(s),e={trident:"msie",jsdom:"node"}[e]||e,l.name=e,l[e]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.17",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){},install:function(t){var e=this;for(var i in r.each(["project","view","tool"],function(i){r.define(t,i,{configurable:!0,get:function(){return e[i]}})}),this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return st=this,this.project=new w(t),this},createCanvas:function(t,e){return et.getCanvas(t,e)},activate:function(){st=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete o._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),a=r.extend(s,{initialize:function(t){this._scope=st,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(r.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),l={findItemBoundsCollisions:function(t,e,i){function n(t){for(var e=new Array(t.length),i=0;i<t.length;i++){var n=t[i].getBounds();e[i]=[n.left,n.top,n.right,n.bottom]}return e}var r=n(t),s=e&&e!==t?n(e):r;return this.findBoundsCollisions(r,s,i||0)},findCurveBoundsCollisions:function(t,e,i,n){function r(t){for(var e=Math.min,i=Math.max,n=new Array(t.length),r=0;r<t.length;r++){var s=t[r];n[r]=[e(s[0],s[2],s[4],s[6]),e(s[1],s[3],s[5],s[7]),i(s[0],s[2],s[4],s[6]),i(s[1],s[3],s[5],s[7])]}return n}var s=r(t),o=e&&e!==t?r(e):s;if(n){for(var a=this.findBoundsCollisions(s,o,i||0,!1,!0),l=this.findBoundsCollisions(s,o,i||0,!0,!0),h=[],c=0,u=a.length;c<u;c++)h[c]={hor:a[c],ver:l[c]};return h}return this.findBoundsCollisions(s,o,i||0)},findBoundsCollisions:function(t,e,i,n,r){var s=!e||t===e,o=s?t:t.concat(e),a=t.length,l=o.length;function h(t,e,i){for(var n=0,r=t.length;n<r;){var s=r+n>>>1;o[t[s]][e]<i?n=s+1:r=s}return n-1}for(var c=n?1:0,u=c+2,d=n?0:1,f=d+2,p=new Array(l),g=0;g<l;g++)p[g]=g;p.sort(function(t,e){return o[t][c]-o[e][c]});var m=[],v=new Array(a);for(g=0;g<l;g++){var _=p[g],y=o[_],w=s?_:_-a,b=_<a,x=s||!b,S=b?[]:null;if(m.length){var C=h(m,u,y[c]-i)+1;if(m.splice(0,C),s&&r){S=S.concat(m);for(var T=0;T<m.length;T++){v[P=m[T]].push(w)}}else{var k=y[f],A=y[d];for(T=0;T<m.length;T++){var P=m[T],E=o[P],M=P<a,O=s||P>=a;(r||(b&&O||x&&M)&&k>=E[d]-i&&A<=E[f]+i)&&(b&&O&&S.push(s?P:P-a),x&&M&&v[P].push(w))}}}if(b&&(t===e&&S.push(_),v[_]=S),m.length){var L=h(m,u,y[u]);m.splice(L+1,0,_)}else m.push(_)}for(g=0;g<v.length;g++){var z=v[g];z&&z.sort(function(t,e){return t-e})}return v}},h=r.extend({initialize:function(t){this.precision=r.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});h.instance=new h;var c=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,n=Math.sqrt,r=Math.pow,s=Math.log2||function(t){return Math.log(t)*Math.LOG2E};function o(t,e,i){return t<e?e:t>i?i:t}function a(t,e,n){function r(t){var e=134217729*t,i=t-e+e;return[i,t-i]}var s=e*e-t*n,o=e*e+t*n;if(3*i(s)<o){var a=r(t),l=r(e),h=r(n),c=e*e,u=t*n;s=c-u+(l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1]-(a[0]*h[0]-u+a[0]*h[1]+a[1]*h[0]+a[1]*h[1]))}return s}function l(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?r(2,-Math.round(s(t))):0}return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(n(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=1e-12},isMachineZero:function(t){return t>=-1.12e-16&&t<=1.12e-16},clamp:o,integrate:function(i,n,r,s){for(var o=t[s-2],a=e[s-2],l=.5*(r-n),h=l+n,c=0,u=s+1>>1,d=1&s?a[c++]*i(h):0;c<u;){var f=l*o[c];d+=a[c++]*(i(h+f)+i(h-f))}return l*d},findRoot:function(t,e,n,r,s,a,l){for(var h=0;h<a;h++){var c=t(n),u=c/e(n),d=n-u;if(i(u)<l){n=d;break}c>0?(s=n,n=d<=r?.5*(r+s):d):(r=n,n=d>=s?.5*(r+s):d)}return o(n,r,s)},solveQuadratic:function(t,e,r,s,h,c){var u,d=1/0;if(i(t)<1e-12){if(i(e)<1e-12)return i(r)<1e-12?-1:0;u=-r/e}else{var f=a(t,e*=-.5,r);if(f&&i(f)<1.12e-16){var p=l(i(t),i(e),i(r));p&&(f=a(t*=p,e*=p,r*=p))}if(f>=-1.12e-16){var g=f<0?0:n(f),m=e+(e<0?-g:g);0===m?d=-(u=r/t):(u=m/t,d=r/m)}}var v=0,_=null==h,y=h-1e-12,w=c+1e-12;return isFinite(u)&&(_||u>y&&u<w)&&(s[v++]=_?u:o(u,h,c)),d!==u&&isFinite(d)&&(_||d>y&&d<w)&&(s[v++]=_?d:o(d,h,c)),v},solveCubic:function(t,e,s,a,h,u,d){var f,p,g,m,v,_=l(i(t),i(e),i(s),i(a));function y(i){var n=t*(f=i);m=(n+(p=n+e))*f+(g=p*f+s),v=g*f+a}if(_&&(t*=_,e*=_,s*=_,a*=_),i(t)<1e-12)t=e,p=s,g=a,f=1/0;else if(i(a)<1e-12)p=e,g=s,f=0;else{y(-e/t/3);var w=v/t,b=r(i(w),1/3),x=w<0?-1:1,S=-m/t,C=S>0?1.324717957244746*Math.max(b,n(S)):b,T=f-x*C;if(T!==f){do{y(T),T=0===m?f:f-v/m/(1+1.12e-16)}while(x*T>x*f);i(t)*f*f>i(a/f)&&(p=((g=-a/f)-s)/f)}}var k=c.solveQuadratic(t,p,g,h,u,d),A=null==u;return isFinite(f)&&(0===k||k>0&&f!==h[0]&&f!==h[1])&&(A||f>u-1e-12&&f<d+1e-12)&&(h[k++]=A?f:o(f,u,d)),k}}},u={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},d=r.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,r=0;if("number"===i){var s="number"==typeof e;this._set(t,s?e:t),n&&(r=s?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(r=null===t?1:0);else{var o="string"===i?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),r=0)}return n&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new d(this.x,this.y)},toString:function(){var t=h.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();c.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=d.read(arguments),e=this.getLength()*t.getLength();if(c.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=d.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=d.read(t),i=e.x-this.x,n=e.y-this.y,s=i*i+n*n;return r.read(t)?s:Math.sqrt(s)},normalize:function(t){t===e&&(t=1);var i=this.getLength(),n=0!==i?t/i:0,r=new d(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),r=Math.cos(t);return i=new d(i.x*r-i.y*n,i.x*n+i.y*r),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=d.read(arguments);return new d(this.x+t.x,this.y+t.y)},subtract:function(){var t=d.read(arguments);return new d(this.x-t.x,this.y-t.y)},multiply:function(){var t=d.read(arguments);return new d(this.x*t.x,this.y*t.y)},divide:function(){var t=d.read(arguments);return new d(this.x/t.x,this.y/t.y)},modulo:function(){var t=d.read(arguments);return new d(this.x%t.x,this.y%t.y)},negate:function(){return new d(-this.x,-this.y)},isInside:function(){return m.read(arguments).contains(this)},isClose:function(){var t=arguments,e=d.read(t),i=r.read(t);return this.getDistance(e)<=i},isCollinear:function(){var t=d.read(arguments);return d.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=d.read(arguments);return d.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=c.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=d.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=d.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=d.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new d(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=d.read(t),i=d.read(t);return new d(Math.min(e.x,i.x),Math.min(e.y,i.y))},max:function(){var t=arguments,e=d.read(t),i=d.read(t);return new d(Math.max(e.x,i.x),Math.max(e.y,i.y))},random:function(){return new d(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},r.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new d(e(this.x),e(this.y))}},{})),f=d.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),p=r.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,r=0;if("number"===i){var s="number"==typeof e;this._set(t,s?e:t),n&&(r=s?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(r=null===t?1:0);else{var o="string"===i?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),r=0)}return n&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new p(this.width,this.height)},toString:function(){var t=h.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=p.read(arguments);return new p(this.width+t.width,this.height+t.height)},subtract:function(){var t=p.read(arguments);return new p(this.width-t.width,this.height-t.height)},multiply:function(){var t=p.read(arguments);return new p(this.width*t.width,this.height*t.height)},divide:function(){var t=p.read(arguments);return new p(this.width/t.width,this.height/t.height)},modulo:function(){var t=p.read(arguments);return new p(this.width%t.width,this.height%t.height)},negate:function(){return new p(-this.width,-this.height)},isZero:function(){var t=c.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new p(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new p(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new p(Math.random(),Math.random())}}},r.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new p(e(this.width),e(this.height))}},{})),g=p.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),m=r.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,n,s){var o,a=arguments,l=typeof t;if("number"===l?(this._set(t,i,n,s),o=4):"undefined"===l||null===t?(this._set(0,0,0,0),o=null===t?1:0):1===a.length&&(Array.isArray(t)?(this._set.apply(this,t),o=1):t.x!==e||t.width!==e?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),o=1):t.from===e&&t.to===e&&(this._set(0,0,0,0),r.readSupported(a,this)&&(o=1))),o===e){var h,c,u=d.readNamed(a,"from"),f=r.peek(a),g=u.x,m=u.y;if(f&&f.x!==e||r.hasNamed(a,"to")){var v=d.readNamed(a,"to");h=v.x-g,c=v.y-m,h<0&&(g=v.x,h=-h),c<0&&(m=v.y,c=-c)}else{var _=p.read(a);h=_.width,c=_.height}this._set(g,m,h,c),o=a.__index}var y=a.__filtered;return y&&(this.__filtered=y),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new m(this.x,this.y,this.width,this.height)},equals:function(t){var e=r.isPlainValue(t)?m.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=h.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?d:f)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=d.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?p:g)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=p.read(arguments),e=this._sx,i=this._sy,n=t.width,r=t.height;e&&(this.x+=(this.width-n)*e),i&&(this.y+=(this.height-r)*i),this.width=n,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?d:f)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=d.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==e||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(m.read(arguments)):this._containsPoint(d.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=m.read(arguments),e=r.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=m.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new m(e,i,n-e,r-i)},unite:function(){var t=m.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new m(e,i,n-e,r-i)},include:function(){var t=d.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new m(e,i,n-e,r-i)},expand:function(){var t=p.read(arguments),e=t.width,i=t.height;return new m(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,i){return this.expand(this.width*t-this.width,this.height*(i===e?t:i)-this.height)}},r.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var r=t[n?0:1],s=t[n?1:0],o="get"+r,a="get"+s,l="set"+r,h="set"+s,c="set"+i;this["get"+i]=function(t){return new(t?d:f)(this[o](),this[a](),this,c)},this[c]=function(){var t=d.read(arguments);this[l](t.x),this[h](t.y)}},{beans:!0})),v=m.extend({initialize:function(t,e,i,n,r,s){this._set(t,e,i,n,!0),this._owner=r,this._setter=s},_set:function(t,e,i,n,r){return this._x=t,this._y=e,this._width=i,this._height=n,r||this._owner[this._setter](this),this}},new function(){var t=m.prototype;return r.each(["x","y","width","height"],function(t){var e=r.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},r.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),_=r.extend({_class:"Matrix",initialize:function t(e,i){var n=arguments,r=n.length,s=!0;if(r>=6?this._set.apply(this,n):1===r||2===r?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):s=!1:r?s=!1:this.reset(),!s)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,n,r,s,o){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=r,this._ty=s,o||this._changed(),this},_serialize:function(t,e){return r.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new _(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=h.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,r.pick(t,!0),e),this.isIdentity())},translate:function(){var t=d.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=arguments,e=d.read(t),i=d.read(t,0,{readNull:!0});return i&&this.translate(i),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=d.read(arguments,1),i=e.x,n=e.y,r=Math.cos(t),s=Math.sin(t),o=i-i*r+n*s,a=n-i*s-n*r,l=this._a,h=this._b,c=this._c,u=this._d;return this._a=r*l+s*c,this._b=r*h+s*u,this._c=-s*l+r*c,this._d=-s*h+r*u,this._tx+=o*l+a*c,this._ty+=o*h+a*u,this._changed(),this},shear:function(){var t=arguments,e=d.read(t),i=d.read(t,0,{readNull:!0});i&&this.translate(i);var n=this._a,r=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*r,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var t=arguments,e=d.read(t),i=d.read(t,0,{readNull:!0}),n=Math.PI/180,r=new d(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(r,i)},append:function(t,e){if(t){var i=this._a,n=this._b,r=this._c,s=this._d,o=t._a,a=t._c,l=t._b,h=t._d,c=t._tx,u=t._ty;this._a=o*i+l*r,this._c=a*i+h*r,this._b=o*n+l*s,this._d=a*n+h*s,this._tx+=c*i+u*r,this._ty+=c*n+u*s,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,n=this._b,r=this._c,s=this._d,o=this._tx,a=this._ty,l=t._a,h=t._c,c=t._b,u=t._d,d=t._tx,f=t._ty;this._a=l*i+h*n,this._c=l*r+h*s,this._b=c*i+u*n,this._d=c*r+u*s,this._tx=l*o+h*a+d,this._ty=c*o+u*a+f,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,s=this._ty,o=t*n-e*i,a=null;return o&&!isNaN(o)&&isFinite(r)&&isFinite(s)&&(this._a=n/o,this._b=-e/o,this._c=-i/o,this._d=t/o,this._tx=(i*s-n*r)/o,this._ty=(e*r-t*s)/o,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new _(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(d.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,r=t.y;return e||(e=new d),e._set(n*this._a+r*this._c+this._tx,n*this._b+r*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,r=2*i;n<r;n+=2){var s=t[n],o=t[n+1];e[n]=s*this._a+o*this._c+this._tx,e[n+1]=s*this._b+o*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,s=[e,i,n,i,n,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),r=n.slice(0,2),s=r.slice(),o=2;o<8;o++){var a=n[o],l=1&o;a<r[l]?r[l]=a:a>s[l]&&(s[l]=a)}return e||(e=new m),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],i)},inverseTransform:function(){return this._inverseTransform(d.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,r=this._b,s=this._c,o=this._d,a=this._tx,l=this._ty,h=n*o-r*s,c=null;if(h&&!isNaN(h)&&isFinite(a)&&isFinite(l)){var u=t.x-this._tx,f=t.y-this._ty;e||(e=new d),c=e._set((u*o-f*s)/h,(f*n-u*r)/h,i)}return c},decompose:function(){var t,e,i,n=this._a,r=this._b,s=this._c,o=this._d,a=n*o-r*s,l=Math.sqrt,h=Math.atan2,c=180/Math.PI;if(0!==n||0!==r){var u=l(n*n+r*r);t=Math.acos(n/u)*(r>0?1:-1),e=[u,a/u],i=[h(n*s+r*o,u*u),0]}else if(0!==s||0!==o){var f=l(s*s+o*o);t=Math.asin(s/f)*(o>0?1:-1),e=[a/f,f],i=[0,h(n*s+r*o,f*f)]}else t=0,i=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new d(e),skewing:new d(i[0]*c,i[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new d(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},r.each(["a","b","c","d","tx","ty"],function(t){var e=r.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),y=r.extend({_class:"Line",initialize:function(t,e,i,n,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=n,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=i),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new d(this._px,this._py)},getVector:function(){return new d(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return y.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return y.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return y.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return d.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return d.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,r,s,o,a,l,h){l||(i-=t,n-=e,o-=r,a-=s);var u=i*a-n*o;if(!c.isMachineZero(u)){var f=t-r,p=e-s,g=(o*p-a*f)/u,m=(i*p-n*f)/u;if(h||-1e-12<g&&g<1+1e-12&&-1e-12<m&&m<1+1e-12)return h||(g=g<=0?0:g>=1?1:g),new d(t+g*i,e+g*n)}},getSide:function(t,e,i,n,r,s,o,a){o||(i-=t,n-=e);var l=r-t,h=l*n-(s-e)*i;return!a&&c.isMachineZero(h)&&(h=(l*i+l*i)/(i*i+n*n))>=0&&h<=1&&(h=0),h<0?-1:h>0?1:0},getSignedDistance:function(t,e,i,n,r,s,o){return o||(i-=t,n-=e),0===i?n>0?r-t:t-r:0===n?i<0?s-e:e-s:((r-t)*n-(s-e)*i)/(n>i?n*Math.sqrt(1+i*i/(n*n)):i*Math.sqrt(1+n*n/(i*i)))},getDistance:function(t,e,i,n,r,s,o){return Math.abs(y.getSignedDistance(t,e,i,n,r,s,o))}}}),w=a.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){a.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new W(null,null,this),this._view=Y.create(this,t||et.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return r.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var r=this._changesById,s=e._id,o=r[s];o?o.flags|=t:n.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new S({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:k,match:function(i){var n=i._definition,r=n._id;return e[r]||(e[r]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],r=n._selection;1&r&&n.isInserted()?e.push(n):r||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(e,t)},insertLayer:function(t,e){if(e instanceof S){e._remove(!1,!0),r.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,i,n){return i=this.insertLayer(t,i)||(this._activeLayer||this._insertItem(e,new S(b.NO_INSERT),!0)).insertChild(t,i),n&&i.activate&&i.activate(),i},getItems:function(t){return b._getItems(this,t)},getItem:function(t){return b._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return r.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var r=i[n];for(var s in e){var o=e[s];o&&o!=i&&delete o[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new r({offset:new d(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new _],updateMatrix:!0}),o=0,a=n.length;o<a;o++)n[o].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var l=this._selectionItems,h=this._scope.settings.handleSize,c=this._updateVersion;for(var u in l)l[u]._drawSelection(t,e,h,l,c);t.restore()}}}),b=r.extend(s,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=r.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new _,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return r.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,i){var n=t&&r.isPlainObject(t),s=n&&!0===t.internal,o=this._matrix=new _,a=n&&t.project||st.project,l=st.settings;return this._id=s?null:u.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,i&&o.translate(i),o._owner=this,this._style=new W(a._currentStyle,this,a),s||n&&0==t.insert||!l.insertItems&&(!n||1!=t.insert)?this._setProject(a):(n&&t.parent||a)._insertItem(e,this,!0),n&&t!==b.NO_INSERT&&t!==b.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var i={},n=this;function s(s){for(var o in s){var a=n[o];r.equals(a,"leading"===o?1.2*s.fontSize:s[o])||(i[o]=r.serialize(a,t,"data"!==o,e))}}return s(this._serializeFields),this instanceof x||s(this._style._defaults),[this._class,i]},_changed:function(t){var i=this._symbol,n=this._parent||i,r=this._project;8&t&&(this._bounds=this._position=this._decomposed=e),16&t&&(this._globalMatrix=e),n&&72&t&&b._clearBoundsCache(n),2&t&&b._clearBoundsCache(this),r&&r._changed(t,this),i&&i._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(t&&i){var n=i._children,r=i._namedChildren;(r[t]=r[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||e,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},r.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=r.capitalize(t),i="_"+t,n={locked:256,visible:265};this["get"+e]=function(){return this[i]},this["set"+e]=function(e){e!=this[i]&&(this[i]=e,this._changed(n[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?d:f,i=this._position||(this._position=this._getPositionFromBounds());return new e(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(d.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new f(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=d.read(arguments,0,{clone:!0,readNull:!0}),this._position=e}},r.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof _,n=r.set({},i?e:t,this._boundsOptions);n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this);var s=this._getCachedBounds(i&&t,n).rect;return arguments.length?s:new v(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=m.read(arguments),e=this.getBounds(),i=this._matrix,n=new _,r=t.getCenter();n.translate(r),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.set(i._backup||(new _).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&i.length?(b._updateBoundsCache(this,e.cacheItem),b._getBounds(i,t,e)):new m},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var n=e.internal&&!i,r=e.cacheItem,s=n?null:this._matrix._orNullIfIdentity(),o=r&&(!t||t.equals(s))&&this._getBoundsCacheKey(e,n),a=this._bounds;if(b._updateBoundsCache(this._parent||this._symbol,r),o&&a&&o in a)return{rect:(d=a[o]).rect.clone(),nonscaling:d.nonscaling};var l=this._getBounds(t||s,e),h=l.rect||l,c=this._style,u=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(o){a||(this._bounds=a={});var d=a[o]={rect:h.clone(),nonscaling:u,internal:n}}return{rect:h,nonscaling:u}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var i=t._boundsCache;if(i){t._bounds=t._position=t._boundsCache=e;for(var n=0,r=i.list,s=r.length;n<s;n++){var o=r[n];o!==t&&(o._bounds=o._position=e,o._boundsCache&&b._clearBoundsCache(o))}}},_getBounds:function(t,e,i){var n=1/0,r=-n,s=n,o=r,a=!1;i=i||{};for(var l=0,h=t.length;l<h;l++){var c=t[l];if(c._visible&&!c.isEmpty(!0)){var u=c._getCachedBounds(e&&e.appended(c._matrix),i,!0),d=u.rect;n=Math.min(d.x,n),s=Math.min(d.y,s),r=Math.max(d.x+d.width,r),o=Math.max(d.y+d.height,o),u.nonscaling&&(a=!0)}}return{rect:isFinite(n)?new m(n,s,r-n,o-s):new m,nonscaling:a}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new f(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=d.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),n=this._decomposed,r=new _,s=c.isZero;if(s(t.x)||s(t.y))r.translate(n.translation),i&&r.rotate(i),r.scale(e.x,e.y),this._matrix.set(r);else{var o=this.getPosition(!0);r.translate(o),i&&r.rotate(i),r.scale(e.x/t.x,e.y/t.y),i&&r.rotate(-i),r.translate(o.negate()),this.transform(r)}n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var i=this._parent,n=[];i;){if(!i._globalMatrix){e=null;for(var r=0,s=n.length;r<s;r++)n[r]._globalMatrix=null;break}n.push(i),i=i._parent}e||(e=this._globalMatrix=this._matrix.clone(),(i=this._parent)&&e.prepend(i.getGlobalMatrix(!0)));return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,r=i&&i.length;n<r;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,n=0,r=i&&i.length;n<r;n++)i[n]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof S)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return r.equals(this._children,t._children)},clone:function(t){var i=new this.constructor(b.NO_INSERT),n=this._children,s=r.pick(t?t.insert:e,t===e||!0===t),o=r.pick(t?t.deep:e,!0);n&&i.copyAttributes(this),n&&!o||i.copyContent(this),n||i.copyAttributes(this),s&&i.insertAbove(this);var a=this._name,l=this._parent;if(a&&l){n=l._children;for(var h=a,c=1;n[a];)a=h+" "+c++;a!==h&&i.setName(a)}return i},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=i.length;n<s;n++){var o=i[n];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,l=t._name;this._data=a?r.clone(a):null,l&&this.setName(l)},rasterize:function(t,i){var n,s,o;r.isPlainObject(t)?(n=t.resolution,s=t.insert,o=t.raster):(n=t,s=i),o||(o=new T(b.NO_INSERT));var a=this.getStrokeBounds(),l=(n||this.getView().getResolution())/72,h=a.getTopLeft().floor(),c=a.getBottomRight().ceil(),u=new p(c.subtract(h)),d=u.multiply(l);if(o.setSize(d,!0),!d.isZero()){var f=o.getContext(!0),g=(new _).scale(l).translate(h.negate());f.save(),g.applyToContext(f),this.draw(f,new r({matrices:[g]})),f.restore()}return o._matrix.set((new _).translate(h.add(u.divide(2))).scale(1/l)),(s===e||s)&&o.insertAbove(this),o},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(d.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return m.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new I.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof b&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){var t=arguments;return this._hitTest(d.read(t),P.getOptions(t))}function e(){var t=arguments,e=d.read(t),i=P.getOptions(t),n=[];return this._hitTest(e,new r({all:n},i)),n}function i(t,e,i,n){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var o=r[s],a=o!==n&&o._hitTest(t,e,i);if(a&&!e.all)return a}return null}return w.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var n=this._matrix,s=i?i.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(e.tolerance,1e-12),a=e._tolerancePadding=new p(I._getStrokePadding(o,n._shiftless().invert()));if(!(t=n._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(a.multiply(2))._containsPoint(t))return null;var l,h,c=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==r.hyphenate(this._class)||e.class&&!(this instanceof e.class)),u=e.match,d=this;function f(t){return t&&u&&!u(t)&&(t=null),t&&e.all&&e.all.push(t),t}function g(e,i){var n=i?l["get"+i]():d.getPosition();if(t.subtract(n).divide(a).length<=1)return new P(e,d,{name:i?r.hyphenate(i):e,point:n})}var m=e.position,v=e.center,_=e.bounds;if(c&&this._parent&&(m||v||_)){if((v||_)&&(l=this.getInternalBounds()),!(h=m&&g("position")||v&&g("center","Center"))&&_)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!h;w++)h=g("bounds",y[w]);h=f(h)}return h||(h=this._hitTestChildren(t,e,s)||c&&f(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),h&&h.point&&(h.point=n.transform(h.point)),h},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new P("fill",this)},matches:function(t,e){var i=typeof t;if("object"===i){for(var n in t)if(t.hasOwnProperty(n)&&!this.matches(n,t[n]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+r.capitalize(t)]():"type"===t?r.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;s=this._class}if("function"==typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(r.isPlainObject(e))return function t(e,i){for(var n in e)if(e.hasOwnProperty(n)){var s=e[n],o=i[n];if(r.isPlainObject(s)&&r.isPlainObject(o)){if(!t(s,o))return!1}else if(!r.equals(s,o))return!1}return!0}(e,s)}return r.equals(s,e)},getItems:function(t){return b._getItems(this,t,this._matrix)},getItem:function(t){return b._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,n,s,o){if(!s){var a="object"==typeof i&&i,l=a&&a.overlapping,h=a&&a.inside,c=(w=l||h)&&m.read([w]);s={items:[],recursive:a&&!1!==a.recursive,inside:!!h,overlapping:!!l,rect:c,path:l&&new I.Rectangle({rectangle:c,insert:!1})},a&&(i=r.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var u=e._children,d=s.items;n=(c=s.rect)&&(n||new _);for(var f=0,p=u&&u.length;f<p;f++){var g=u[f],v=n&&n.appended(g._matrix),y=!0;if(c){var w=g.getBounds(v);if(!c.intersects(w))continue;c.contains(w)||s.overlapping&&(w.contains(c)||s.path.intersects(g,v))||(y=!1)}if(y&&g.matches(i)&&(d.push(g),o))break;if(!1!==s.recursive&&t(g,i,v,s,o),o&&d.length>0)break}return d}}},{importJSON:function(t){var e=r.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(e,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){for(var n={},s=(e=r.slice(e)).length-1;s>=0;s--){var o=(c=e[s])&&c._id;!c||n[o]?e.splice(s,1):(c._remove(!1,!0),n[o]=!0)}r.splice(i,e,t,0);for(var a=this._project,l=a._changes,h=(s=0,e.length);s<h;s++){var c,u=(c=e[s])._name;c._parent=this,c._setProject(a,!0),u&&c.setName(u),l&&c._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(e,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(e,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,r=i[n],s=r?r.indexOf(this):-1;-1!==s&&(e[n]==this&&delete e[n],r.splice(s,1),r.length?e[n]=r[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),!!i&&(this._name&&this._removeNamed(),null!=s&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),r.splice(i._children,null,s,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=r.pick(e,this._children.length);for(var i=r.splice(this._children,null,t,e-t),n=i.length-1;n>=0;n--)i[n]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var n=0;n<i;n++)if(!e[n].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var i=e(this),n=e(t),r=0,s=Math.min(i.length,n.length);r<s;r++)if(i[r]!=n[r])return i[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},r.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=arguments,n=(e?r:d).read(i),s=d.read(i,0,{readNull:!0});return this.transform((new _)[t](n,s||this.getPosition(!0)))}},{translate:function(){var t=new _;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var n=this._matrix,r=t&&!t.isIdentity(),s=i&&this._canApplyMatrix||this._applyMatrix&&(r||!n.isIdentity()||e&&this._children);if(!r&&!s)return this;if(r){!t.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(t,!0);var o=this._style,a=o.getFillColor(!0),l=o.getStrokeColor(!0);a&&a.transform(t),l&&l.transform(t)}if(s&&(s=this._transformContent(n,e,i))){var h=this._pivot;h&&n._transformPoint(h,h,!0),n.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,u=this._position;(r||s)&&this._changed(25);var d=r&&c&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90==0){for(var f in c){var p=c[f];if(p.nonscaling)delete c[f];else if(s||!p.internal){var g=p.rect;t._transformBounds(g,g)}}this._bounds=c;var m=c[this._getBoundsCacheKey(this._boundsOptions||{})];m&&(this._position=this._getPositionFromBounds(m.rect))}else r&&u&&this._pivot&&(this._position=t._transformPoint(u,u));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var r=0,s=n.length;r<s;r++)n[r].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(d.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(d.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(d.read(arguments))},localToParent:function(){return this._matrix._transformPoint(d.read(arguments))},fitBounds:function(t,e){t=m.read(arguments);var i=this.getBounds(),n=i.height/i.width,r=t.height/t.width,s=(e?n>r:n<r)?t.width/i.width:t.height/i.height,o=new m(new d,new p(i.width*s,i.height*s));o.setCenter(t.getCenter()),this.setBounds(o)}}),{_setStyles:function(t,e,i){var n=this._style,r=this._matrix;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t,r)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=n.getStrokeWidth();var s=n.getStrokeJoin(),o=n.getStrokeCap(),a=n.getMiterLimit();if(s&&(t.lineJoin=s),o&&(t.lineCap=o),a&&(t.miterLimit=a),st.support.nativeDash){var l=n.getDashArray(),h=n.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=h):(t.mozDash=l,t.mozDashOffset=h))}}if(n.hasShadow()){var c=e.pixelRatio||1,u=i._shiftless().prepend((new _).scale(c,c)),f=u.transform(new d(n.getShadowBlur(),0)),p=u.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=f.getLength(),t.shadowOffsetX=p.x,t.shadowOffsetY=p.y}},draw:function(t,e,i){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var n=e.matrices,r=e.viewMatrix,s=this._matrix,o=n[n.length-1].appended(s);if(o.isInvertible()){r=r?r.appended(o):o,n.push(o),e.updateMatrix&&(this._globalMatrix=o);var a,l,h,u=this._blendMode,d=c.clamp(this._opacity,0,1),f="normal"===u,p=it.nativeModes[u],g=f&&1===d||e.dontStart||e.clip||(p||f&&d<1)&&this._canComposite(),m=e.pixelRatio||1;if(!g){var v=this.getStrokeBounds(r);if(!v.width||!v.height)return void n.pop();h=e.offset,l=e.offset=v.getTopLeft().floor(),a=t,t=et.getContext(v.getSize().ceil().add(1).multiply(m)),1!==m&&t.scale(m,m)}t.save();var _=i?i.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,y=!g&&e.clipItem,w=!_||y;if(g?(t.globalAlpha=d,p&&(t.globalCompositeOperation=u)):w&&t.translate(-l.x,-l.y),w&&(g?s:r).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),_){t.setTransform(m,0,0,m,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,r,_),t.restore(),n.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),g||(it.process(u,t,a,d,l.subtract(h).multiply(m)),et.release(t),e.offset=h)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof D)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,r){var s=this._selection,o=1&s,a=2&s||o&&this._selectBounds,l=4&s;if(this._drawSelected||(o=!1),(o||a||l)&&this._isUpdated(r)){var h,c=this.getSelectedColor(!0)||(h=this.getLayer())&&h.getSelectedColor(!0),u=e.appended(this.getGlobalMatrix(!0)),d=i/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",o&&this._drawSelected(t,u,n),l){var f=this.getPosition(!0),p=this._parent,g=p?p.localToGlobal(f):f,m=g.x,v=g.y;t.beginPath(),t.arc(m,v,d,0,2*Math.PI,!0),t.stroke();for(var _=[[0,-1],[1,0],[0,1],[-1,0]],y=d,w=i+1,b=0;b<4;b++){var x=_[b],S=x[0],C=x[1];t.moveTo(m+S*y,v+C*y),t.lineTo(m+S*w,v+C*w),t.stroke()}}if(a){var T=u._transformCorners(this.getInternalBounds());t.beginPath();for(b=0;b<8;b++)t[b?"lineTo":"moveTo"](T[b],T[++b]);t.closePath(),t.stroke();for(b=0;b<8;b++)t.fillRect(T[b]-d,T[++b]-d,i,i)}}},_canComposite:function(){return!1}},r.each(["down","drag","up","move"],function(t){this["removeOn"+r.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,r=n._removeSets=n._removeSets||{};r[i]=r[i]||{},r[i][this._id]=this}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i||(i=e,e=null));var n=i&&i.easing,r=i&&i.start,s=null!=i&&("number"==typeof i?i:i.duration),o=new Q(this,t,e,s,n,r);return s&&this.on("frame",function t(e){o._handleFrame(1e3*e.time),o.running||this.off("frame",t)}),o},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),x=b.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(i){t.base.call(this,i),2050&i&&(this._clipItem=e)},_getClipItem:function(){var t=this._clipItem;if(t===e){t=null;for(var i=this._children,n=0,r=i.length;n<r;n++)if(i[n]._clipMask){t=i[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(e),r.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,n){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,i,n,r)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,o=r.length;s<o;s++){var a=r[s];a!==n&&a.draw(t,e)}}}),S=x.extend({_class:"Layer",initialize:function(){x.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),C=b.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&r.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new g(t.width,t.height,this,"setSize")},setSize:function(){var t=p.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;"rectangle"===e?this._radius.set(p.min(this._radius,t.divide(2).abs())):"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius._set(i/2,n/2),this._size._set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new g(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var i=2*t;this._radius=t,this._size._set(i,i)}else if(t=p.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){i=p.max(this._size,t.multiply(2));this._size.set(i)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var i=new(I[r.capitalize(this._type)])({center:new d,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),st.settings.applyMatrix&&i.setApplyMatrix(!0),(t===e||t)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,n){var r=this._style,s=r.hasFill(),o=r.hasStroke(),a=e.dontFinish||e.clip,l=!n;if(s||o||a){var h=this._type,c=this._radius,u="circle"===h;if(e.dontStart||t.beginPath(),l&&u)t.arc(0,0,c,0,2*Math.PI,!0);else{var d=u?c:c.width,f=u?c:c.height,p=this._size,g=p.width,m=p.height;if(l&&"rectangle"===h&&0===d&&0===f)t.rect(-g/2,-m/2,g,m);else{var v=g/2,_=m/2,y=.44771525016920644,w=d*y,b=f*y,x=[-v,-_+f,-v,-_+b,-v+w,-_,-v+d,-_,v-d,-_,v-w,-_,v,-_+b,v,-_+f,v,_-f,v,_-b,v-w,_,v-d,_,-v+d,_,-v+w,_,-v,_-b,-v,_-f];n&&n.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==d&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),_!==f&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==d&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}a||!s&&!o||(this._setStyles(t,e,i),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new m(this._size).setCenter(0,0),n=this._style,r=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),r?i.expand(I._getStrokePadding(r,this._getStrokeMatrix(t,e))):i}},new function(){function t(t,e,i){var n=t._radius;if(!n.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var o=new d(s>1&&s<4?-1:1,s>2?-1:1),a=o.multiply(r),l=a.subtract(o.multiply(n));if(new m(i?a.add(o.multiply(i)):a,l).contains(e))return{point:l,quadrant:s}}}function e(t,e,i,n){var r=t.divide(e);return(!n||r.isInQuadrant(n))&&r.subtract(r.normalize()).multiply(e).divide(i).length<=1}return{_contains:function e(i){if("rectangle"===this._type){var n=t(this,i);return n?i.subtract(n.point).divide(this._radius).getLength()<=1:e.base.call(this,i)}return i.divide(this.size).getLength()<=.5},_hitTestSelf:function i(n,r,s,o){var a=!1,l=this._style,h=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(h||c){var u=this._type,d=this._radius,f=h?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(I._getStrokePadding(f,!l.getStrokeScaling()&&o));if("rectangle"===u){var g=p.multiply(2),v=t(this,n,g);if(v)a=e(n.subtract(v.point),d,p,v.quadrant);else{var _=new m(this._size).setCenter(0,0),y=_.expand(g),w=_.expand(g.negate());a=y._containsPoint(n)&&!w._containsPoint(n)}}else a=e(n,d,p)}return a?new P(h?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,i,n,s){var o=r.create(C.prototype);return o._type=t,o._size=i,o._radius=n,o._initialize(r.getNamed(s),e),o}return{Circle:function(){var e=arguments,i=d.readNamed(e,"center"),n=r.readNamed(e,"radius");return t("circle",i,new p(2*n),n,e)},Rectangle:function(){var e=arguments,i=m.readNamed(e,"rectangle"),n=p.min(p.readNamed(e,"radius"),i.getSize(!0).divide(2));return t("rectangle",i.getCenter(!0),i.getSize(!0),n,e)},Ellipse:function(){var e=arguments,i=C._readEllipse(e),n=i.radius;return t("ellipse",i.center,n.multiply(2),n,e)},_readEllipse:function(t){var e,i;if(r.hasNamed(t,"radius"))e=d.readNamed(t,"center"),i=p.readNamed(t,"radius");else{var n=m.readNamed(t,"rectangle");e=n.getCenter(!0),i=n.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),T=b.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,i){if(!this._initialize(t,i!==e&&d.read(arguments))){var r,s=typeof t,o="string"===s?n.getElementById(t):"object"===s?t:null;if(o&&o!==b.NO_INSERT)if(o.getContext||null!=o.naturalHeight)r=o;else if(o){var a=p.read(arguments);a.isZero()||(r=et.getCanvas(a))}r?this.setImage(r):this.setSource(t)}this._size||(this._size=new p,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=et.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new g(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var i=p.read(arguments);if(i.equals(this._size))e&&this.clear();else if(i.width>0&&i.height>0){var n=!e&&this.getElement();this._setImage(et.getCanvas(i)),n&&this.getContext(!0).drawImage(n,0,0,i.width,i.height)}else this._canvas&&et.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new d(0,0).transform(t),i=new d(1,0).transform(t).subtract(e),n=new d(0,1).transform(t).subtract(e);return new p(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function i(t){var i=e.getView(),n=t&&t.type||"load";i&&e.responds(n)&&(st=i._scope,e.emit(n,new U(t)))}this._setImage(t),this._loaded?setTimeout(i,0):t&&Z.add(t,{load:function(n){e._setImage(t),i(n)},error:i})},_setImage:function(t){this._canvas&&et.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new p(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=et.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){et.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(e){var i=new t.Image,n=this._crossOrigin;n&&(i.crossOrigin=n),e&&(i.src=e),this.setImage(i)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing="string"==typeof t?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=m.read(arguments),e=et.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=m.read(arguments),e=new T(b.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=d.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof z?(i=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new m(t):"x"in t&&(e=new m(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=Math.min(e.width,32),s=Math.min(e.height,32),o=T._sampleContext;o?o.clearRect(0,0,33,33):o=T._sampleContext=et.getContext(new p(32)),o.save();var a=(new _).scale(n/e.width,s/e.height).translate(-e.x,-e.y);a.applyToContext(o),i&&i.draw(o,new r({clip:!0,matrices:[a]})),this._matrix.applyToContext(o);var l=this.getElement(),h=this._size;l&&o.drawImage(l,-h.width/2,-h.height/2),o.restore();for(var c=o.getImageData(.5,.5,Math.ceil(n),Math.ceil(s)).data,u=[0,0,0],d=0,f=0,g=c.length;f<g;f+=4){var v=c[f+3];d+=v,v/=255,u[0]+=c[f]*v,u[1]+=c[f+1]*v,u[2]+=c[f+2]*v}for(f=0;f<3;f++)u[f]/=d;return d?F.read(u):null},getPixel:function(){var t=d.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new F("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=d.read(t),i=F.read(t),n=i._convert("rgb"),r=i._alpha,s=this.getContext(!0),o=s.createImageData(1,1),a=o.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=r?255*r:255,s.putImageData(o,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=p.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=m.read(arguments);return t.isEmpty()&&(t=new m(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=d.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var i=new m(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new P("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,i){var n=this.getElement();if(n&&n.width>0&&n.height>0){t.globalAlpha=c.clamp(this._opacity,0,1),this._setStyles(t,e,i);var r=this._smoothing,s="off"===r;V.setPrefixed(t,s?"imageSmoothingEnabled":"imageSmoothingQuality",!s&&r),t.drawImage(n,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),k=b.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==e&&d.read(arguments,1))||this.setDefinition(t instanceof A?t:new A(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var n=e.extend({all:!1}),r=this._definition._item._hitTest(t,n,i);return r&&(r.item=this),r},_draw:function(t,e){this._definition._item.draw(t,e)}}),A=r.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=u.get(),this.project=st.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return r.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&b._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new d),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new k(this,t)},clone:function(){return new A(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),P=r.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&this.inject(i)},statics:{getOptions:function(t){var e=t&&r.read(t);return new r({type:null,tolerance:st.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),E=r.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,n,r,s,o){var a,l,h,c,u=arguments.length;u>0&&(null==t||"object"==typeof t?1===u&&t&&"point"in t?(a=t.point,l=t.handleIn,h=t.handleOut,c=t.selection):(a=t,l=i,h=n,c=r):(a=[t,i],l=n!==e?[n,r]:null,h=s!==e?[s,o]:null)),new M(a,this,"_point"),new M(l,this,"_handleIn"),new M(h,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var i=this._point,n=this._selection,s=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&s.push(n),r.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i,n=e._curves,r=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(i=r>0?n[r-1]:e._closed?n[n.length-1]:null)||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(i=n[r])||i._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(d.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(d.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(d.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==e?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new L(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,i,n){var r=t||{},s=r.type,o=r.factor,a=this.getPrevious(),l=this.getNext(),h=(a||this)._point,c=this._point,u=(l||this)._point,f=h.getDistance(c),p=c.getDistance(u);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(a&&l){var g=h.subtract(u),m=o===e?.4:o,v=m*f/(f+p);i||this.setHandleIn(g.multiply(v)),n||this.setHandleOut(g.multiply(v-m))}}else{var _=o===e?.5:o,y=Math.pow(f,_),w=y*y,b=Math.pow(p,_),x=b*b;if(!i&&a){var S=2*x+3*b*y+w,C=3*b*(b+y);this.setHandleIn(0!==C?new d((x*h._x+S*c._x-w*u._x)/C-c._x,(x*h._y+S*c._y-w*u._y)/C-c._y):new d)}if(!n&&l){S=2*w+3*y*b+x,C=3*y*(y+b);this.setHandleOut(0!==C?new d((w*u._x+S*c._x-x*h._x)/C-c._x,(w*u._y+S*c._y-x*h._y)/C-c._y):new d)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new E(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new E(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,r=i,s=t._point,o=e._point,a=t._handleIn,l=e._handleIn,h=e._handleOut,c=t._handleOut;this._point._set(n*s._x+r*o._x,n*s._y+r*o._y,!0),this._handleIn._set(n*a._x+r*l._x,n*a._y+r*l._y,!0),this._handleOut._set(n*c._x+r*h._x,n*c._y+r*h._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,r=i&&this._handleIn.isZero()?null:this._handleIn,s=i&&this._handleOut.isZero()?null:this._handleOut,o=n._x,a=n._y,l=2;return e[0]=o,e[1]=a,r&&(e[l++]=r._x+o,e[l++]=r._y+a),s&&(e[l++]=s._x+o,e[l++]=s._y+a),t&&(t._transformCoordinates(e,e,l/2),o=e[0],a=e[1],i?(n._x=o,n._y=a,l=2,r&&(r._x=e[l++]-o,r._y=e[l++]-a),s&&(s._x=e[l++]-o,s._y=e[l++]-a)):(r||(e[l++]=o,e[l++]=a),s||(e[l++]=o,e[l++]=a))),e}}),M=d.extend({initialize:function(t,i,n){var r,s,o;if(t)if((r=t[0])!==e)s=t[1];else{var a=t;(r=a.x)===e&&(r=(a=d.read(arguments)).x),s=a.y,o=a.selected}else r=s=0;this._x=r,this._y=s,this._owner=i,i[n]=this,o&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=c.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),O=r.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,n,r,s,o,a){var l,h,c,u,d,f,p=arguments.length;3===p?(this._path=t,l=e,h=i):p?1===p?"segment1"in t?(l=new E(t.segment1),h=new E(t.segment2)):"point1"in t?(c=t.point1,d=t.handle1,f=t.handle2,u=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],u=[t[6],t[7]],d=[t[2]-t[0],t[3]-t[1]],f=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new E(t),h=new E(e)):4===p?(c=t,d=e,f=i,u=n):8===p&&(c=[t,e],u=[o,a],d=[i-t,n-e],f=[r-o,s-a]):(l=new E,h=new E),this._segment1=l||new E(c,null,d),this._segment2=h||new E(u,f,null)},_serialize:function(t,e){return r.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=e},clone:function(){return new O(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return O.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(d.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(d.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(d.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(d.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return O.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new d(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=O.getLength(this.getValues(),0,1)),this._length},getArea:function(){return O.getArea(this.getValues())},getLine:function(){return new y(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new O(O.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return O.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=null;if(t>=1e-8&&t<=1-1e-8){var n=O.subdivide(this.getValues(),t),r=n[0],s=n[1],o=e||this.hasHandles(),a=this._segment1,l=this._segment2,h=this._path;o&&(a._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(s[4]-s[6],s[5]-s[7]));var c=r[6],u=r[7],f=new E(new d(c,u),o&&new d(r[4]-c,r[5]-u),o&&new d(s[2]-c,s[3]-u));h?(h.insert(a._index+1,f),i=this.getNext()):(this._segment2=f,this._changed(),i=new O(f,l))}return i},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,i){return this.divideAtTime(t===e?.5:i?t:this.getTimeAt(t))},split:function(t,i){return this.splitAtTime(t===e?.5:i?t:this.getTimeAt(t))},reversed:function(){return new O(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var r=t._point,s=t._handleOut,o=e._handleIn,a=e._point,l=r.x,h=r.y,c=a.x,u=a.y,d=n?[l,h,l,h,c,u,c,u]:[l,h,l+s._x,h+s._y,c+o._x,u+o._y,c,u];return i&&i._transformCoordinates(d,d,4),d},subdivide:function(t,i){var n=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],h=t[6],c=t[7];i===e&&(i=.5);var u=1-i,d=u*n+i*s,f=u*r+i*o,p=u*s+i*a,g=u*o+i*l,m=u*a+i*h,v=u*l+i*c,_=u*d+i*p,y=u*f+i*g,w=u*p+i*m,b=u*g+i*v,x=u*_+i*w,S=u*y+i*b;return[[n,r,d,f,_,y,x,S],[x,S,w,b,m,v,h,c]]},getMonoCurves:function(t,e){var i=[],n=e?0:1,r=t[n+0],s=t[n+2],o=t[n+4],a=t[n+6];if(r>=s==s>=o&&s>=o==o>=a||O.isStraight(t))i.push(t);else{var l=3*(s-o)-r+a,h=2*(r+o)-4*s,u=s-r,d=[],f=c.solveQuadratic(l,h,u,d,1e-8,1-1e-8);if(f){d.sort();var p=d[0],g=O.subdivide(t,p);i.push(g[0]),f>1&&(p=(d[1]-p)/(1-p),g=O.subdivide(g[1],p),i.push(g[0])),i.push(g[1])}else i.push(t)}return i},solveCubic:function(t,e,i,n,r,s){var o=t[e],a=t[e+2],l=t[e+4],h=t[e+6],u=0;if(!(o<i&&h<i&&a<i&&l<i||o>i&&h>i&&a>i&&l>i)){var d=3*(a-o),f=3*(l-a)-d,p=h-o-d-f;u=c.solveCubic(p,f,d,o-i,n,r,s)}return u},getTimeOf:function(t,e){var i=new d(t[0],t[1]),n=new d(t[6],t[7]);if(null===(e.isClose(i,1e-12)?0:e.isClose(n,1e-12)?1:null))for(var r=[e.x,e.y],s=[],o=0;o<2;o++)for(var a=O.solveCubic(t,o,r[o],s,0,1),l=0;l<a;l++){var h=s[l];if(e.isClose(O.getPoint(t,h),1e-7))return h}return e.isClose(i,1e-7)?0:e.isClose(n,1e-7)?1:null},getNearestTime:function(t,e){if(O.isStraight(t)){var i=t[0],n=t[1],r=t[6]-i,s=t[7]-n,o=r*r+s*s;if(0===o)return 0;var a=((e.x-i)*r+(e.y-n)*s)/o;return a<1e-12?0:a>.999999999999?1:O.getTimeOf(t,new d(i+a*r,n+a*s))}var l=1/0,h=0;function c(i){if(i>=0&&i<=1){var n=e.getDistance(O.getPoint(t,i),!0);if(n<l)return l=n,h=i,!0}}for(var u=0;u<=100;u++)c(u/100);for(var f=.005;f>1e-8;)c(h-f)||c(h+f)||(f/=2);return h},getPart:function(t,e,i){var n=e>i;if(n){var r=e;e=i,i=r}return e>0&&(t=O.subdivide(t,e)[1]),i<1&&(t=O.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=3*r-2*i-l,u=3*s-2*n-h,d=3*o-2*l-i,f=3*a-2*h-n;return Math.max(c*c,d*d)+Math.max(u*u,f*f)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7];return 3*((l-i)*(n+s)-(a-e)*(r+o)+r*(e-s)-n*(i-o)+l*(s+e/3)-a*(o+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],r=0;r<2;r++)O._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,i,n);return new m(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,r,s,o,a,l){function h(t,e){var i=t-e,n=t+e;i<o[r]&&(o[r]=i),n>a[r]&&(a[r]=n)}s/=2;var u=o[r]+s,d=a[r]-s;if(t<u||e<u||i<u||n<u||t>d||e>d||i>d||n>d)if(e<t!=e<n&&i<t!=i<n)h(t,0),h(n,0);else{var f=3*(e-i)-t+n,p=2*(t+i)-4*e,g=e-t,m=c.solveQuadratic(f,p,g,l);h(n,0);for(var v=0;v<m;v++){var _=l[v],y=1-_;1e-8<=_&&_<=1-1e-8&&h(y*y*y*t+3*y*y*_*e+3*y*_*_*i+_*_*_*n,s)}}}}},r.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=I[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),r.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var r=n.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(i)){var s=new y(t,n);if(s.getDistance(t.add(e))<1e-7&&s.getDistance(n.add(i))<1e-7){var o=r.dot(r),a=r.dot(e)/o,l=r.dot(i)/o;return a>=0&&a<=1&&l<=0&&l>=-1}}return!1},isLinear:function(t,e,i,n){var r=n.subtract(t).divide(3);return e.equals(r)&&i.negate().equals(r)}},function(t,e){this[e]=function(e){var i=this._segment1,n=this._segment2;return t(i._point,i._handleOut,n._handleIn,n._point,e)},this.statics[e]=function(e,i){var n=e[0],r=e[1],s=e[6],o=e[7];return t(new d(n,r),new d(e[2]-n,e[3]-r),new d(e[4]-s,e[5]-o),new d(s,o),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new L(this,t):null},getTimeAt:function(t,e){return O.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=d.read(arguments);return t.isZero()?[]:O.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(d.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return O.getTimeOf(this.getValues(),d.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=d.read(arguments),e=this.getValues(),i=O.getNearestTime(e,t),n=O.getPoint(e,i);return new L(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return r.each(t,function(t){this[t+"At"]=function(e,i){var n=this.getValues();return O[t](n,i?e:O.getTimeAt(n,e))},this[t+"AtTime"]=function(e){return O[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=9*(n-s)+3*(t[6]-e),l=6*(e+s)-12*n,h=3*(n-e),c=9*(r-o)+3*(t[7]-i),u=6*(i+o)-12*r,d=3*(r-i);return function(t){var e=(a*t+l)*t+h,i=(c*t+u)*t+d;return Math.sqrt(e*e+i*i)}}function i(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,i,n){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],h=t[5],u=t[6],f=t[7],p=c.isZero;p(o-r)&&p(a-s)&&(o=r,a=s),p(l-u)&&p(h-f)&&(l=u,h=f);var g,m,v=3*(o-r),_=3*(l-o)-v,y=u-r-v-_,w=3*(a-s),b=3*(h-a)-w,x=f-s-w-b;if(0===i)g=0===e?r:1===e?u:((y*e+_)*e+v)*e+r,m=0===e?s:1===e?f:((x*e+b)*e+w)*e+s;else{if(e<1e-8?(g=v,m=w):e>1-1e-8?(g=3*(u-l),m=3*(f-h)):(g=(3*y*e+2*_)*e+v,m=(3*x*e+2*b)*e+w),n){0===g&&0===m&&(e<1e-8||e>1-1e-8)&&(g=l-o,m=h-a);var S=Math.sqrt(g*g+m*m);S&&(g/=S,m/=S)}if(3===i){l=6*y*e+2*_,h=6*x*e+2*b;var C=Math.pow(g*g+m*m,1.5);g=0!==C?(g*h-m*l)/C:0,m=0}}return 2===i?new d(m,-g):new d(g,m)}return{statics:{classify:function(t){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],u=r*(n-h)+s*(l-i)+i*h-n*l,d=3*(o*(s-n)+a*(i-r)+r*n-s*i),f=d-u,p=f-u+(i*(h-a)+n*(o-l)+l*a-h*o),g=Math.sqrt(p*p+f*f+d*d),m=0!==g?1/g:0,v=c.isZero;function _(t,i,n){var r=i!==e,s=r&&i>0&&i<1,o=r&&n>0&&n<1;return!r||(s||o)&&("loop"!==t||s&&o)||(t="arch",s=o=!1),{type:t,roots:s||o?s&&o?i<n?[i,n]:[n,i]:[s?i:n]:null}}if(f*=m,d*=m,v(p*=m))return v(f)?_(v(d)?"line":"quadratic"):_("serpentine",d/(3*f));var y=3*f*f-4*p*d;if(v(y))return _("cusp",f/(2*p));var w=y>0?Math.sqrt(y/3):Math.sqrt(-y),b=2*p;return _(y>0?"serpentine":"loop",(f+w)/b,(f-w)/b)},getLength:function(n,r,s,o){if(r===e&&(r=0),s===e&&(s=1),O.isStraight(n)){var a=n;s<1&&(a=O.subdivide(a,s)[0],r/=s),r>0&&(a=O.subdivide(a,r)[1]);var l=a[6]-a[0],h=a[7]-a[1];return Math.sqrt(l*l+h*h)}return c.integrate(o||t(n),r,s,i(r,s))},getTimeAt:function(n,r,s){if(s===e&&(s=r<0?1:0),0===r)return s;var o=Math.abs,a=r>0,l=a?s:0,h=a?1:s,u=t(n),d=O.getLength(n,l,h,u),f=o(r)-d;if(o(f)<1e-12)return a?h:l;if(f>1e-12)return null;var p=r/d,g=0;return c.findRoot(function(t){return g+=c.integrate(u,s,t,i(s,t)),s=t,g-r},u,s+p,l,h,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=3*n-e-3*s+t[6],l=3*e-6*n+3*s,h=-3*e+3*n,u=3*r-i-3*o+t[7],d=3*i-6*r+3*o,f=-3*i+3*r,p=[];return c.solveCubic(9*(a*a+u*u),9*(a*l+d*u),2*(l*l+d*d)+3*(h*a+f*u),h*l+d*f,p,1e-8,1-1e-8),p.sort()}}}},new function(){function t(t,e,i,n,r,s,o){var a=!o&&i.getPrevious()===r,l=!o&&i!==r&&i.getNext()===r;if(null!==n&&n>=(a?1e-8:0)&&n<=(l?1-1e-8:1)&&null!==s&&s>=(l?1e-8:0)&&s<=(a?1-1e-8:1)){var h=new L(i,n,null,o),c=new L(r,s,null,o);h._intersection=c,c._intersection=h,e&&!e(h)||L.insert(t,h,!0)}}function e(t,e,n,r){return t[0][1]<n?i(t,!0,n):e[0][1]>r?i(e,!1,r):t[0][0]}function i(t,e,i){for(var n=t[0][0],r=t[0][1],s=1,o=t.length;s<o;s++){var a=t[s][0],l=t[s][1];if(e?l>=i:l<=i)return l===i?a:n+(i-r)*(a-n)/(l-r);n=a,r=l}return null}function n(t,e,i,n,r){var s=c.isZero;if(s(n)&&s(r)){var o=O.getTimeOf(t,new d(e,i));return null===o?[]:[o]}for(var a=Math.atan2(-r,n),l=Math.sin(a),h=Math.cos(a),u=[],f=[],p=0;p<8;p+=2){var g=t[p]-e,m=t[p+1]-i;u.push(g*h-m*l,g*l+m*h)}return O.solveCubic(u,1,0,f,0,1),f}function r(i,r,s,a,l,h){var c=Math.min,u=Math.max;if(u(i[0],i[2],i[4],i[6])+1e-12>c(r[0],r[2],r[4],r[6])&&c(i[0],i[2],i[4],i[6])-1e-12<u(r[0],r[2],r[4],r[6])&&u(i[1],i[3],i[5],i[7])+1e-12>c(r[1],r[3],r[5],r[7])&&c(i[1],i[3],i[5],i[7])-1e-12<u(r[1],r[3],r[5],r[7])){var f=o(i,r);if(f)for(var p=0;p<2;p++){var g=f[p];t(l,h,s,g[0],a,g[1],!0)}else{var m=O.isStraight(i),v=O.isStraight(r),_=m&&v,w=m&&!v,b=l.length;if((_?function(e,i,n,r,s,o){var a=y.intersect(e[0],e[1],e[6],e[7],i[0],i[1],i[6],i[7]);a&&t(s,o,n,O.getTimeOf(e,a),r,O.getTimeOf(i,a))}:m||v?function(e,i,r,s,o,a,l){for(var h=i[0],c=i[1],u=n(e,h,c,i[6]-h,i[7]-c),d=0,f=u.length;d<f;d++){var p=u[d],g=O.getPoint(e,p),m=O.getTimeOf(i,g);null!==m&&t(o,a,l?s:r,l?m:p,l?r:s,l?p:m)}}:function i(n,r,s,o,a,l,h,c,u,d,f,p,g){if(++u>=4096||++c>=40)return u;var m,v,_=r[0],w=r[1],b=r[6],x=r[7],S=y.getSignedDistance,C=S(_,w,b,x,r[2],r[3]),T=S(_,w,b,x,r[4],r[5]),k=C*T>0?.75:4/9,A=k*Math.min(0,C,T),P=k*Math.max(0,C,T),E=S(_,w,b,x,n[0],n[1]),M=S(_,w,b,x,n[2],n[3]),L=S(_,w,b,x,n[4],n[5]),z=S(_,w,b,x,n[6],n[7]),I=function(t,e,i,n){var r,s=[0,t],o=[1/3,e],a=[2/3,i],l=[1,n],h=e-(2*t+n)/3,c=i-(t+2*n)/3;if(h*c<0)r=[[s,o,l],[s,a,l]];else{var u=h/c;r=[u>=2?[s,o,l]:u<=.5?[s,a,l]:[s,o,a,l],[s,l]]}return(h||c)<0?r.reverse():r}(E,M,L,z),D=I[0],B=I[1];if(0===C&&0===T&&0===E&&0===M&&0===L&&0===z||null==(m=e(D,B,A,P))||null==(v=e(D.reverse(),B.reverse(),A,P)))return u;var R=d+(f-d)*m,q=d+(f-d)*v;if(Math.max(g-p,q-R)<1e-9){var N=(R+q)/2,F=(p+g)/2;t(a,l,h?o:s,h?F:N,h?s:o,h?N:F)}else{n=O.getPart(n,m,v);var j=g-p;if(v-m>.8)if(q-R>j)N=(R+q)/2,u=i(r,(H=O.subdivide(n,.5))[0],o,s,a,l,!h,c,u,p,g,R,N),u=i(r,H[1],o,s,a,l,!h,c,u,p,g,N,q);else{var H;F=(p+g)/2,u=i((H=O.subdivide(r,.5))[0],n,o,s,a,l,!h,c,u,p,F,R,q),u=i(H[1],n,o,s,a,l,!h,c,u,F,g,R,q)}else u=0===j||j>=1e-9?i(r,n,o,s,a,l,!h,c,u,p,g,R,q):i(n,r,s,o,a,l,h,c,u,R,q,p,g)}return u})(w?r:i,w?i:r,w?a:s,w?s:a,l,h,w,0,0,0,1,0,1),!_||l.length===b)for(p=0;p<4;p++){var x=p>>1,S=1&p,C=6*x,T=6*S,k=new d(i[C],i[C+1]),A=new d(r[T],r[T+1]);k.isClose(A,1e-12)&&t(l,h,s,x,a,S)}}}return l}function s(e,i,n,r){var s=O.classify(e);if("loop"===s.type){var o=s.roots;t(n,r,i,o[0],i,o[1])}return n}function o(t,e){function i(t){var e=t[6]-t[0],i=t[7]-t[1];return e*e+i*i}var n=Math.abs,r=y.getDistance,s=O.isStraight(t),o=O.isStraight(e),a=s&&o,l=i(t)<i(e),h=l?e:t,c=l?t:e,u=h[0],f=h[1],p=h[6]-u,g=h[7]-f;if(r(u,f,p,g,c[0],c[1],!0)<1e-7&&r(u,f,p,g,c[6],c[7],!0)<1e-7)!a&&r(u,f,p,g,h[2],h[3],!0)<1e-7&&r(u,f,p,g,h[4],h[5],!0)<1e-7&&r(u,f,p,g,c[2],c[3],!0)<1e-7&&r(u,f,p,g,c[4],c[5],!0)<1e-7&&(s=o=a=!0);else if(a)return null;if(s^o)return null;for(var m=[t,e],v=[],_=0;_<4&&v.length<2;_++){var w=1&_,b=1^w,x=_>>1,S=O.getTimeOf(m[w],new d(m[b][x?6:0],m[b][x?7:1]));if(null!=S){var C=w?[x,S]:[S,x];(!v.length||n(C[0]-v[0][0])>1e-8&&n(C[1]-v[0][1])>1e-8)&&v.push(C)}if(_>2&&!v.length)break}if(2!==v.length)v=null;else if(!a){var T=O.getPart(t,v[0][0],v[1][0]),k=O.getPart(e,v[0][1],v[1][1]);(n(k[2]-T[2])>1e-7||n(k[3]-T[3])>1e-7||n(k[4]-T[4])>1e-7||n(k[5]-T[5])>1e-7)&&(v=null)}return v}return{getIntersections:function(t){var e=this.getValues(),i=t&&t!==this&&t.getValues();return i?r(e,i,this,t,[]):s(e,this,[])},statics:{getOverlaps:o,getIntersections:function(t,e,i,n,o,a){var h=!e;h&&(e=t);for(var c=t.length,u=e.length,d=new Array(c),f=h?d:new Array(u),p=[],g=0;g<c;g++)d[g]=t[g].getValues(n);if(!h)for(g=0;g<u;g++)f[g]=e[g].getValues(o);for(var m=l.findCurveBoundsCollisions(d,f,1e-7),v=0;v<c;v++){var _=t[v],y=d[v];h&&s(y,_,p,i);var w=m[v];if(w)for(var b=0;b<w.length;b++){if(a&&p.length)return p;var x=w[b];if(!h||x>v){var S=e[x];r(y,f[x],_,S,p,i)}}}return p},getCurveLineIntersections:n,getTimesWithTangent:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],u=e.normalize(),d=u.x,f=u.y,p=3*l-9*o+9*r-3*i,g=3*h-9*a+9*s-3*n,m=6*o-12*r+6*i,v=6*a-12*s+6*n,_=3*r-3*i,y=3*s-3*n,w=2*p*f-2*g*d,b=[];if(Math.abs(w)<c.CURVETIME_EPSILON){if(0!=(w=p*v-g*m)){var x=-(p*y-g*_)/w;x>=0&&x<=1&&b.push(x)}}else{var S=(m*m-4*p*_)*f*f+(-2*m*v+4*g*_+4*p*y)*d*f+(v*v-4*g*y)*d*d,C=m*f-v*d;if(S>=0&&0!=w){var T=Math.sqrt(S),k=-(C+T)/w,A=(-C+T)/w;k>=0&&k<=1&&b.push(k),A>=0&&A<=1&&b.push(A)}}return b}}}}),L=r.extend({_class:"CurveLocation",initialize:function(t,e,i,n,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=r,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();0===i?t=e._segment1:1===i?t=e._segment2:null!=i&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;function i(t){var i=t&&t.getCurve();if(i&&null!=(e._time=i.getTimeOf(e._point)))return e._setCurve(i),i}return t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),r=0;r<i;r++)t+=n[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=null!=i&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof L){var n=this.getCurve(),r=t.getCurve(),s=n._path;if(s===r._path){var o=Math.abs,a=o(this.getOffset()-t.getOffset()),l=!e&&this._intersection,h=!e&&t._intersection;i=(a<1e-7||s&&o(s.getLength()-a)<1e-7)&&(!l&&!h||l&&h&&l.equals(h,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=h.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var r=this.getTime();return null!=r&&t.push("time: "+i.number(r)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),n=e>=1e-8&&e<=1-1e-8,r=i>=1e-8&&i<=1-1e-8;if(n&&r)return!this.isTouching();var s=this.getCurve(),o=s&&e<1e-8?s.getPrevious():s,a=t.getCurve(),l=a&&i<1e-8?a.getPrevious():a;if(e>1-1e-8&&(s=s.getNext()),i>1-1e-8&&(a=a.getNext()),!(o&&s&&l&&a))return!1;var h=[];function c(t,e){var i=t.getValues(),n=O.classify(i).roots||O.getPeaks(i),r=n.length,s=O.getLength(i,e&&r?n[r-1]:0,!e&&r?n[0]:1);h.push(r?s:s/32)}function u(t,e,i){return e<i?t>e&&t<i:t>e||t<i}n||(c(o,!0),c(s,!1)),r||(c(l,!0),c(a,!1));var d=this.getPoint(),f=Math.min.apply(Math,h),p=n?s.getTangentAtTime(e):s.getPointAt(f).subtract(d),g=n?p.negate():o.getPointAt(-f).subtract(d),m=r?a.getTangentAtTime(i):a.getPointAt(f).subtract(d),v=r?m.negate():l.getPointAt(-f).subtract(d),_=g.getAngle(),y=p.getAngle(),w=v.getAngle(),b=m.getAngle();return!!(n?u(_,w,b)^u(y,w,b)&&u(_,b,w)^u(y,b,w):u(w,_,y)^u(b,_,y)&&u(w,y,_)^u(b,y,_))},hasOverlap:function(){return!!this._overlap}},r.each(O._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),i=this.getTime();return null!=i&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function t(t,e,i){var n=t.length,r=0,s=n-1;function o(i,r){for(var s=i+r;s>=-1&&s<=n;s+=r){var o=t[(s%n+n)%n];if(!e.getPoint().isClose(o.getPoint(),1e-7))break;if(e.equals(o))return o}return null}for(;r<=s;){var a,l=r+s>>>1,h=t[l];if(i&&(a=e.equals(h)?h:o(l,-1)||o(l,1)))return e._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=e.getPath(),u=h.getPath();(c!==u?c._id-u._id:e.getIndex()+e.getTime()-(h.getIndex()+h.getTime()))<0?s=l-1:r=l+1}return t.splice(r,0,e),e}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),n=e.length-1;n>=0;n--)t(i,e[n]._intersection,!1);return i}}}}),z=b.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;if(r.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:"string"==typeof t&&(e=t),i){var s=i[0];n=s&&Array.isArray(s[0])}else e&&(n=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(n?D:I)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e,i,n,r=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),s=!1,o=new d,a=new d;function l(t,i){var n=+e[t];return s&&(n+=o[i]),n}function h(t){return new d(l(t,"x"),l(t+1,"y"))}this.clear();for(var c=0,u=r&&r.length;c<u;c++){var f=r[c],g=f[0],m=g.toLowerCase(),v=(e=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&e.length;switch(s=g===m,"z"!==i||/[mz]/.test(m)||this.moveTo(o),m){case"m":case"l":for(var _="m"===m,y=0;y<v;y+=2)this[_?"moveTo":"lineTo"](o=h(y)),_&&(a=o,_=!1);n=o;break;case"h":case"v":var w="h"===m?"x":"y";o=o.clone();for(y=0;y<v;y++)o[w]=l(y,w),this.lineTo(o);n=o;break;case"c":for(y=0;y<v;y+=6)this.cubicCurveTo(h(y),n=h(y+2),o=h(y+4));break;case"s":for(y=0;y<v;y+=4)this.cubicCurveTo(/[cs]/.test(i)?o.multiply(2).subtract(n):o,n=h(y),o=h(y+2)),i=m;break;case"q":for(y=0;y<v;y+=4)this.quadraticCurveTo(n=h(y),o=h(y+2));break;case"t":for(y=0;y<v;y+=2)this.quadraticCurveTo(n=/[qt]/.test(i)?o.multiply(2).subtract(n):o,o=h(y)),i=m;break;case"a":for(y=0;y<v;y+=7)this.arcTo(o=h(y+5),new p(+e[y],+e[y+1]),+e[y+2],+e[y+4],+e[y+3]);break;case"z":this.closePath(1e-12),o=a}i=m}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,i,n){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),o=r?s:(i||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(t.getBounds(o),1e-12)?O.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,o,n):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var t=d.read(arguments),e=this.getCurves(),i=1/0,n=null,r=0,s=e.length;r<s;r++){var o=e[r].getNearestLocation(t);o._distance<i&&(i=o._distance,n=o)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,i){var n=!this._children,r=n?"_segments":"_children",s=t[r],o=e[r],a=this[r];if(!s||!o||s.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=a.length,h=o.length;if(l<h)for(var c=n?E:I,u=l;u<h;u++)this.add(new c);else l>h&&this[n?"removeSegments":"removeChildren"](h,l);for(u=0;u<h;u++)a[u].interpolate(s[u],o[u],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],n=t._children?t._children.slice():[t],r=i.length,s=n.length,o=[],a=0;e=!0;for(var h=l.findItemBoundsCollisions(i,n,c.GEOMETRIC_EPSILON),u=r-1;u>=0&&e;u--){var d=i[u];e=!1;var f=h[u];if(f)for(var p=f.length-1;p>=0&&!e;p--)d.compare(n[f[p]])&&(o[f[p]]||(o[f[p]]=!0,a++),e=!0)}e=e&&a===s}return e}}),I=z.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=arguments,n=Array.isArray(t)?"object"==typeof t[0]?t:i:!t||t.size!==e||t.x===e&&t.point===e?null:i;n&&n.length>0?this.setSegments(n):(this._curves=e,this._segmentSelection=0,n||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(t){return this._closed===t._closed&&r.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(i){if(t.base.call(this,i),8&i){if(this._length=this._area=e,32&i)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;n<r;n++)this._curves[n]._changed()}else 64&i&&(this._bounds=e)},getStyle:function(){var t=this._parent;return(t instanceof D?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var i=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=e,n){var r=t[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(E.readList(t,0,{},n))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new O(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new O(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var i,n,r,s,o,a,l,c,u=this._segments,d=u.length,f=new h(e),p=new Array(6),g=!0,m=[];function v(e,h){if(e._transformCoordinates(t,p),i=p[0],n=p[1],g)m.push("M"+f.pair(i,n)),g=!1;else if(o=p[2],a=p[3],o===i&&a===n&&l===r&&c===s){if(!h){var u=i-r,d=n-s;m.push(0===u?"v"+f.number(d):0===d?"h"+f.number(u):"l"+f.pair(u,d))}}else m.push("c"+f.pair(l-r,c-s)+" "+f.pair(o-r,a-s)+" "+f.pair(i-r,n-s));r=i,s=n,l=p[4],c=p[5]}if(!d)return"";for(var _=0;_<d;_++)v(u[_]);return this._closed&&d>0&&(v(u[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,r=e.length;n<r;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,s=t.length,o=null==e,a=(e=o?i.length:e,0);a<s;a++){var l=t[a];l._path&&(l=t[a]=l.clone()),l._path=this,l._index=e+a,l._selection&&this._updateSelection(l,0,l._selection)}if(o)r.push(i,t);else{i.splice.apply(i,[e,0].concat(t));a=e+s;for(var h=i.length;a<h;a++)i[a]._index=a}if(n){var c=this._countCurves(),u=e>0&&e+s-1===c?e-1:e,d=u,f=Math.min(u+s,c);t._curves&&(n.splice.apply(n,[u,0].concat(t._curves)),d+=t._curves.length);for(a=d;a<f;a++)n.splice(a,0,new O(this,null,null));this._adjustCurves(u,f)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i,n=this._segments,r=this._curves,s=t;s<e;s++)(i=r[s])._path=this,i._segment1=n[s],i._segment2=n[s+1]||n[0],i._changed();(i=r[this._closed&&!t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=r[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&"number"!=typeof t?this._add(E.readList(e)):this._add([E.read(e)])[0]},insert:function(t,e){var i=arguments;return i.length>2&&"number"!=typeof e?this._add(E.readList(i,1),t):this._add([E.read(i,1)],t)[0]},addSegment:function(){return this._add([E.read(arguments)])[0]},insertSegment:function(t){return this._add([E.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(E.readList(t))},insertSegments:function(t,e){return this._add(E.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=r.pick(e,this._segments.length);var n=this._segments,s=this._curves,o=n.length,a=n.splice(t,e-t),l=a.length;if(!l)return a;for(var h=0;h<l;h++){var c=a[h];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}h=t;for(var u=n.length;h<u;h++)n[h]._index=h;if(s){var d=t>0&&e===o+(this._closed?1:0)?t-1:t;for(h=(s=s.splice(d,l)).length-1;h>=0;h--)s[h]._path=null;i&&(a._curves=s.slice(1)),this._adjustCurves(d,d)}return this._changed(41),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,i=this._closed;t=0;for(var n=0,r=e.length;n<r;n++){var s=n+1===r;t+=O.getArea(O.getValues(e[n],e[s?0:n+1],null,s&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var r=0;r<i;r++)e[r]._selection=n},_updateSelection:function(t,e,i){t._selection=i,(this._segmentSelection+=i-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,i=this.getLocationAt(t);return i&&(e=i.getCurve().divideAt(i.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,n=e&&e.time;n>1-1e-8&&(i++,n=0);var r=this.getCurves();if(i>=0&&i<r.length){n>=1e-8&&r[i++].divideAtTime(n);var s,o=this.removeSegments(i,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):((s=new I(b.NO_INSERT)).insertAbove(this),s.copyAttributes(this)),s._add(o,0),this.addSegment(o[0]),s}return null},split:function(t,i){var n,r=i===e?t:(n=this.getCurves()[t])&&n.getLocationAtTime(i);return null!=r?this.splitAt(r):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,i)&&t.reverse();var o=t.getFirstSegment();if(r&&r._point.isClose(o._point,i))r.setHandleOut(o._handleOut),this._add(n.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(o._point,i)&&t.reverse(),s=t.getLastSegment(),a&&a._point.isClose(s._point,i)?(a.setHandleIn(s._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var l=this.getFirstSegment(),h=this.getLastSegment();return l!==h&&l._point.isClose(h._point,i)&&(l.setHandleIn(h._handleIn),h.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(n)||i&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new B(this,t||.25,256,!0).parts,i=e.length,n=[],r=0;r<i;r++)n.push(new E(e[r].curve.slice(0,2)));!this._closed&&i>0&&n.push(new E(e[i-1].curve.slice(6))),this.setSegments(n)},simplify:function(t){var e=new R(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var i=this,n=t||{},r=n.type||"asymmetric",s=this._segments,o=s.length,a=this._closed;function l(t,e){var n=t&&t.index;if(null!=n){var r=t.path;if(r&&r!==i)throw new Error(t._class+" "+n+" of "+r+" is not part of "+i);e&&t instanceof O&&n++}else n="number"==typeof t?t:e;return Math.min(n<0&&a?n%o:n<0?n+o:n,o-1)}var h=a&&n.from===e&&n.to===e,c=l(n.from,0),u=l(n.to,o-1);if(c>u)if(a)c-=o;else{var d=c;c=u,u=d}if(/^(?:asymmetric|continuous)$/.test(r)){var f="asymmetric"===r,p=Math.min,g=u-c+1,m=g-1,v=h?p(g,4):1,_=v,y=v,w=[];if(a||(_=p(1,c),y=p(1,o-u-1)),(m+=_+y)<=1)return;for(var b=0,x=c-_;b<=m;b++,x++)w[b]=s[(x<0?x+o:x)%o]._point;var S=w[0]._x+2*w[1]._x,C=w[0]._y+2*w[1]._y,T=2,k=m-1,A=[S],P=[C],E=[T],M=[],L=[];for(b=1;b<m;b++){var z=b<k,I=z?4:f?2:7,D=z?4:f?3:8,B=z?2:f?0:1,R=(z?1:f?1:2)/T;T=E[b]=I-R,S=A[b]=D*w[b]._x+B*w[b+1]._x-R*S,C=P[b]=D*w[b]._y+B*w[b+1]._y-R*C}M[k]=A[k]/E[k],L[k]=P[k]/E[k];for(b=m-2;b>=0;b--)M[b]=(A[b]-M[b+1])/E[b],L[b]=(P[b]-L[b+1])/E[b];M[m]=(3*w[m]._x-M[k])/2,L[m]=(3*w[m]._y-L[k])/2;b=_;var q=m-y;for(x=c;b<=q;b++,x++){var N=s[x<0?x+o:x],F=N._point,j=M[b]-F._x,H=L[b]-F._y;(h||b<q)&&N.setHandleOut(j,H),(h||b>_)&&N.setHandleIn(-j,-H)}}else for(b=c;b<=u;b++)s[b<0?b+o:b].smooth(n,!h&&b===c,!h&&b===u)},toShape:function(t){if(!this._closed)return null;var i,n,r,s,o,a,l,h=this._segments;function u(t,e){var i=h[t],n=i.getNext(),r=h[e],s=r.getNext();return i._handleOut.isZero()&&n._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&n._point.subtract(i._point).isCollinear(s._point.subtract(r._point))}function d(t){var e=h[t],i=e.getNext(),n=e._handleOut,r=i._handleIn;if(n.isOrthogonal(r)){var s=e._point,o=i._point,a=new y(s,n,!0).intersect(new y(o,r,!0),!0);return a&&c.isZero(n.getLength()/a.subtract(s).getLength()-.5522847498307936)&&c.isZero(r.getLength()/a.subtract(o).getLength()-.5522847498307936)}return!1}function f(t,e){return h[t]._point.getDistance(h[e]._point)}if(!this.hasHandles()&&4===h.length&&u(0,2)&&u(1,3)&&(o=h[1],a=o.getPrevious(),l=o.getNext(),a._handleOut.isZero()&&o._handleIn.isZero()&&o._handleOut.isZero()&&l._handleIn.isZero()&&o._point.subtract(a._point).isOrthogonal(l._point.subtract(o._point)))?(i=C.Rectangle,n=new p(f(0,3),f(0,1)),s=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&d(0)&&d(2)&&d(4)&&d(6)&&u(1,5)&&u(3,7)?(i=C.Rectangle,r=(n=new p(f(1,6),f(0,3))).subtract(new p(f(0,7),f(1,2))).divide(2),s=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&d(0)&&d(1)&&d(2)&&d(3)&&(c.isZero(f(0,2)-f(1,3))?(i=C.Circle,r=f(0,2)/2):(i=C.Ellipse,r=new p(f(2,0)/2,f(3,1)/2)),s=h[1]._point),i){var g=this.getPosition(!0),m=new i({center:g,size:n,radius:r,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(s.subtract(g).getAngle()+90),(t===e||t)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof D)return t.base.call(this,e);var i=this.getCurves(),n=e.getCurves(),r=i.length,s=n.length;if(!r||!s)return r==s;for(var o,a,l=i[0].getValues(),h=[],c=0,u=0,d=0;d<s;d++){var f=n[d].getValues();if(h.push(f),m=O.getOverlaps(l,f)){o=!d&&m[0][0]>0?s-1:d,a=m[0][1];break}}var p,g=Math.abs;for(f=h[o];l&&f;){var m;if(m=O.getOverlaps(l,f))if(g(m[0][0]-u)<1e-8){1===(u=m[1][0])&&(l=++c<r?i[c].getValues():null,u=0);var v=m[0][1];if(g(v-a)<1e-8){if(p||(p=[o,v]),1===(a=m[1][1])&&(++o>=s&&(o=0),f=h[o]||n[o].getValues(),a=0),!l)return p[0]===o&&p[1]===a;continue}}break}return!1},_hitTestSelf:function(t,e,i,n){var r,s,o,a,l,h,c=this,u=this.getStyle(),d=this._segments,f=d.length,p=this._closed,g=e._tolerancePadding,m=g,v=e.stroke&&u.hasStroke(),_=e.fill&&u.hasFill(),y=e.curves,w=v?u.getStrokeWidth()/2:_&&e.tolerance>0||y?0:null;function b(e,i){return t.subtract(e).divide(i).length<=1}function x(t,i,n){if(!e.selected||i.isSelected()){var r=t._point;if(i!==r&&(i=i.add(r)),b(i,m))return new P(n,c,{segment:t,point:i})}}function S(t,i){return(i||e.segments)&&x(t,t._point,"segment")||!i&&e.handles&&(x(t,t._handleIn,"handle-in")||x(t,t._handleOut,"handle-out"))}function C(t){a.add(t)}function T(e){var i,l=p||e._index>0&&e._index<f-1;return"round"===(l?r:s)?b(e._point,m):(a=new I({internal:!0,closed:!0}),l?e.isSmooth()||I._addBevelJoin(e,r,w,o,null,n,C,!0):"square"===s&&I._addSquareCap(e,s,w,null,n,C,!0),a.isEmpty()?void 0:a.contains(t)||(i=a.getNearestLocation(t))&&b(i.getPoint(),g))}if(null!==w&&(w>0?(r=u.getStrokeJoin(),s=u.getStrokeCap(),o=u.getMiterLimit(),m=m.add(I._getStrokePadding(w,n))):r=s="round"),!e.ends||e.segments||p){if(e.segments||e.handles)for(var k=0;k<f;k++)if(h=S(d[k]))return h}else if(h=S(d[0],!0)||S(d[f-1],!0))return h;if(null!==w){if(l=this.getNearestLocation(t)){var A=l.getTime();0===A||1===A&&f>1?T(l.getSegment())||(l=null):b(l.getPoint(),m)||(l=null)}if(!l&&"miter"===r&&f>1)for(k=0;k<f;k++){var E=d[k];if(t.getDistance(E._point)<=o*w&&T(E)){l=E.getLocation();break}}}return!l&&_&&this._contains(t)||l&&!v&&!y?new P("fill",this):l?new P(v?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},r.each(O._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=d.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var r=e[i].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),i=0,n=0,r=e.length;n<r;n++){var s=i,o=e[n];if((i+=o.getLength())>t)return o.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new L(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=d.read(arguments);if(t.isZero())return[];for(var e=[],i=0,n=this.getCurves(),r=0,s=n.length;r<s;r++){for(var o=n[r],a=o.getTimesWithTangent(t),l=0,h=a.length;l<h;l++){var c=i+o.getOffsetAtTime(a[l]);e.indexOf(c)<0&&e.push(c)}i+=o.length}return e}}),new function(){function t(t,e,i){var n,r,s,o,a,l,h,c,u=e._segments,d=u.length,f=new Array(6),p=!0;function g(e){if(i)e._transformCoordinates(i,f),n=f[0],r=f[1];else{var u=e._point;n=u._x,r=u._y}if(p)t.moveTo(n,r),p=!1;else{if(i)a=f[2],l=f[3];else{var d=e._handleIn;a=n+d._x,l=r+d._y}a===n&&l===r&&h===s&&c===o?t.lineTo(n,r):t.bezierCurveTo(h,c,a,l,n,r)}if(s=n,o=r,i)h=f[4],c=f[5];else{d=e._handleOut;h=s+d._x,c=o+d._y}}for(var m=0;m<d;m++)g(u[m]);e._closed&&d>0&&g(u[0])}return{_draw:function(e,i,n,r){var s=i.dontStart,o=i.dontFinish||i.clip,a=this.getStyle(),l=a.hasFill(),h=a.hasStroke(),c=a.getDashArray(),u=!st.support.nativeDash&&h&&c&&c.length;function d(t){return c[(t%u+u)%u]}if(s||e.beginPath(),(l||h&&!u||o)&&(t(e,this,r),this._closed&&e.closePath()),!o&&(l||h)&&(this._setStyles(e,i,n),l&&(e.fill(a.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h)){if(u){s||e.beginPath();for(var f,p=new B(this,.25,32,!1,r),g=p.length,m=-a.getDashOffset(),v=0;m>0;)m-=d(v--)+d(v--);for(;m<g;)f=m+d(v++),(m>0||f>0)&&p.drawPart(e,Math.max(m,0),Math.max(f,0)),m=f+d(v++)}e.stroke()}},_drawSelected:function(e,i){e.beginPath(),t(e,this,i),e.stroke(),function(t,e,i,n){if(!(n<=0))for(var r,s,o=n/2,a=n-2,l=o-1,h=new Array(6),c=0,u=e.length;c<u;c++){var d=e[c],f=d._selection;if(d._transformCoordinates(i,h),r=h[0],s=h[1],2&f&&g(2),4&f&&g(4),t.fillRect(r-o,s-o,n,n),a>0&&!(1&f)){var p=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(r-l,s-l,a,a),t.fillStyle=p}}function g(e){var i=h[e],n=h[e+1];r==i&&s==n||(t.beginPath(),t.moveTo(r,s),t.lineTo(i,n),t.stroke(),t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!0),t.fill())}}(e,this._segments,i,st.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new E(d.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new E(d.read(arguments))])},cubicCurveTo:function(){var e=arguments,i=d.read(e),n=d.read(e),r=d.read(e),s=t(this);s.setHandleOut(i.subtract(s._point)),this._add([new E(r,n.subtract(r))])},quadraticCurveTo:function(){var e=arguments,i=d.read(e),n=d.read(e),r=t(this)._point;this.cubicCurveTo(i.add(r.subtract(i).multiply(1/3)),i.add(n.subtract(i).multiply(1/3)),n)},curveTo:function(){var e=arguments,i=d.read(e),n=d.read(e),s=r.pick(r.read(e),.5),o=1-s,a=t(this)._point,l=i.subtract(a.multiply(o*o)).subtract(n.multiply(s*s)).divide(2*s*o);if(l.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(l,n)},arcTo:function(){var e,i,n,s,o=arguments,a=Math.abs,l=Math.sqrt,h=t(this),u=h._point,f=d.read(o),g=r.peek(o);if("boolean"==typeof(x=r.pick(g,!0)))var m=(C=u.add(f).divide(2)).add(C.subtract(u).rotate(x?-90:90));else if(r.remain(o)<=2)m=f,f=d.read(o);else if(!u.equals(f)){var v=p.read(o),w=c.isZero;if(w(v.width)||w(v.height))return this.lineTo(f);var b=r.read(o),x=!!r.read(o),S=!!r.read(o),C=u.add(f).divide(2),T=(X=u.subtract(C).rotate(-b)).x,k=X.y,A=a(v.width),P=a(v.height),M=A*A,O=P*P,L=T*T,z=k*k,I=l(L/M+z/O);if(I>1&&(M=(A*=I)*A,O=(P*=I)*P),a(I=(M*O-M*z-O*L)/(M*z+O*L))<1e-12&&(I=0),I<0)throw new Error("Cannot create an arc with the given arguments");e=new d(A*k/P,-P*T/A).multiply((S===x?-1:1)*l(I)).rotate(b).add(C),i=(n=(s=(new _).translate(e).rotate(b).scale(A,P))._inverseTransform(u)).getDirectedAngle(s._inverseTransform(f)),!x&&i>0?i-=360:x&&i<0&&(i+=360)}if(m){var D=new y(u.add(m).divide(2),m.subtract(u).rotate(90),!0),B=new y(m.add(f).divide(2),f.subtract(m).rotate(90),!0),R=new y(u,f),q=R.getSide(m);if(!(e=D.intersect(B,!0))){if(!q)return this.lineTo(f);throw new Error("Cannot create an arc with the given arguments")}i=(n=u.subtract(e)).getDirectedAngle(f.subtract(e));var N=R.getSide(e,!0);0===N?i=q*a(i):q===N&&(i+=i<0?360:-360)}if(i){for(var F=a(i),j=F>=360?4:Math.ceil((F-1e-5)/90),H=i/j,W=H*Math.PI/360,V=4/3*Math.sin(W)/(1+Math.cos(W)),Z=[],Y=0;Y<=j;Y++){var X=f,U=null;if(Y<j&&(U=n.rotate(90).multiply(V),s?(X=s._transformPoint(n),U=s._transformPoint(n.add(U)).subtract(X)):X=e.add(n)),Y){var $=n.rotate(-90).multiply(V);s&&($=s._transformPoint(n.add($)).subtract(X)),Z.push(new E(X,$,U))}else h.setHandleOut(U);n=n.rotate(H)}this._add(Z)}},lineBy:function(){var e=d.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=arguments,i=d.read(e),n=d.read(e),s=r.read(e),o=t(this)._point;this.curveTo(o.add(i),o.add(n),s)},cubicCurveBy:function(){var e=arguments,i=d.read(e),n=d.read(e),r=d.read(e),s=t(this)._point;this.cubicCurveTo(s.add(i),s.add(n),s.add(r))},quadraticCurveBy:function(){var e=arguments,i=d.read(e),n=d.read(e),r=t(this)._point;this.quadraticCurveTo(r.add(i),r.add(n))},arcBy:function(){var e=arguments,i=t(this)._point,n=i.add(d.read(e)),s=r.pick(r.peek(e),!0);"boolean"==typeof s?this.arcTo(n,s):this.arcTo(n,i.add(d.read(e)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return I[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,r,s){var o=t[0];if(!o)return new m;var a=new Array(6),l=o._transformCoordinates(n,new Array(6)),h=l.slice(0,2),c=h.slice(),u=new Array(2);function d(t){t._transformCoordinates(n,a);for(var e=0;e<2;e++)O._addBounds(l[e],l[e+4],a[e+2],a[e],e,s?s[e]:0,h,c,u);var i=l;l=a,a=i}for(var f=1,p=t.length;f<p;f++)d(t[f]);return e&&d(o),new m(h[0],h[1],c[0]-h[0],c[1]-h[1])},getStrokeBounds:function(t,e,i,n,r){var s=i.getStyle(),o=s.hasStroke(),a=s.getStrokeWidth(),l=o&&i._getStrokeMatrix(n,r),h=o&&I._getStrokePadding(a,l),c=I.getBounds(t,e,i,n,r,h);if(!o)return c;var u=a/2,d=s.getStrokeJoin(),f=s.getStrokeCap(),g=s.getMiterLimit(),v=new m(new p(h));function _(t){c=c.include(t)}function y(t){c=c.unite(v.setCenter(t._point.transform(n)))}function w(t,e){"round"===e||t.isSmooth()?y(t):I._addBevelJoin(t,e,u,g,n,l,_)}function b(t,e){"round"===e?y(t):I._addSquareCap(t,e,u,n,l,_)}var x=t.length-(e?0:1);if(x>0){for(var S=1;S<x;S++)w(t[S],d);e?w(t[0],d):(b(t[0],f),b(t[t.length-1],f))}return c},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new d(t,0).transform(e),n=new d(0,t).transform(e),r=i.getAngleInRadians(),s=i.getLength(),o=n.getLength(),a=Math.sin(r),l=Math.cos(r),h=Math.tan(r),c=Math.atan2(o*h,s),u=Math.atan2(o,h*s);return[Math.abs(s*Math.cos(c)*l+o*Math.sin(c)*a),Math.abs(o*Math.sin(u)*l+s*Math.cos(u)*a)]},_addBevelJoin:function(t,e,i,n,r,s,o,a){var l=t.getCurve(),h=l.getPrevious(),c=l.getPoint1().transform(r),u=h.getNormalAtTime(1).multiply(i).transform(s),f=l.getNormalAtTime(0).multiply(i).transform(s),p=u.getDirectedAngle(f);if((p<0||p>=180)&&(u=u.negate(),f=f.negate()),a&&o(c),o(c.add(u)),"miter"===e){var g=new y(c.add(u),new d(-u.y,u.x),!0).intersect(new y(c.add(f),new d(-f.y,f.x),!0),!0);g&&c.getDistance(g)<=n*i&&o(g)}o(c.add(f))},_addSquareCap:function(t,e,i,n,r,s,o){var a=t._point.transform(n),l=t.getLocation(),h=l.getNormal().multiply(0===l.getTime()?i:-i).transform(r);"square"===e&&(o&&(s(a.subtract(h)),s(a.add(h))),a=a.add(h.rotate(-90))),s(a.add(h)),s(a.subtract(h))},getHandleBounds:function(t,e,i,n,r){var s,o,a=i.getStyle();if(r.stroke&&a.hasStroke()){var l=i._getStrokeMatrix(n,r),h=a.getStrokeWidth()/2,c=h;"miter"===a.getStrokeJoin()&&(c=h*a.getMiterLimit()),"square"===a.getStrokeCap()&&(c=Math.max(c,h*Math.SQRT2)),s=I._getStrokePadding(h,l),o=I._getStrokePadding(c,l)}for(var u=new Array(6),d=1/0,f=-d,p=d,g=f,v=0,_=t.length;v<_;v++){t[v]._transformCoordinates(n,u);for(var y=0;y<6;y+=2){var w=y?s:o,b=w?w[0]:0,x=w?w[1]:0,S=u[y],C=u[y+1],T=S-b,k=S+b,A=C-x,P=C+x;T<d&&(d=T),k>f&&(f=k),A<p&&(p=A),P>g&&(g=P)}}return new m(d,p,f-d,g-p)}}});I.inject({statics:new function(){var t=.5522847498307936,e=[new E([-1,0],[0,t],[0,-t]),new E([0,-1],[-t,0],[t,0]),new E([1,0],[0,-t],[0,t]),new E([0,1],[t,0],[-t,0])];function i(t,e,i){var n=r.getNamed(i),s=new I(n&&(1==n.insert?b.INSERT:0==n.insert?b.NO_INSERT:null));return s._add(t),s._closed=e,s.set(n,b.INSERT)}function n(t,n,r){for(var s=new Array(4),o=0;o<4;o++){var a=e[o];s[o]=new E(a._point.multiply(n).add(t),a._handleIn.multiply(n),a._handleOut.multiply(n))}return i(s,!0,r)}return{Line:function(){var t=arguments;return i([new E(d.readNamed(t,"from")),new E(d.readNamed(t,"to"))],!1,t)},Circle:function(){var t=arguments,e=d.readNamed(t,"center"),i=r.readNamed(t,"radius");return n(e,new p(i),t)},Rectangle:function(){var e,n=arguments,r=m.readNamed(n,"rectangle"),s=p.readNamed(n,"radius",0,{readNull:!0}),o=r.getBottomLeft(!0),a=r.getTopLeft(!0),l=r.getTopRight(!0),h=r.getBottomRight(!0);if(!s||s.isZero())e=[new E(o),new E(a),new E(l),new E(h)];else{var c=(s=p.min(s,r.getSize(!0).divide(2))).width,u=s.height,d=c*t,f=u*t;e=[new E(o.add(c,0),null,[-d,0]),new E(o.subtract(0,u),[0,f]),new E(a.add(0,u),null,[0,-f]),new E(a.add(c,0),[-d,0],null),new E(l.subtract(c,0),null,[d,0]),new E(l.add(0,u),[0,-f],null),new E(h.subtract(0,u),null,[0,f]),new E(h.subtract(c,0),[d,0])]}return i(e,!0,n)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=arguments,e=C._readEllipse(t);return n(e.center,e.radius,t)},Oval:"#Ellipse",Arc:function(){var t=arguments,e=d.readNamed(t,"from"),i=d.readNamed(t,"through"),n=d.readNamed(t,"to"),s=r.getNamed(t),o=new I(s&&0==s.insert&&b.NO_INSERT);return o.moveTo(e),o.arcTo(i,n),o.set(s)},RegularPolygon:function(){for(var t=arguments,e=d.readNamed(t,"center"),n=r.readNamed(t,"sides"),s=r.readNamed(t,"radius"),o=360/n,a=n%3==0,l=new d(0,a?-s:s),h=a?-1:.5,c=new Array(n),u=0;u<n;u++)c[u]=new E(e.add(l.rotate((u+h)*o)));return i(c,!0,t)},Star:function(){for(var t=arguments,e=d.readNamed(t,"center"),n=2*r.readNamed(t,"points"),s=r.readNamed(t,"radius1"),o=r.readNamed(t,"radius2"),a=360/n,l=new d(0,-1),h=new Array(n),c=0;c<n;c++)h[c]=new E(e.add(l.rotate(a*c).multiply(c%2?o:s)));return i(h,!0,t)}}}});var D=z.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,i){var n=i,s=n[0];s&&"number"==typeof s[0]&&(n=[n]);for(var o=i.length-1;o>=0;o--){var a=n[o];n!==i||a instanceof I||(n=r.slice(n)),Array.isArray(a)?n[o]=new I({segments:a,insert:!1}):a instanceof D&&(n.splice.apply(n,[o,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,n)},reduce:function t(e){for(var i=this._children,n=i.length-1;n>=0;n--){var r;(r=i[n].reduce(e)).isEmpty()&&r.remove()}return i.length?t.base.call(this):((r=new I(b.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)r.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],r=0,s=i.length;r<s;r++){var o=i[r],a=o._matrix;n.push(o.getPathData(t&&!a.isIdentity()?t.appended(a):t,e))}return n.join("")},_hitTestChildren:function t(e,i,n){return t.base.call(this,e,i.class===I||"path"===i.type?i:r.set({},i,{fill:!1}),n)},_draw:function(t,e,i,n){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,o=r.length;s<o;s++)r[s].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var a=this._style;a.hasFill()&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,r=0,s=n.length;r<s;r++){var o=n[r],a=o._matrix;i[o._id]||o._drawSelected(t,a.isIdentity()?e:e.appended(a))}}},new function(){function t(t,e){var i=t._children;if(e&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return r.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new I(b.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=d.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},r.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i,n=this._children,r=0,s=n.length;r<s;r++)i=n[r][t](e)||i;return i}},{}));z.inject(new function(){var t=Math.min,i=Math.max,n=Math.abs,s={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function o(t){return t._children||[t]}function a(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(e){for(var n=o(i),r=0,s=n.length;r<s;r++){(t=n[r])._closed||t.isEmpty()||(t.closePath(1e-12),t.getFirstSegment().setHandleIn(0,0),t.getLastSegment().setHandleOut(0,0))}i=i.resolveCrossings().reorient("nonzero"===i.getFillRule(),!0)}return i}function h(t,e,i,n,r){var s=new D(b.NO_INSERT);return s.addChildren(t,!0),s=s.reduce({simplify:e}),r&&0==r.insert||s.insertAbove(n&&i.isSibling(n)&&i.getIndex()<n.getIndex()?n:i),s.copyAttributes(i,!0),s}function u(t){return t.hasOverlap()||t.isCrossing()}function d(t,e,i,n){if(n&&(0==n.trace||n.stroke)&&/^(subtract|intersect)$/.test(i))return f(t,e,i);var c=a(t,!0),d=e&&t!==e&&a(e,!0),p=s[i];p[i]=!0,d&&(p.subtract||p.exclude)^d.isClockwise()^c.isClockwise()&&d.reverse();var g,_=v(L.expand(c.getIntersections(d,u))),b=o(c),x=d&&o(d),S=[],C=[];function T(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];r.push(S,n._segments),r.push(C,n.getCurves()),n._overlapsOnly=!0}}function k(t){for(var e=[],i=0,n=t&&t.length;i<n;i++)e.push(C[t[i]]);return e}if(_.length){T(b),x&&T(x);for(var A=new Array(C.length),P=0,E=C.length;P<E;P++)A[P]=C[P].getValues();var M=l.findCurveBoundsCollisions(A,A,0,!0),O={};for(P=0;P<C.length;P++){var z=C[P],I=z._path._id;(O[I]=O[I]||{})[z.getIndex()]={hor:k(M[P].hor),ver:k(M[P].ver)}}for(P=0,E=_.length;P<E;P++)y(_[P]._segment,c,d,O,p);for(P=0,E=S.length;P<E;P++){var D=S[P],B=D._intersection;D._winding||y(D,c,d,O,p),B&&B._overlap||(D._path._overlapsOnly=!1)}g=w(S,p)}else g=m(x?b.concat(x):b.slice(),function(t){return!!p[t]});return h(g,!0,t,e,n)}function f(t,e,i){var n=a(t),r=a(e),s=n.getIntersections(r,u),o="subtract"===i,l="divide"===i,c={},d=[];function f(t){if(!c[t._id]&&(l||r.contains(t.getPointAt(t.getLength()/2))^o))return d.unshift(t),c[t._id]=!0}for(var p=s.length-1;p>=0;p--){var g=s[p].split();g&&(f(g)&&g.getFirstSegment().setHandleIn(0,0),n.getLastSegment().setHandleOut(0,0))}return f(n),h(d,!1,t,e)}function p(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function g(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function m(t,e,i){var s=t&&t.length;if(s){var o=r.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),a=t.slice().sort(function(t,e){return n(e.getArea())-n(t.getArea())}),h=a[0],u=l.findItemBoundsCollisions(a,null,c.GEOMETRIC_EPSILON);null==i&&(i=h.isClockwise());for(var d=0;d<s;d++){var f=a[d],p=o[f._id],g=0,m=u[d];if(m)for(var v=null,_=m.length-1;_>=0;_--)if(m[_]<d){v=v||f.getInteriorPoint();var y=a[m[_]];if(y.contains(v)){var w=o[y._id];g=w.winding,p.winding+=g,p.container=w.exclude?w.container:y;break}}if(e(p.winding)===e(g))p.exclude=!0,t[p.index]=null;else{var b=p.container;f.setClockwise(b?!b.isClockwise():i)}}}return t}function v(t,e,i){var n,r,s,o=e&&[],a=!1,l=i||[],h=i&&{};function c(t){return t._path._id+"."+t._segment1._index}for(var u=(i&&i.length)-1;u>=0;u--){(d=i[u])._path&&(h[c(d)]=!0)}for(u=t.length-1;u>=0;u--){var d,f,m=t[u],v=m._time,_=v,y=e&&!e(m);if((d=m._curve)&&(d!==r?(a=!d.hasHandles()||h&&h[c(d)],n=[],s=null,r=d):s>=1e-8&&(v/=s)),y)n&&n.push(m);else{if(e&&o.unshift(m),s=_,v<1e-8)f=d._segment1;else if(v>1-1e-8)f=d._segment2;else{var w=d.divideAtTime(v,!0);a&&l.push(d,w),f=w._segment1;for(var b=n.length-1;b>=0;b--){var x=n[b];x._time=(x._time-v)/(1-v)}}m._setSegment(f);var S=f._intersection,C=m._intersection;if(S){p(S,C);for(var T=S;T;)p(T._intersection,S),T=T._next}else f._intersection=C}}return i||g(l),o||t}function _(e,r,s,o,a){var l,h,c=Array.isArray(r)?r:r[s?"hor":"ver"],u=s?1:0,d=1^u,f=[e.x,e.y],p=f[u],g=f[d],m=1e-6,v=p-1e-9,y=p+1e-9,w=0,b=0,x=0,S=0,C=!1,T=!1,k=1,A=[];function P(n){var h=n[d+0],c=n[d+6];if(!(g<t(h,c)||g>i(h,c))){var f=n[u+0],w=n[u+2],b=n[u+4],T=n[u+6];if(h!==c){var P=g===h?0:g===c?1:v>i(f,w,b,T)||y<t(f,w,b,T)?1:O.solveCubic(n,d,g,A,0,1)>0?A[0]:1,E=0===P?f:1===P?T:O.getPoint(n,P)[s?"y":"x"],M=h>c?1:-1,L=l[d]>l[d+6]?1:-1,z=l[u+6];return g!==h?(E<v?x+=M:E>y?S+=M:C=!0,E>p-m&&E<p+m&&(k/=2)):(M!==L?f<v?x+=M:f>y&&(S+=M):f!=z&&(z<y&&E>y?(S+=M,C=!0):z>v&&E<v&&(x+=M,C=!0)),k/=4),l=n,!a&&E>v&&E<y&&0===O.getTangent(n,P)[s?"x":"y"]&&_(e,r,!s,o,!0)}(f<y&&T>v||T<y&&f>v)&&(C=!0)}}function E(e){var n=e[d+0],r=e[d+2],o=e[d+4],a=e[d+6];if(g<=i(n,r,o,a)&&g>=t(n,r,o,a))for(var l,h=e[u+0],c=e[u+2],f=e[u+4],p=e[u+6],m=v>i(h,c,f,p)||y<t(h,c,f,p)?[e]:O.getMonoCurves(e,s),_=0,w=m.length;_<w;_++)if(l=P(m[_]))return l}for(var M=0,L=c.length;M<L;M++){var z,I=c[M],D=I._path,B=I.getValues();if(!(M&&c[M-1]._path===D||(l=null,D._closed||(h=O.getValues(D.getLastCurve().getSegment2(),I.getSegment1(),null,!o))[d]!==h[d+6]&&(l=h),l))){l=B;for(var R=D.getLastCurve();R&&R!==I;){var q=R.getValues();if(q[d]!==q[d+6]){l=q;break}R=R.getPrevious()}}if(z=E(B))return z;if(M+1===L||c[M+1]._path!==D){if(h&&(z=E(h)))return z;!C||x||S||(x=S=D.isClockwise(o)^s?1:-1),w+=x,b+=S,x=S=0,C&&(T=!0,C=!1),h=null}}return w=n(w),b=n(b),{winding:i(w,b),windingL:w,windingR:b,quality:k,onPath:T}}function y(t,e,i,r,s){var o=[],a=t,l=0;do{if(y=t.getCurve()){var h=y.getLength();o.push({segment:t,curve:y,length:h}),l+=h}t=t.getNext()}while(t&&!t._intersection&&t!==a);for(var u=[.5,.25,.75],d={winding:0,quality:-1},f=0;f<u.length&&d.quality<.5;f++){h=l*u[f];for(var p=0,g=o.length;p<g;p++){var m=o[p],v=m.length;if(h<=v){var y,w=(y=m.curve)._path,b=w._parent,x=b instanceof D?b:w,S=c.clamp(y.getTimeAt(h),.001,.999),C=y.getPointAtTime(S),T=n(y.getTangentAtTime(S).y)<Math.SQRT1_2,k=null;if(s.subtract&&i){var A=(x===e?i:e)._getWinding(C,T,!0);if(x===e&&A.winding||x===i&&!A.winding){if(A.quality<1)continue;k={winding:0,quality:1}}}(k=k||_(C,r[w._id][y.getIndex()],T,!0)).quality>d.quality&&(d=k);break}h-=v}}for(p=o.length-1;p>=0;p--)o[p].segment._winding=d}function w(t,e){var i,n=[];function r(t){var i;return!(!t||t._visited||e&&(!e[(i=t._winding||{}).winding]||e.unite&&2===i.winding&&i.windingL&&i.windingR))}function s(t){if(t)for(var e=0,n=i.length;e<n;e++)if(t===i[e])return!0;return!1}function o(t){for(var e=t._segments,i=0,n=e.length;i<n;i++)e[i]._visited=!0}function a(t,e){var n=t._intersection,o=n,a=[];function l(n,o){for(;n&&n!==o;){var l=n._segment,h=l&&l._path;if(h){var c=l.getNext()||h.getFirstSegment(),u=c._intersection;l!==t&&(s(l)||s(c)||c&&r(l)&&(r(c)||u&&r(u._segment)))&&a.push(l),e&&i.push(l)}n=n._next}}if(e&&(i=[t]),n){for(l(n);n&&n._previous;)n=n._previous;l(n,o)}return a}t.sort(function(t,e){var i=t._intersection,n=e._intersection,r=!(!i||!i._overlap),s=!(!n||!n._overlap),o=t._path,a=e._path;return r^s?r?1:-1:!i^!n?i?1:-1:o!==a?o._id-a._id:t._index-e._index});for(var l=0,h=t.length;l<h;l++){var c,u,d,f=t[l],p=r(f),g=null,m=!1,v=!0,_=[];if(p&&f._path._overlapsOnly){var y=f._path,w=f._intersection._segment._path;y.compare(w)&&(y.getArea()&&n.push(y.clone(!1)),o(y),o(w),p=!1)}for(;p;){var x=!g,S=a(f,x),C=S.shift(),T=!(m=!x&&(s(f)||s(C)))&&C;if(x&&(g=new I(b.NO_INSERT),c=null),m){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(T&&c&&(_.push(c),c=null),c||(T&&S.push(f),c={start:g._segments.length,crossings:S,visited:u=[],handleIn:d}),T&&(f=C),!r(f)){g.removeSegments(c.start);for(var k=0,A=u.length;k<A;k++)u[k]._visited=!1;u.length=0;do{(f=c&&c.crossings.shift())&&f._path||(f=null,(c=_.pop())&&(u=c.visited,d=c.handleIn))}while(c&&!r(f));if(!f)break}var P=f.getNext();g.add(new E(f._point,d,P&&f._handleOut)),f._visited=!0,u.push(f),f=P||f._path.getFirstSegment(),d=P&&P._handleIn}m&&(v&&(g.getFirstSegment().setHandleIn(d),g.setClosed(v)),0!==g.getArea()&&n.push(g))}return n}return{_getWinding:function(t,e,i){return _(t,this.getCurves(),e,i)},unite:function(t,e){return d(this,t,"unite",e)},intersect:function(t,e){return d(this,t,"intersect",e)},subtract:function(t,e){return d(this,t,"subtract",e)},exclude:function(t,e){return d(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?f(this,t,"divide"):h([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){var t=this._children,e=t||[this];function i(t,e){var i=t&&t._intersection;return i&&i._overlap&&i._path===e}var n=!1,s=!1,o=this.getIntersections(null,function(t){return t.hasOverlap()&&(n=!0)||t.isCrossing()&&(s=!0)}),a=n&&s&&[];if(o=L.expand(o),n)for(var l=v(o,function(t){return t.hasOverlap()},a),h=l.length-1;h>=0;h--){var c=l[h],u=c._path,d=c._segment,f=d.getPrevious(),p=d.getNext();i(f,u)&&i(p,u)&&(d.remove(),f._handleOut._set(0,0),p._handleIn._set(0,0),f===d||f.getCurve().hasLength()||(p._handleIn.set(f._handleIn),f.remove()))}s&&(v(o,n&&function(t){var e=t.getCurve(),i=t.getSegment(),n=t._intersection,r=n._curve,s=n._segment;if(e&&r&&e._path&&r._path)return!0;i&&(i._intersection=null),s&&(s._intersection=null)},a),a&&g(a),e=w(r.each(e,function(t){r.push(this,t._segments)},[])));var m,_=e.length;return _>1&&t?(e!==t&&this.setChildren(e),m=this):1!==_||t||(e[0]!==this&&this.setSegments(e[0].removeSegments()),m=this),m||((m=new D(b.NO_INSERT)).addChildren(e),(m=m.reduce()).copyAttributes(this),this.replaceWith(m)),m},reorient:function(t,i){var n=this._children;return n&&n.length?this.setChildren(m(this.removeChildren(),function(e){return!!(t?e:1&e)},i)):i!==e&&this.setClockwise(i),this},getInteriorPoint:function(){var e=this.getBounds().getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),r=e.y,s=[],o=[],a=0,l=n.length;a<l;a++){var h=n[a].getValues(),c=h[1],u=h[3],d=h[5],f=h[7];if(r>=t(c,u,d,f)&&r<=i(c,u,d,f))for(var p=O.getMonoCurves(h),g=0,m=p.length;g<m;g++){var v=p[g],_=v[1],y=v[7];if(_!==y&&(r>=_&&r<=y||r>=y&&r<=_)){var w=r===_?v[0]:r===y?v[6]:1===O.solveCubic(v,1,r,o,0,1)?O.getPoint(v,o[0]).x:(v[0]+v[6])/2;s.push(w)}}}s.length>1&&(s.sort(function(t,e){return t-e}),e.x=(s[0]+s[1])/2)}return e}}});var B=r.extend({_class:"PathFlattener",initialize:function(t,e,i,n,r){var s,o=[],a=[],l=0,h=1/(i||32),c=t._segments,u=c[0];function d(t,i){var s=O.getValues(t,i,r);o.push(s),function t(i,r,s,o){if(!(o-s>h)||n&&O.isStraight(i)||O.isFlatEnough(i,e||.25)){var c=i[6]-i[0],u=i[7]-i[1],d=Math.sqrt(c*c+u*u);d>0&&(l+=d,a.push({offset:l,curve:i,index:r,time:o}))}else{var f=O.subdivide(i,.5),p=(s+o)/2;t(f[0],r,s,p),t(f[1],r,p,o)}}(s,t._index,0,1)}for(var f=1,p=c.length;f<p;f++)d(u,s=c[f]),u=s;t._closed&&d(s||u,c[0]),this.curves=o,this.parts=a,this.length=l,this.index=0},_get:function(t){for(var e,i=this.parts,n=i.length,r=this.index;e=r,r&&!(i[--r].offset<t););for(;e<n;e++){var s=i[e];if(s.offset>=t){this.index=e;var o=i[e-1],a=o&&o.index===s.index?o.time:0,l=o?o.offset:0;return{index:s.index,time:a+(s.time-a)*(t-l)/(s.offset-l)}}}return{index:i[n-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),r=this._get(i),s=n.index,o=r.index;s<=o;s++){var a=O.getPart(this.curves[s],s===n.index?n.time:0,s===r.index?r.time:1);s===n.index&&t.moveTo(a[0],a[1]),t.bezierCurveTo.apply(t,a.slice(2))}}},r.each(O._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return O[t](this.curves[i.index],i.time)}},{})),R=r.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,r=t._closed,s=0,o=n.length;s<o;s++){var a=n[s].point;e&&e.equals(a)||i.push(e=a.clone())}r&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=r},fit:function(t){var e=this.points,i=e.length,n=null;return i>0&&(n=[new E(e[0])],i>1&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,r,s){var o=this.points;if(n-i!=1){for(var a,l=this.chordLengthParameterize(i,n),h=Math.max(e,e*e),c=!0,u=0;u<=4;u++){var d=this.generateBezier(i,n,l,r,s),f=this.findMaxError(i,n,d,l);if(f.error<e&&c)return void this.addCurve(t,d);if(a=f.index,f.error>=h)break;c=this.reparameterize(i,n,l,d),h=f.error}var p=o[a-1].subtract(o[a+1]);this.fitCubic(t,e,i,a,r,p),this.fitCubic(t,e,a,n,p.negate(),s)}else{var g=o[i],m=o[n],v=g.getDistance(m)/3;this.addCurve(t,[g,g.add(r.normalize(v)),m.add(s.normalize(v)),m])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new E(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,r){for(var s=Math.abs,o=this.points,a=o[t],l=o[e],h=[[0,0],[0,0]],c=[0,0],u=0,d=e-t+1;u<d;u++){var f=i[u],p=1-f,g=3*f*p,m=p*p*p,v=g*p,_=g*f,y=f*f*f,w=n.normalize(v),b=r.normalize(_),x=o[t+u].subtract(a.multiply(m+v)).subtract(l.multiply(_+y));h[0][0]+=w.dot(w),h[0][1]+=w.dot(b),h[1][0]=h[0][1],h[1][1]+=b.dot(b),c[0]+=w.dot(x),c[1]+=b.dot(x)}var S,C,T=h[0][0]*h[1][1]-h[1][0]*h[0][1];if(s(T)>1e-12){var k=h[0][0]*c[1]-h[1][0]*c[0];S=(c[0]*h[1][1]-c[1]*h[0][1])/T,C=k/T}else{var A=h[0][0]+h[0][1],P=h[1][0]+h[1][1];S=C=s(A)>1e-12?c[0]/A:s(P)>1e-12?c[1]/P:0}var E,M,O=l.getDistance(a),L=1e-12*O;if(S<L||C<L)S=C=O/3;else{var z=l.subtract(a);E=n.normalize(S),M=r.normalize(C),E.dot(z)-M.dot(z)>O*O&&(S=C=O/3,E=M=null)}return[a,a.add(E||n.normalize(S)),l.add(M||r.normalize(C)),l]},reparameterize:function(t,e,i,n){for(var r=t;r<=e;r++)i[r-t]=this.findRoot(n,this.points[r],i[r-t]);r=1;for(var s=i.length;r<s;r++)if(i[r]<=i[r-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],r=[],s=0;s<=2;s++)n[s]=t[s+1].subtract(t[s]).multiply(3);for(s=0;s<=1;s++)r[s]=n[s+1].subtract(n[s]).multiply(2);var o=this.evaluate(3,t,i),a=this.evaluate(2,n,i),l=this.evaluate(1,r,i),h=o.subtract(e),u=a.dot(a)+h.dot(l);return c.isMachineZero(u)?i:i-h.dot(a)/u},evaluate:function(t,e,i){for(var n=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)n[s]=n[s].multiply(1-i).add(n[s+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);n=1;for(var r=e-t;n<=r;n++)i[n]/=i[r];return i},findMaxError:function(t,e,i,n){for(var r=Math.floor((e-t+1)/2),s=0,o=t+1;o<e;o++){var a=this.evaluate(3,i,n[o-t]).subtract(this.points[o]),l=a.x*a.x+a.y*a.y;l>=s&&(s=l,r=o)}return{error:s,index:r}}}),q=b.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&r.isPlainObject(t)&&t.x===e&&t.y===e;this._initialize(i&&t,!i&&d.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),N=q.extend({_class:"PointText",initialize:function(){q.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new f(t.x,t.y,this,"setPoint")},setPoint:function(){var t=d.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,r=this._style,s=r.hasFill(),o=r.hasStroke(),a=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var h=0,c=n.length;h<c;h++){t.shadowColor=l;var u=n[h];s&&(t.fillText(u,0,0),t.shadowColor="rgba(0,0,0,0)"),o&&t.strokeText(u,0,0),t.translate(0,a)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,r=n.length,s=i.getJustification(),o=i.getLeading(),a=this.getView().getTextWidth(i.getFontStyle(),n),l=0;"left"!==s&&(l-=a/("center"===s?2:1));var h=new m(l,r?-.75*o:0,a,r*o);return t?t._transformBounds(h,h):h}}),F=r.extend(new function(){var t,e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},s={transparent:[0,0,0,0]};var o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),r=n-Math.min(t,e,i);return[0===r?0:60*(n==t?(e-i)/r+(e<i?6:0):n==e?(i-t)/r+2:(t-e)/r+4),0===n?0:r/n,n]},"hsb-rgb":function(t,e,i){var n,r=(t=(t/60%6+6)%6)-(n=Math.floor(t)),s=[i,i*(1-e),i*(1-e*r),i*(1-e*(1-r))];return[s[(n=o[n])[0]],s[n[1]],s[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),s=n-r,o=0===s,a=(n+r)/2;return[o?0:60*(n==t?(e-i)/s+(e<i?6:0):n==e?(i-t)/s+2:(t-e)/s+4),o?0:a<.5?s/(n+r):s/(2-n-r),a]},"hsl-rgb":function(t,e,i){if(t=(t/360%1+1)%1,0===e)return[i,i,i];for(var n=[t+1/3,t,t-1/3],r=i<.5?i*(1+e):i+e-i*e,s=2*i-r,o=[],a=0;a<3;a++){var l=n[a];l<0&&(l+=1),l>1&&(l-=1),o[a]=6*l<1?s+6*(r-s)*l:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}return o},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return r.each(e,function(t,i){n[i]=[],r.each(t,function(t,s){var o=r.capitalize(t),a=/^(hue|saturation)$/.test(t),l=n[i][s]="gradient"===i?"gradient"===t?function(t){var e=this._components[0];return e!==(t=j.read(Array.isArray(t)?t:arguments,0,{readNull:!0}))&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:function(){return d.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:+t};this["get"+o]=function(){return this._type===i||a&&/^hs[bl]$/.test(this._type)?this._components[s]:this._convert(i)[s]},this["set"+o]=function(t){this._type===i||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(i),this._properties=e[i],this._type=i),this._components[s]=l.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function o(a){var l,h,c,u,d=arguments,f=this.__read,p=0;Array.isArray(a)&&(a=(d=a)[0]);var g=null!=a&&typeof a;if("string"===g&&a in e&&(l=a,a=d[1],Array.isArray(a)?(h=a,c=d[2]):(f&&(p=1),d=r.slice(d,1),g=typeof a)),!h){if(u="number"===g?d:"object"===g&&null!=a.length?a:null){l||(l=u.length>=3?"rgb":"gray");var m=e[l].length;c=u[m],f&&(p+=u===arguments?m+(null!=c?1:0):1),u.length>m&&(u=r.slice(u,0,m))}else if("string"===g){var v=function(e){var n,r=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),o="rgb";if(r){var a=r[4]?4:3;n=new Array(a);for(var l=0;l<a;l++){var h=r[l+1];n[l]=parseInt(1==h.length?h+h:h,16)/255}}else if(r=e.match(/^(rgb|hsl)a?\((.*)\)$/)){o=r[1],n=r[2].trim().split(/[,\s]+/g);for(var c="hsl"===o,u=(l=0,Math.min(n.length,4));l<u;l++){var d=n[l];if(h=parseFloat(d),c)if(0===l){var f=d.match(/([a-z]*)$/)[1];h*={turn:360,rad:180/Math.PI,grad:.9}[f]||1}else l<3&&(h/=100);else l<3&&(h/=/%$/.test(d)?100:255);n[l]=h}}else{var p=s[e];if(!p)if(i){t||((t=et.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var g=t.getImageData(0,0,1,1).data;p=s[e]=[g[0]/255,g[1]/255,g[2]/255]}else p=[0,0,0];n=p.slice()}return[o,n]}(a);l=v[0],4===(h=v[1]).length&&(c=h[3],h.length--)}else if("object"===g)if(a.constructor===o){if(l=a._type,h=a._components.slice(),c=a._alpha,"gradient"===l)for(var _=1,y=h.length;_<y;_++){var w=h[_];w&&(h[_]=w.clone())}}else if(a.constructor===j)l="gradient",u=d;else{var b=e[l="hue"in a?"lightness"in a?"hsl":"hsb":"gradient"in a||"stops"in a||"radial"in a?"gradient":"gray"in a?"gray":"rgb"],x=n[l];this._components=h=[];for(_=0,y=b.length;_<y;_++){null==(S=a[b[_]])&&!_&&"gradient"===l&&"stops"in a&&(S={stops:a.stops,radial:a.radial}),null!=(S=x[_].call(this,S))&&(h[_]=S)}c=a.alpha}f&&l&&(p=1)}if(this._type=l||"rgb",!h){this._components=h=[];for(_=0,y=(x=n[this._type]).length;_<y;_++){var S;null!=(S=x[_].call(this,u&&u[_]))&&(h[_]=S)}}return this._components=h,this._properties=e[this._type],this._alpha=c,f&&(this.__read=p),this},set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return r.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new F(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=e[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=r.isPlainValue(t,!0)?F.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&r.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=h.instance,r=0,s=t.length;r<s;r++){var o=this._components[r];null!=o&&e.push(t[r]+": "+(i?o:n.number(o)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){var e=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;function n(t){return Math.round(255*(t<0?0:t>1?1:t))}return e=[n(e[0]),n(e[1]),n(e[2])],i<1&&e.push(i<0?0:i),t?"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):(4==e.length?"rgba(":"rgb(")+e.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var i,n=this._components,r=n[0],s=r._stops,o=n[1],a=n[2],l=n[3],h=e&&e.inverted();if(h&&(o=h._transformPoint(o),a=h._transformPoint(a),l&&(l=h._transformPoint(l))),r._radial){var c=a.getDistance(o);if(l){var u=l.subtract(o);u.getLength()>c&&(l=o.add(u.normalize(c-.1)))}var d=l||o;i=t.createRadialGradient(d.x,d.y,0,o.x,o.y,c)}else i=t.createLinearGradient(o.x,o.y,a.x,a.y);for(var f=0,p=s.length;f<p;f++){var g=s[f],m=g._offset;i.addColorStop(null==m?f/(p-1):m,g._color.toCanvasStyle())}return this._canvasStyle=i},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var r=e[i];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:e,random:function(){var t=Math.random;return new F(t(),t(),t())},_setOwner:function(t,e,i){return t&&(t._owner&&e&&t._owner!==e&&(t=t.clone()),!t._owner^!e&&(t._owner=e||null,t._setter=i||null)),t}}})},new function(){return r.each({add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}},function(t,e){this[e]=function(e){e=F.read(arguments);for(var i=this._type,n=this._components,r=e._convert(i),s=0,o=n.length;s<o;s++)r[s]=t(n[s],r[s]);return new F(i,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),j=r.extend({_class:"Gradient",initialize:function(t,e){this._id=u.get(),t&&r.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return r.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var i=this._owners?this._owners.indexOf(t):-1;-1!=i&&(this._owners.splice(i,1),this._owners.length||(this._owners=e))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new j(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var n=0,r=i.length;n<r;n++)i[n]._owner=e;for(n=0,r=(i=this._stops=H.readList(t,0,{clone:!0})).length;n<r;n++)i[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var r=0;r<n;r++)if(!e[r].equals(i[r]))return!1;return!0}}return!1}}),H=r.extend({_class:"GradientStop",initialize:function(t,i){var n=t,r=i;"object"==typeof t&&i===e&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],r=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,r=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new H(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return r.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){F._setOwner(this._color,null),this._color=F._setOwner(F.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),W=r.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new d,selectedColor:null},i=r.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=r.set({},i,{fillColor:new F}),s={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},o={beans:!0},a={_class:"Style",beans:!0,initialize:function(e,r,s){this._values={},this._owner=r,this._project=r&&r._project||s||st.project,this._defaults=!r||r instanceof x?i:r instanceof q?n:t,e&&this.set(e)}};return r.each(i,function(t,i){var n=/Color$/.test(i),l="shadowOffset"===i,h=r.capitalize(i),c=s[i],u="set"+h,f="get"+h;a[u]=function(t){var e=this._owner,r=e&&e._children,s=r&&r.length>0&&!(e instanceof D);if(s)for(var o=0,a=r.length;o<a;o++)r[o]._style[u](t);if(("selectedColor"===i||!s)&&i in this._defaults){var l=this._values[i];l!==t&&(n&&(l&&(F._setOwner(l,null),l._canvasStyle=null),t&&t.constructor===F&&(t=F._setOwner(t,e,s&&u))),this._values[i]=t,e&&e._changed(c||129))}},a[f]=function(t){var s=this._owner,o=s&&s._children,a=o&&o.length>0&&!(s instanceof D);if(a&&!t)for(var h=0,c=o.length;h<c;h++){var p=o[h]._style[f]();if(h){if(!r.equals(g,p))return e}else g=p}else if(i in this._defaults){var g;if((g=this._values[i])===e)(g=this._defaults[i])&&g.clone&&(g=g.clone());else{var m=n?F:l?d:null;!m||g&&g.constructor===m||(this._values[i]=g=m.read([g],0,{readNull:!0,clone:!0}))}}return g&&n&&(g=F._setOwner(g,s,a&&u)),g},o[f]=function(t){return this._style[f](t)},o[u]=function(t){this._style[u](t)}}),r.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,n="set"+e;a[i]=o[i]="#get"+t,a[n]=o[n]="#set"+t}),b.inject(o),a},{set:function(t){var e=t instanceof W,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var r=i[n];this[n]=r&&e&&r.clone?r.clone():r}},equals:function(t){function i(t,i,n){var s=t._values,o=i._values,a=i._defaults;for(var l in s){var h=s[l],c=o[l];if(!(n&&l in o||r.equals(h,c===e?a[l]:c)))return!1}return!0}return t===this||t&&this._class===t._class&&i(this,t)&&i(t,this,!0)||!1},_dispose:function(){var t;(t=this.getFillColor())&&(t._canvasStyle=null),(t=this.getStrokeColor())&&(t._canvasStyle=null),(t=this.getShadowColor())&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),null!=e?e:1.2*i}}),V=new function(){function t(t,e,i,n){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),o=0;o<6;o++){var a=r[o],l=a?a+s:e;if(l in t){if(!i)return t[l];t[l]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,r=n.body,s=n.documentElement;try{i=t.getBoundingClientRect()}catch(t){i={left:0,top:0,width:0,height:0}}var o=i.left-(s.clientLeft||r.clientLeft||0),a=i.top-(s.clientTop||r.clientTop||0);if(!e){var l=n.defaultView;o+=l.pageXOffset||s.scrollLeft||r.scrollLeft,a+=l.pageYOffset||s.scrollTop||r.scrollTop}return new m(o,a,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;return new m(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return V.getBounds(t,e).getPoint()},getSize:function(t){return V.getBounds(t,!0).getSize()},isInvisible:function(t){return V.getSize(t).equals(new p(0,0))},isInView:function(t){return!V.isInvisible(t)&&V.getViewportBounds(t).intersects(V.getBounds(t,!0))},isInserted:function(t){return n.body.contains(t)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,n){if("object"==typeof i)for(var r in i)t(e,r,!0,i[r]);else t(e,i,!0,n)}}},Z={add:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),o=0,a=s.length;o<a;o++){var l=s[o],h=t===n&&("touchstart"===l||"touchmove"===l)&&{passive:!1};t.addEventListener(l,r,h)}},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,o=r.length;s<o;s++)t.removeEventListener(r[s],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new d(e.pageX||e.clientX+n.documentElement.scrollLeft,e.pageY||e.clientY+n.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Z.getPoint(t).subtract(V.getOffset(e||Z.getTarget(t)))}};Z.requestAnimationFrame=new function(){var t,e=V.getPrefixed(i,"requestAnimationFrame"),n=!1,r=[];function s(){var t=r;r=[];for(var i=0,o=t.length;i<o;i++)t[i]();(n=e&&r.length)&&e(s)}return function(i){r.push(i),e?n||(e(s),n=!0):t||(t=setInterval(s,1e3/60))}};var Y=r.extend(s,{_class:"View",initialize:function t(e,r){function s(t){return r[t]||parseInt(r.getAttribute(t),10)}function a(){var t=V.getSize(r);return t.isNaN()||t.isZero()?new p(s("width"),s("height")):t}var l;if(i&&r){this._id=r.getAttribute("id"),null==this._id&&r.setAttribute("id",this._id="paper-view-"+t._id++),Z.add(r,this._viewEvents);if(V.setPrefixed(r.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),o.hasAttribute(r,"resize")){var h=this;Z.add(i,this._windowEvents={resize:function(){h.setViewSize(a())}})}if(l=a(),o.hasAttribute(r,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var c=this._stats.domElement,u=c.style,d=V.getOffset(r);u.position="absolute",u.left=d.x+"px",u.top=d.y+"px",n.body.appendChild(c)}}else l=new p(r),r=null;this._project=e,this._scope=e._scope,this._element=r,this._pixelRatio||(this._pixelRatio=i&&i.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new _)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!st.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Y._focused===this&&(Y._focused=null),Y._views.splice(Y._views.indexOf(this),1),delete Y._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Z.remove(this._element,this._viewEvents),Z.remove(i,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:r.each(b._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Z.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;V.getPrefixed(n,"hidden")&&"true"!==o.getAttribute(e,"keepalive")||!V.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){st=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new r({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new r(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=e},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new g(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=p.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new m(new d,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return V.isInView(this._element)},isInserted:function(){return V.isInserted(this._element)},getPixelSize:function(t){var e,i=this._element;if(i){var r=i.parentNode,s=n.createElement("div");s.style.fontSize=t,r.appendChild(s),e=parseFloat(V.getStyles(s).fontSize),r.removeChild(s)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},r.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=arguments,n=(e?r:d).read(i),s=d.read(i,0,{readNull:!0});return this.transform((new _)[t](n,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new _;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=d.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new _).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new f(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=d.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(d.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(d.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(d.read(arguments))},getEventPoint:function(t){return this.viewToProject(Z.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return n&&"string"==typeof e&&(e=n.getElementById(e)),new(i?X:Y)(t,e)}}},new function(){if(i){var t,e,r,s,o,a=!1,l=!1,h=i.navigator;h.pointerEnabled||h.msPointerEnabled?(r="pointerdown MSPointerDown",s="pointermove MSPointerMove",o="pointerup pointercancel MSPointerUp MSPointerCancel"):(r="touchstart",s="touchmove",o="touchend touchcancel","ontouchstart"in i&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(r+=" mousedown",s+=" mousemove",o+=" mouseup"));var c={},u={mouseout:function(t){var e=Y._focused,i=Z.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var n=Z.getOffset(t,e._element),r=n.x,s=Math.abs,o=s(r),a=o-(1<<25);n.x=s(a)<o?a*(r<0?-1:1):r,A(e,t,e.viewToProject(n))}},scroll:k};c[r]=function(t){var e=Y._focused=T(t);a||(a=!0,e._handleMouseEvent("mousedown",t))},u[s]=function(i){var n=Y._focused;if(!l){var r=T(i);r?n!==r&&(n&&A(n,i),t||(t=n),n=Y._focused=e=r):e&&e===n&&(t&&!t.isInserted()&&(t=null),n=Y._focused=t,t=null,k())}n&&A(n,i)},u[r]=function(){l=!0},u[o]=function(t){var e=Y._focused;e&&a&&e._handleMouseEvent("mouseup",t),l=a=!1},Z.add(n,u),Z.add(i,{load:k});var d,f,p,g,m,v,_,y,w=!1,b=!1,x={doubleclick:"click",mousedrag:"mousemove"},S=!1,C={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:c,_handleMouseEvent:function(t,e,i){var n=this._itemEvents,r=n.native[t],s="mousemove"===t,o=this._scope.tool,l=this;function h(t){return n.virtual[t]||l.responds(t)||o&&o.responds(t)}s&&a&&h("mousedrag")&&(t="mousedrag"),i||(i=this.getEventPoint(e));var c=this.getBounds().contains(i),u=r&&c&&l._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),x=u&&u.item||null,C=!1,T={};if(T[t.substr(5)]=!0,r&&x!==g&&(g&&P(g,null,"mouseleave",e,i),x&&P(x,null,"mouseenter",e,i),g=x),S^c&&(P(this,null,c?"mouseenter":"mouseleave",e,i),c?this:null,C=!0),!c&&!T.drag||i.equals(f)||(E(this,x,s?t:"mousemove",e,i,f),C=!0),S=c,T.down&&c||T.up&&d){if(E(this,x,t,e,i,d),T.down){if(y=x===v&&Date.now()-_<300,p=v=x,!b&&x){for(var k=x;k&&!k.responds("mousedrag");)k=k._parent;k&&(m=x)}d=i}else T.up&&(b||x!==p||(_=Date.now(),E(this,x,y?"doubleclick":"click",e,i,d),y=!1),p=m=null);S=!1,C=!0}f=i,C&&o&&(w=o._handleMouseEvent(t,e,i,T)||w),!1!==e.cancelable&&(w&&!T.move||T.down&&h("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,i,n){var r,s=this._scope,o=s.tool;function a(o){o.responds(t)&&(st=s,o.emit(t,r=r||new $(t,e,i,n)))}this.isVisible()&&(a(this),o&&o.responds(t)&&a(o))},_countItemEvent:function(t,e){var i=this._itemEvents,n=i.native,r=i.virtual;for(var s in C)n[s]=(n[s]||0)+(C[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:k,_resetState:function(){a=l=w=S=!1,t=e=d=f=p=g=m=v=_=y=null}}}}function T(t){var e=Z.getTarget(t);return e.getAttribute&&Y._viewsById[e.getAttribute("id")]}function k(){var t=Y._focused;if(!t||!t.isVisible())for(var i=0,n=Y._views.length;i<n;i++)if((t=Y._views[i]).isVisible()){Y._focused=e=t;break}}function A(t,e,i){t._handleMouseEvent("mousemove",e,i)}function P(t,e,i,n,r,s,o){var a,l=!1;function h(t,i){if(t.responds(i)){if(a||(a=new K(i,n,r,e||t,s?r.subtract(s):null)),t.emit(i,a)&&(w=!0,a.prevented&&(b=!0),a.stopped))return l=!0}else{var o=x[i];if(o)return h(t,o)}}for(;t&&t!==o&&!h(t,i);)t=t._parent;return l}function E(t,e,i,n,r,s){return t._project.removeOn(i),b=w=!1,m&&P(m,null,i,n,r,s)||e&&e!==m&&!e.isDescendant(m)&&P(e,null,"mousedrag"===i?"mousemove":i,n,r,s,m)||P(t,m||e||t,i,n,r,s)}}),X=Y.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof i.HTMLCanvasElement)){var n=p.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+r.slice(arguments,1));e=et.getCanvas(n)}var s=this._context=e.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(o.getAttribute(e,"hidpi"))){var a=i.devicePixelRatio||1,l=V.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=a/l}Y.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var n=this._pixelRatio;if(t.base.call(this,e*n,i*n),1!==n){var r=this._element,s=this._context;if(!o.hasAttribute(r,"resize")){var a=r.style;a.width=e+"px",a.height=i+"px"}s.restore(),s.save(),s.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function t(e){var i,n=st.agent;if(n&&n.firefox)i=t.base.call(this,e);else{var r=this._context,s=r.font;r.font=e+" serif",i=parseFloat(r.font),r.font=s}return i},getTextWidth:function(t,e){var i=this._context,n=i.font,r=0;i.font=t;for(var s=0,o=e.length;s<o;s++)r=Math.max(r,i.measureText(e[s]).width);return i.font=n,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),U=r.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return G.modifiers}}),$=U.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),G=new function(){var t,s,o={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},a={tab:"\t",space:" ",enter:"\r"},l={},h={},c=new r({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=st&&st.agent;return t&&t.mac?this.meta:this.control}}});function u(t){var i=t.key||t.keyIdentifier;return i=/^U\+/.test(i)?String.fromCharCode(parseInt(i.substr(2),16)):/^Arrow[A-Z]/.test(i)?i.substr(5):"Unidentified"===i||i===e?String.fromCharCode(t.keyCode):i,o[i]||(i.length>1?r.hyphenate(i):i.toLowerCase())}function d(e,i,n,s){var o,a=Y._focused;if(l[i]=e,e?h[i]=n:delete h[i],i.length>1&&(o=r.camelize(i))in c){c[o]=e;var u=st&&st.agent;if("meta"===o&&u&&u.mac)if(e)t={};else{for(var f in t)f in h&&d(!1,f,t[f],s);t=null}}else e&&t&&(t[i]=n);a&&a._handleKeyEvent(e?"keydown":"keyup",s,i,n)}return Z.add(n,{keydown:function(t){var e=u(t),i=st&&st.agent;e.length>1||i&&i.chrome&&(t.altKey||i.mac&&t.metaKey||!i.mac&&t.ctrlKey)?d(!0,e,a[e]||(e.length>1?"":e),t):s=e},keypress:function(t){if(s){var e=u(t),i=t.charCode,n=i>=32?String.fromCharCode(i):e.length>1?"":e;e!==s&&(e=n.toLowerCase()),d(!0,e,n,t),s=null}},keyup:function(t){var e=u(t);e in h&&d(!1,e,h[e],t)}}),Z.add(i,{blur:function(t){for(var e in h)d(!1,e,h[e],t)}}),{modifiers:c,isDown:function(t){return!!l[t]}}},K=U.extend({_class:"MouseEvent",initialize:function(t,e,i,n,r){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),J=U.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Q=(a.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){a.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,n){st=this._scope,n.drag&&!this.responds(t)&&(t="mousemove");var r=n.move||n.drag,s=this.responds(t),o=this.minDistance,a=this.maxDistance,l=!1,h=this;function c(t,e){var s=i,o=r?h._point:h._downPoint||s;if(r){if(h._moveCount>=0&&s.equals(o))return!1;if(o&&(null!=t||null!=e)){var a=s.subtract(o),l=a.getLength();if(l<(t||0))return!1;e&&(s=o.add(a.normalize(Math.min(l,e))))}h._moveCount++}return h._point=s,h._lastPoint=o||s,n.down&&(h._moveCount=-1,h._downPoint=s,h._downCount++),!0}function u(){s&&(l=h.emit(t,new J(h,t,e))||l)}if(n.down)c(),u();else if(n.up)c(null,a),u();else if(s)for(;c(o,a);)u();return l}}),r.extend(s,{_class:"Tween",statics:{easings:new r({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,i,n,r,s,o){this.object=e;var a=typeof s,l="function"===a;this.type=l?a:"string"===a?s:"linear",this.easing=l?s:t.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var h=i||n;this._keys=h?Object.keys(h):[],this._parsedKeys=this._parseKeys(this._keys),this._from=h&&this._getState(i),this._to=h&&this._getState(n),!1!==o&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),i=this._keys,n=function(i){return"function"==typeof i?i(e,t):i},s=0,o=i&&i.length;s<o;s++){var a=i[s],l=n(this._from[a]),h=n(this._to[a]),c=l&&h&&l.__add&&h.__add?h.__subtract(l).__multiply(e).__add(l):(h-l)*e+l;this._setProperty(this._parsedKeys[a],c)}this.responds("update")&&this.emit("update",new r({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},n=0,r=e.length;n<r;n++){var s,o=e[n],a=this._parsedKeys[o],l=this._getProperty(a);if(t){var h=this._resolveValue(l,t[o]);this._setProperty(a,h),s=(s=this._getProperty(a))&&s.clone?s.clone():s,this._setProperty(a,l)}else s=l&&l.clone?l.clone():l;i[o]=s}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length){var i=e[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e}if("string"==typeof e){var n=e.match(/^[+\-*/]=(.*)/);if(n){var r=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],r)}}}return e},_calculate:function(t,e,i){return st.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,n=t.length;i<n;i++){var r=t[i],s=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[r]=s.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,n=0,r=t.length-(e||0);n<r&&i;n++)i=i[t[n]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}})),tt={request:function(e){var i=new t.XMLHttpRequest;return i.open((e.method||"get").toUpperCase(),e.url,r.pick(e.async,!0)),e.mimeType&&i.overrideMimeType(e.mimeType),i.onload=function(){var t=i.status;0===t||200===t?e.onLoad&&e.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var t=i.status,n='Could not load "'+e.url+'" (Status: '+t+")";if(!e.onError)throw new Error(n);e.onError(n,t)},i.send(null)}},et=r.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,r){if(!i)return null;var s,o=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?s=this.canvases.pop():(s=n.createElement("canvas"),o=!1);var a=s.getContext("2d",r||{});if(!a)throw new Error("Canvas "+s+" is unable to provide a 2D context.");return s.width===t&&s.height===e?o&&a.clearRect(0,0,t+1,e+1):(s.width=t,s.height=e),a.save(),s},getContext:function(t,e,i){var n=this.getCanvas(t,e,i);return n?n.getContext("2d",i||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},it=new function(){var t,e,i,n,s,o,a,l,h,c,u,d=Math.min,f=Math.max,p=Math.abs;function g(t,e,i){return.2989*t+.587*e+.114*i}function m(t,e,i,n){var r=n-g(t,e,i),s=(n=g(h=t+r,c=e+r,u=i+r),d(h,c,u)),o=f(h,c,u);if(s<0){var a=n-s;h=n+(h-n)*n/a,c=n+(c-n)*n/a,u=n+(u-n)*n/a}if(o>255){var l=255-n,p=o-n;h=n+(h-n)*l/p,c=n+(c-n)*l/p,u=n+(u-n)*l/p}}function v(t,e,i){return f(t,e,i)-d(t,e,i)}function _(t,e,i,n){var r,s=[t,e,i],o=f(t,e,i),a=d(t,e,i);r=0===d(a=a===t?0:a===e?1:2,o=o===t?0:o===e?1:2)?1===f(a,o)?2:1:0,s[o]>s[a]?(s[r]=(s[r]-s[a])*n/(s[o]-s[a]),s[o]=n):s[r]=s[o]=0,s[a]=0,h=s[0],c=s[1],u=s[2]}var y={multiply:function(){h=s*t/255,c=o*e/255,u=a*i/255},screen:function(){h=s+t-s*t/255,c=o+e-o*e/255,u=a+i-a*i/255},overlay:function(){h=s<128?2*s*t/255:255-2*(255-s)*(255-t)/255,c=o<128?2*o*e/255:255-2*(255-o)*(255-e)/255,u=a<128?2*a*i/255:255-2*(255-a)*(255-i)/255},"soft-light":function(){var n=t*s/255;h=n+s*(255-(255-s)*(255-t)/255-n)/255,c=(n=e*o/255)+o*(255-(255-o)*(255-e)/255-n)/255,u=(n=i*a/255)+a*(255-(255-a)*(255-i)/255-n)/255},"hard-light":function(){h=t<128?2*t*s/255:255-2*(255-t)*(255-s)/255,c=e<128?2*e*o/255:255-2*(255-e)*(255-o)/255,u=i<128?2*i*a/255:255-2*(255-i)*(255-a)/255},"color-dodge":function(){h=0===s?0:255===t?255:d(255,255*s/(255-t)),c=0===o?0:255===e?255:d(255,255*o/(255-e)),u=0===a?0:255===i?255:d(255,255*a/(255-i))},"color-burn":function(){h=255===s?255:0===t?0:f(0,255-255*(255-s)/t),c=255===o?255:0===e?0:f(0,255-255*(255-o)/e),u=255===a?255:0===i?0:f(0,255-255*(255-a)/i)},darken:function(){h=s<t?s:t,c=o<e?o:e,u=a<i?a:i},lighten:function(){h=s>t?s:t,c=o>e?o:e,u=a>i?a:i},difference:function(){(h=s-t)<0&&(h=-h),(c=o-e)<0&&(c=-c),(u=a-i)<0&&(u=-u)},exclusion:function(){h=s+t*(255-s-s)/255,c=o+e*(255-o-o)/255,u=a+i*(255-a-a)/255},hue:function(){_(t,e,i,v(s,o,a)),m(h,c,u,g(s,o,a))},saturation:function(){_(s,o,a,v(t,e,i)),m(h,c,u,g(s,o,a))},luminosity:function(){m(s,o,a,g(t,e,i))},color:function(){m(t,e,i,g(s,o,a))},add:function(){h=d(s+t,255),c=d(o+e,255),u=d(a+i,255)},subtract:function(){h=f(s-t,0),c=f(o-e,0),u=f(a-i,0)},average:function(){h=(s+t)/2,c=(o+e)/2,u=(a+i)/2},negation:function(){h=255-p(255-t-s),c=255-p(255-e-o),u=255-p(255-i-a)}},w=this.nativeModes=r.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),b=et.getContext(1,1,{willReadFrequently:!0});b&&(r.each(y,function(t,e){var i="darken"===e,n=!1;b.save();try{b.fillStyle=i?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=i?"#a00":"#300",b.fillRect(0,0,1,1),n=b.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(t){}b.restore(),w[e]=n}),et.release(b)),this.process=function(r,d,f,p,g){var m=d.canvas,v="normal"===r;if(v||w[r])f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=p,v||(f.globalCompositeOperation=r),f.drawImage(m,g.x,g.y),f.restore();else{var _=y[r];if(!_)return;for(var b=f.getImageData(g.x,g.y,m.width,m.height),x=b.data,S=d.getImageData(0,0,m.width,m.height).data,C=0,T=x.length;C<T;C+=4){t=S[C],s=x[C],e=S[C+1],o=x[C+1],i=S[C+2],a=x[C+2],n=S[C+3],l=x[C+3],_();var k=n*p/255,A=1-k;x[C]=k*h+A*s,x[C+1]=k*c+A*o,x[C+2]=k*u+A*a,x[C+3]=n*p+A*l}f.putImageData(b,g.x,g.y)}}},nt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",r={href:i,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(t,e,i){for(var n in e){var s=e[n],o=r[n];"number"==typeof s&&i&&(s=i.number(s)),o?t.setAttributeNS(o,n,s):t.setAttribute(n,s)}return t}return{svg:t,xmlns:e,xlink:i,create:function(e,i,r){return s(n.createElementNS(t,e),i,r)},get:function(t,e){var i=r[e],n=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===n?null:n},set:s}},rt=r.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof z||t instanceof C||t instanceof q)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=r.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&r.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});new function(){var e;function i(t,i,n){var s,o=new r,a=t.getTranslation();i&&(t.isInvertible()?(s=(t=t._shiftless())._inverseTransform(a),a=null):s=new d,o[n?"cx":"x"]=s.x,o[n?"cy":"y"]=s.y);if(!t.isIdentity()){var l=t.decompose();if(l){var h=[],u=l.rotation,f=l.scaling,p=l.skewing;a&&!a.isZero()&&h.push("translate("+e.point(a)+")"),u&&h.push("rotate("+e.number(u)+")"),c.isZero(f.x-1)&&c.isZero(f.y-1)||h.push("scale("+e.point(f)+")"),p.x&&h.push("skewX("+e.number(p.x)+")"),p.y&&h.push("skewY("+e.number(p.y)+")"),o.transform=h.join(" ")}else o.transform="matrix("+t.getValues().join(",")+")"}return o}function n(t,n){for(var r=i(t._matrix),s=t._children,o=nt.create("g",r,e),a=0,l=s.length;a<l;a++){var h=s[a],c=v(h,n);if(c)if(h.isClipMask()){var u=nt.create("clipPath");u.appendChild(c),p(h,u,"clip"),nt.set(o,{"clip-path":"url(#"+u.id+")"})}else o.appendChild(c)}return o}function s(t){var n=t._type,r=t._radius,s=i(t._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var o=t._size,a=o.width,l=o.height;s.x-=a/2,s.y-=l/2,s.width=a,s.height=l,r.isZero()&&(r=null)}return r&&("circle"===n?s.r=r:(s.rx=r.width,s.ry=r.height)),nt.create(n,s,e)}var o,a={Group:n,Layer:n,Raster:function(t,n){var r=i(t._matrix,!0),s=t.getSize(),o=t.getImage();return r.x-=s.width/2,r.y-=s.height/2,r.width=s.width,r.height=s.height,r.href=0==n.embedImages&&o&&o.src||t.toDataURL(),nt.create("image",r,e)},Path:function(t,n){var r=n.matchShapes;if(r){var o=t.toShape(!1);if(o)return s(o)}var a,l=t._segments,h=l.length,c=i(t._matrix);if(r&&h>=2&&!t.hasHandles())if(h>2){a=t._closed?"polygon":"polyline";for(var u=[],d=0;d<h;d++)u.push(e.point(l[d]._point));c.points=u.join(" ")}else{a="line";var f=l[0]._point,p=l[1]._point;c.set({x1:f.x,y1:f.y,x2:p.x,y2:p.y})}else a="path",c.d=t.getPathData(null,n.precision);return nt.create(a,c,e)},Shape:s,CompoundPath:function(t,n){var r=i(t._matrix),s=t.getPathData(null,n.precision);return s&&(r.d=s),nt.create("path",r,e)},SymbolItem:function(t,n){var r=i(t._matrix,!0),s=t._definition,o=f(s,"symbol"),a=s._item,l=a.getStrokeBounds();return o||((o=nt.create("symbol",{viewBox:e.rectangle(l)})).appendChild(v(a,n)),p(s,o,"symbol")),r.href="#"+o.id,r.x+=l.x,r.y+=l.y,r.width=l.width,r.height=l.height,r.overflow="visible",nt.create("use",r,e)},PointText:function(t){var n=nt.create("text",i(t._matrix,!0),e);return n.textContent=t._content,n}};function l(t,i,n){var s={},o=!n&&t.getParent(),a=[];return null!=t._name&&(s.id=t._name),r.each(rt,function(i){var n=i.get,l=i.type,h=t[n]();if(i.exportFilter?i.exportFilter(t,h):!o||!r.equals(o[n](),h)){if("color"===l&&null!=h){var c=h.getAlpha();c<1&&(s[i.attribute+"-opacity"]=c)}"style"===l?a.push(i.attribute+": "+h):s[i.attribute]=null==h?"none":"color"===l?h.gradient?function(t){var i=f(t,"color");if(!i){var n,r=t.getGradient(),s=r._radial,o=t.getOrigin(),a=t.getDestination();if(s){n={cx:o.x,cy:o.y,r:o.getDistance(a)};var l=t.getHighlight();l&&(n.fx=l.x,n.fy=l.y)}else n={x1:o.x,y1:o.y,x2:a.x,y2:a.y};n.gradientUnits="userSpaceOnUse",i=nt.create((s?"radial":"linear")+"Gradient",n,e);for(var h=r._stops,c=0,u=h.length;c<u;c++){var d=h[c],g=d._color,m=g.getAlpha(),v=d._offset;n={offset:null==v?c/(u-1):v},g&&(n["stop-color"]=g.toCSS(!0)),m<1&&(n["stop-opacity"]=m),i.appendChild(nt.create("stop",n,e))}p(t,i,"color")}return"url(#"+i.id+")"}(h):h.toCSS(!0):"array"===l?h.join(","):"lookup"===l?i.toSVG[h]:h}}),a.length&&(s.style=a.join(";")),1===s.opacity&&delete s.opacity,t._visible||(s.visibility="hidden"),nt.set(i,s,e)}function f(t,e){return o||(o={ids:{},svgs:{}}),t&&o.svgs[e+"-"+(t._id||t.__id||(t.__id=u.get("svg")))]}function p(t,e,i){o||f();var n=o.ids[i]=(o.ids[i]||0)+1;e.id=i+"-"+n,o.svgs[i+"-"+(t._id||t.__id)]=e}function g(e,i){var n=e,r=null;if(o){for(var s in n="svg"===e.nodeName.toLowerCase()&&e,o.svgs)r||(n||(n=nt.create("svg")).appendChild(e),r=n.insertBefore(nt.create("defs"),n.firstChild)),r.appendChild(o.svgs[s]);o=null}return i.asString?(new t.XMLSerializer).serializeToString(n):n}function v(t,e,i){var n=a[t._class],r=n&&n(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var o=JSON.stringify(t._data);o&&"{}"!==o&&"null"!==o&&r.setAttribute("data-paper-data",o)}return r&&l(t,r,i)}function y(t){return t||(t={}),e=new h(t.precision),t}b.inject({exportSVG:function(t){return g(v(this,t=y(t),!0),t)}}),w.inject({exportSVG:function(t){t=y(t);var n=this._children,s=this.getView(),o=r.pick(t.bounds,"view"),a=t.matrix||"view"===o&&s._matrix,l=a&&_.read([a]),h="view"===o?new m([0,0],s.getViewSize()):"content"===o?b._getBounds(n,l,{stroke:!0}).rect:m.read([o],0,{readNull:!0}),c={version:"1.1",xmlns:nt.svg,"xmlns:xlink":nt.xlink};h&&(c.width=h.width,c.height=h.height,(h.x||0===h.x||h.y||0===h.y)&&(c.viewBox=e.rectangle(h)));var u=nt.create("svg",c,e),d=u;l&&!l.isIdentity()&&(d=u.appendChild(nt.create("g",i(l),e)));for(var f=0,p=n.length;f<p;f++)d.appendChild(v(n[f],t,!0));return g(u,t)}})},new function(){var s,o={};function a(t,e,i,n,r,o){var a=nt.get(t,e)||o,l=null==a?n?null:i?"":0:i?a:parseFloat(a);return/%\s*$/.test(a)?l/100*(r?1:s[/x|^width/.test(e)?"width":"height"]):l}function l(t,e,i,n,r,s,o){return e=a(t,e||"x",!1,n,r,s),i=a(t,i||"y",!1,n,r,o),!n||null!=e&&null!=i?new d(e,i):null}function h(t,e,i,n,r){return e=a(t,e||"width",!1,n,r),i=a(t,i||"height",!1,n,r),!n||null!=e&&null!=i?new p(e,i):null}function c(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?M(t)||t:"lookup"===e?i[t]:t}function u(t,e,i,n){var r=t.childNodes,s="clippath"===e,o="defs"===e,a=new x,l=a._project,h=l._currentStyle,c=[];if(s||o||(a=E(a,t,n),l._currentStyle=a._style.clone()),n)for(var u=t.querySelectorAll("defs"),d=0,f=u.length;d<f;d++)O(u[d],i,!1);for(d=0,f=r.length;d<f;d++){var p,g=r[d];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=O(g,i,!1))||p instanceof A||c.push(p)}return a.addChildren(c),s&&(a=E(a.reduce(),t,n)),l._currentStyle=h,(s||o)&&(a.remove(),a=null),a}function f(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],r=0,s=i.length;r<s;r+=2)n.push(new d(parseFloat(i[r]),parseFloat(i[r+1])));var o=new I(n);return"polygon"===e&&o.closePath(),o}function g(t,e){var i,n=(a(t,"href",!0)||"").substring(1),r="radialgradient"===e;if(n)(i=o[n].getGradient())._radial^r&&((i=i.clone())._radial=r);else{for(var s=t.childNodes,h=[],c=0,u=s.length;c<u;c++){var d=s[c];1===d.nodeType&&h.push(E(new H,d))}i=new j(h,r)}var f,p,g,m="userSpaceOnUse"!==a(t,"gradientUnits",!0);return r?(p=(f=l(t,"cx","cy",!1,m,"50%","50%")).add(a(t,"r",!1,!1,m,"50%"),0),g=l(t,"fx","fy",!0,m)):(f=l(t,"x1","y1",!1,m,"0%","0%"),p=l(t,"x2","y2",!1,m,"100%","0%")),E(new F(i,f,p,g),t)._scaleToBounds=m,null}var v={"#document":function(t,e,i,n){for(var r=t.childNodes,s=0,o=r.length;s<o;s++){var a=r[s];if(1===a.nodeType)return O(a,i,n)}},g:u,svg:u,clippath:u,polygon:f,polyline:f,path:function(t){return z.create(t.getAttribute("d"))},lineargradient:g,radialgradient:g,image:function(t){var e=new T(a(t,"href",!0));return e.on("load",function(){var e=h(t);this.setSize(e);var i=l(t).add(e.divide(2));this._matrix.append((new _).translate(i))}),e},symbol:function(t,e,i,n){return new A(u(t,e,i,n),!0)},defs:u,use:function(t){var e=(a(t,"href",!0)||"").substring(1),i=o[e],n=l(t);return i?i instanceof A?i.place(n):i.clone().translate(n):null},circle:function(t){return new C.Circle(l(t,"cx","cy"),a(t,"r"))},ellipse:function(t){return new C.Ellipse({center:l(t,"cx","cy"),radius:h(t,"rx","ry")})},rect:function(t){return new C.Rectangle(new m(l(t),h(t)),h(t,"rx","ry"))},line:function(t){return new I.Line(l(t,"x1","y1"),l(t,"x2","y2"))},text:function(t){var e=new N(l(t).add(l(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e},switch:u};function y(t,e,i,n){if(t.transform){for(var r=(n.getAttribute(i)||"").split(/\)\s*/g),s=new _,o=0,a=r.length;o<a;o++){var l=r[o];if(!l)break;for(var h=l.split(/\(\s*/),c=h[0],u=h[1].split(/[\s,]+/g),d=0,f=u.length;d<f;d++)u[d]=parseFloat(u[d]);switch(c){case"matrix":s.append(new _(u[0],u[1],u[2],u[3],u[4],u[5]));break;case"rotate":s.rotate(u[0],u[1]||0,u[2]||0);break;case"translate":s.translate(u[0],u[1]||0);break;case"scale":s.scale(u);break;case"skewX":s.skew(u[0],0);break;case"skewY":s.skew(0,u[0])}}t.transform(s)}}function S(t,e,i){var n="fill-opacity"===i?"getFillColor":"getStrokeColor",r=t[n]&&t[n]();r&&r.setAlpha(parseFloat(e))}var k=r.set(r.each(rt,function(t){this[t.attribute]=function(e,i){if(e[t.set]&&(e[t.set](c(i,t.type,t.fromSVG)),"color"===t.type)){var n=e[t.get]();if(n&&n._scaleToBounds){var r=e.getBounds();n.transform((new _).translate(r.getPoint()).scale(r.getSize()))}}}},{}),{id:function(t,e){o[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var i=M(e);if(i){if((i=i.clone()).setClipMask(!0),!(t instanceof x))return new x(i,t);t.insertChild(0,i)}},gradientTransform:y,transform:y,"fill-opacity":S,"stroke-opacity":S,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var i=e.match(/(.*)%$/);t.setOffset(i?i[1]/100:parseFloat(e))}},viewBox:function(t,e,i,n,r){var s,o=new m(c(e,"array")),a=h(n,null,null,!0);if(t instanceof x){var l=a?a.divide(o.getSize()):1,u=(new _).scale(l).translate(o.getPoint().negate());s=t}else t instanceof A&&(a&&o.setSize(a),s=t._item);if(s){if("visible"!==P(n,"overflow",r)){var d=new C.Rectangle(o);d.setClipMask(!0),s.addChild(d)}u&&s.transform(u)}}});function P(t,i,n){var s=t.attributes[i],o=s&&s.value;if(!o&&t.style){var a=r.camelize(i);(o=t.style[a])||n.node[a]===n.parent[a]||(o=n.node[a])}return o?"none"===o?null:o:e}function E(t,i,n){var s=i.parentNode,o={node:V.getStyles(i)||{},parent:!n&&!/^defs$/i.test(s.tagName)&&V.getStyles(s)||{}};return r.each(k,function(n,r){var s=P(i,r,o);t=s!==e&&n(t,s,r,i,o)||t}),t}function M(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],r=n&&o[i?n.replace(i.location.href.split("#")[0]+"#",""):n];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function O(t,e,i){var a,l,c,u=t.nodeName.toLowerCase(),d="#document"!==u,f=n.body;i&&d&&(s=st.getView().getSize(),s=h(t,null,null,!0)||s,a=nt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),l=t.parentNode,c=t.nextSibling,a.appendChild(t),f.appendChild(a));var p=st.settings,g=p.applyMatrix,m=p.insertItems;p.applyMatrix=!1,p.insertItems=!1;var _=v[u],y=_&&_(t,u,e,i)||null;if(p.insertItems=m,p.applyMatrix=g,y){!d||y instanceof x||(y=E(y,t,i));var w=e.onImport,b=d&&t.getAttribute("data-paper-data");w&&(y=w(t,y,e)||y),e.expandShapes&&y instanceof C&&(y.remove(),y=y.toPath()),b&&(y._data=JSON.parse(b))}return a&&(f.removeChild(a),l&&(c?l.insertBefore(t,c):l.appendChild(t))),i&&(o={},y&&r.pick(e.applyMatrix,g)&&y.matrix.apply(!0,!0)),y}function L(i,r,s){if(!i)return null;r="function"==typeof r?{onLoad:r}:r||{};var o=st,a=null;function l(n){try{var l="object"==typeof n?n:(new t.DOMParser).parseFromString(n.trim(),"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+i);st=o,a=O(l,r,!0),r&&!1===r.insert||s._insertItem(e,a);var c=r.onLoad;c&&c(a,n)}catch(t){h(t)}}function h(t,e){var i=r.onError;if(!i)throw new Error(t);i(t,e)}if("string"!=typeof i||/^[\s\S]*</.test(i)){if("undefined"!=typeof File&&i instanceof File){var c=new FileReader;return c.onload=function(){l(c.result)},c.onerror=function(){h(c.error)},c.readAsText(i)}l(i)}else{var u=n.getElementById(i);u?l(u):tt.request({url:i,async:!0,onLoad:l,onError:h})}return a}b.inject({importSVG:function(t,e){return L(t,e,this)}}),w.inject({importSVG:function(t,e){return this.activate(),L(t,e,this)}})};var st=new(o.inject(r.exports,{Base:r,Numerical:c,Key:G,DomEvent:Z,DomElement:V,document:n,window:i,Symbol:A,PlacedSymbol:k}));return st.agent.node&&require("./node/extend.js")(st),"function"==typeof define&&define.amd?define("paper",st):"object"==typeof module&&module&&(module.exports=st),st}.call(this,"object"==typeof self?self:null);!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(){return m||"undefined"!=typeof window&&(m=window.gsap)&&m.registerPlugin&&m}function n(t,e){return~L.indexOf(t)&&L[L.indexOf(t)+1][e]}function r(t){return!!~T.indexOf(t)}function s(t,e,i,n,r){return t.addEventListener(e,i,{passive:!n,capture:!!r})}function o(t,e,i,n){return t.removeEventListener(e,i,!!n)}function a(){return k&&k.isPressed||O.cache++}function l(t,e){function i(n){if(n||0===n){E&&(_.history.scrollRestoration="manual");var r=k&&k.isPressed;n=i.v=Math.round(n)||(k&&k.iOS?1:0),t(n),i.cacheID=O.cache,r&&I("ss",n)}else(e||O.cache!==i.cacheID||I("ref"))&&(i.cacheID=O.cache,i.v=t());return i.v+i.offset}return i.offset=0,t&&i}function h(t,e){return(e&&e._ctx&&e._ctx.selector||m.utils.toArray)(t)[0]||("string"==typeof t&&!1!==m.config().nullTargetWarn?console.warn("Element not found:",t):null)}function c(t,e){var i=e.s,o=e.sc;r(t)&&(t=y.scrollingElement||w);var h=O.indexOf(t),c=o===q.sc?1:2;~h||(h=O.push(t)-1),O[h+c]||s(t,"scroll",a);var u=O[h+c],d=u||(O[h+c]=l(n(t,i),!0)||(r(t)?o:l(function(e){return arguments.length?t[i]=e:t[i]})));return d.target=t,u||(d.smooth="smooth"===m.getProperty(t,"scrollBehavior")),d}function u(t,e,i){function n(t,e){var n=z();e||l<n-o?(s=r,r=t,a=o,o=n):i?r+=t:r=s+(t-s)/(n-a)*(o-a)}var r=t,s=t,o=z(),a=o,l=e||50,h=Math.max(500,3*l);return{update:n,reset:function(){s=r=i?0:r,a=o=0},getVelocity:function(t){var e=a,l=s,c=z();return!t&&0!==t||t===r||n(t),o===a||h<c-a?0:(r+(i?l:-l))/((i?c:o)-e)*1e3}}}function d(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t}function f(t){var e=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(i)?e:i}function p(){var t,e,i,n;(C=m.core.globals().ScrollTrigger)&&C.core&&(t=C.core,e=t.bridge||{},i=t._scrollers,n=t._proxies,i.push.apply(i,O),n.push.apply(n,L),O=i,L=n,I=function(t,i){return e[t](i)})}function g(t){return(m=t||i())&&"undefined"!=typeof document&&document.body&&(_=window,w=(y=document).documentElement,b=y.body,T=[_,y,w,b],m.utils.clamp,P=m.core.context||function(){},S="onpointerenter"in b?"pointer":"mouse",x=N.isTouch=_.matchMedia&&_.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?2:0,A=N.eventTypes=("ontouchstart"in w?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in w?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return E=0},500),p(),v=1),v}var m,v,_,y,w,b,x,S,C,T,k,A,P,E=1,M=[],O=[],L=[],z=Date.now,I=function(t,e){return e},D="scrollLeft",B="scrollTop",R={s:D,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:l(function(t){return arguments.length?_.scrollTo(t,q.sc()):_.pageXOffset||y[D]||w[D]||b[D]||0})},q={s:B,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:R,sc:l(function(t){return arguments.length?_.scrollTo(R.sc(),t):_.pageYOffset||y[B]||w[B]||b[B]||0})};R.op=q,O.cache=0;var N=(F.prototype.init=function(t){v||g(m)||console.warn("Please gsap.registerPlugin(Observer)"),C||p();var e=t.tolerance,i=t.dragMinimum,n=t.type,l=t.target,T=t.lineHeight,E=t.debounce,O=t.preventDefault,L=t.onStop,I=t.onStopDelay,D=t.ignore,B=t.wheelSpeed,N=t.event,F=t.onDragStart,j=t.onDragEnd,H=t.onDrag,W=t.onPress,V=t.onRelease,Z=t.onRight,Y=t.onLeft,X=t.onUp,U=t.onDown,$=t.onChangeX,G=t.onChangeY,K=t.onChange,J=t.onToggleX,Q=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,it=t.onMove,nt=t.ignoreCheck,rt=t.isNormalizer,st=t.onGestureStart,ot=t.onGestureEnd,at=t.onWheel,lt=t.onEnable,ht=t.onDisable,ct=t.onClick,ut=t.scrollSpeed,dt=t.capture,ft=t.allowClicks,pt=t.lockAxis,gt=t.onLockAxis;function mt(){return $t=z()}function vt(t,e){return(Rt.event=t)&&D&&~D.indexOf(t.target)||e&&Vt&&"touch"!==t.pointerType||nt&&nt(t,e)}function _t(){var t=Rt.deltaX=f(Xt),i=Rt.deltaY=f(Ut),n=Math.abs(t)>=e,r=Math.abs(i)>=e;K&&(n||r)&&K(Rt,t,i,Xt,Ut),n&&(Z&&0<Rt.deltaX&&Z(Rt),Y&&Rt.deltaX<0&&Y(Rt),$&&$(Rt),J&&Rt.deltaX<0!=qt<0&&J(Rt),qt=Rt.deltaX,Xt[0]=Xt[1]=Xt[2]=0),r&&(U&&0<Rt.deltaY&&U(Rt),X&&Rt.deltaY<0&&X(Rt),G&&G(Rt),Q&&Rt.deltaY<0!=Nt<0&&Q(Rt),Nt=Rt.deltaY,Ut[0]=Ut[1]=Ut[2]=0),(zt||Lt)&&(it&&it(Rt),Lt&&(H(Rt),Lt=!1),zt=!1),Dt&&!(Dt=!1)&&gt&&gt(Rt),It&&(at(Rt),It=!1),Mt=0}function yt(t,e,i){Xt[i]+=t,Ut[i]+=e,Rt._vx.update(t),Rt._vy.update(e),E?Mt=Mt||requestAnimationFrame(_t):_t()}function wt(t,e){pt&&!Bt&&(Rt.axis=Bt=Math.abs(t)>Math.abs(e)?"x":"y",Dt=!0),"y"!==Bt&&(Xt[2]+=t,Rt._vx.update(t,!0)),"x"!==Bt&&(Ut[2]+=e,Rt._vy.update(e,!0)),E?Mt=Mt||requestAnimationFrame(_t):_t()}function bt(t){if(!vt(t,1)){var e=(t=d(t,O)).clientX,n=t.clientY,r=e-Rt.x,s=n-Rt.y,o=Rt.isDragging;Rt.x=e,Rt.y=n,(o||Math.abs(Rt.startX-e)>=i||Math.abs(Rt.startY-n)>=i)&&(H&&(Lt=!0),o||(Rt.isDragging=!0),wt(r,s),o||F&&F(Rt))}}function xt(t){return t.touches&&1<t.touches.length&&(Rt.isGesturing=!0)&&st(t,Rt.isDragging)}function St(){return(Rt.isGesturing=!1)||ot(Rt)}function Ct(t){if(!vt(t)){var e=Ft(),i=jt();yt((e-Ht)*ut,(i-Wt)*ut,1),Ht=e,Wt=i,L&&Ot.restart(!0)}}function Tt(t){if(!vt(t)){t=d(t,O),at&&(It=!0);var e=(1===t.deltaMode?T:2===t.deltaMode?_.innerHeight:1)*B;yt(t.deltaX*e,t.deltaY*e,0),L&&!rt&&Ot.restart(!0)}}function kt(t){if(!vt(t)){var e=t.clientX,i=t.clientY,n=e-Rt.x,r=i-Rt.y;Rt.x=e,Rt.y=i,zt=!0,(n||r)&&wt(n,r)}}function At(t){Rt.event=t,tt(Rt)}function Pt(t){Rt.event=t,et(Rt)}function Et(t){return vt(t)||d(t,O)&&ct(Rt)}this.target=l=h(l)||w,this.vars=t,D=D&&m.utils.toArray(D),e=e||1e-9,i=i||0,B=B||1,ut=ut||1,n=n||"wheel,touch,pointer",E=!1!==E,T=T||parseFloat(_.getComputedStyle(b).lineHeight)||22;var Mt,Ot,Lt,zt,It,Dt,Bt,Rt=this,qt=0,Nt=0,Ft=c(l,R),jt=c(l,q),Ht=Ft(),Wt=jt(),Vt=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===A[0],Zt=r(l),Yt=l.ownerDocument||y,Xt=[0,0,0],Ut=[0,0,0],$t=0,Gt=Rt.onPress=function(t){vt(t,1)||t&&t.button||(Rt.axis=Bt=null,Ot.pause(),Rt.isPressed=!0,t=d(t),qt=Nt=0,Rt.startX=Rt.x=t.clientX,Rt.startY=Rt.y=t.clientY,Rt._vx.reset(),Rt._vy.reset(),s(rt?l:Yt,A[1],bt,O,!0),Rt.deltaX=Rt.deltaY=0,W&&W(Rt))},Kt=Rt.onRelease=function(t){if(!vt(t,1)){o(rt?l:Yt,A[1],bt,!0);var e=!isNaN(Rt.y-Rt.startY),i=Rt.isDragging&&(3<Math.abs(Rt.x-Rt.startX)||3<Math.abs(Rt.y-Rt.startY)),n=d(t);!i&&e&&(Rt._vx.reset(),Rt._vy.reset(),O&&ft&&m.delayedCall(.08,function(){if(300<z()-$t&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Yt.createEvent){var e=Yt.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,_,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}})),Rt.isDragging=Rt.isGesturing=Rt.isPressed=!1,L&&!rt&&Ot.restart(!0),j&&i&&j(Rt),V&&V(Rt,i)}};Ot=Rt._dc=m.delayedCall(I||.25,function(){Rt._vx.reset(),Rt._vy.reset(),Ot.pause(),L&&L(Rt)}).pause(),Rt.deltaX=Rt.deltaY=0,Rt._vx=u(0,50,!0),Rt._vy=u(0,50,!0),Rt.scrollX=Ft,Rt.scrollY=jt,Rt.isDragging=Rt.isGesturing=Rt.isPressed=!1,P(this),Rt.enable=function(t){return Rt.isEnabled||(s(Zt?Yt:l,"scroll",a),0<=n.indexOf("scroll")&&s(Zt?Yt:l,"scroll",Ct,O,dt),0<=n.indexOf("wheel")&&s(l,"wheel",Tt,O,dt),(0<=n.indexOf("touch")&&x||0<=n.indexOf("pointer"))&&(s(l,A[0],Gt,O,dt),s(Yt,A[2],Kt),s(Yt,A[3],Kt),ft&&s(l,"click",mt,!1,!0),ct&&s(l,"click",Et),st&&s(Yt,"gesturestart",xt),ot&&s(Yt,"gestureend",St),tt&&s(l,S+"enter",At),et&&s(l,S+"leave",Pt),it&&s(l,S+"move",kt)),Rt.isEnabled=!0,t&&t.type&&Gt(t),lt&&lt(Rt)),Rt},Rt.disable=function(){Rt.isEnabled&&(M.filter(function(t){return t!==Rt&&r(t.target)}).length||o(Zt?Yt:l,"scroll",a),Rt.isPressed&&(Rt._vx.reset(),Rt._vy.reset(),o(rt?l:Yt,A[1],bt,!0)),o(Zt?Yt:l,"scroll",Ct,dt),o(l,"wheel",Tt,dt),o(l,A[0],Gt,dt),o(Yt,A[2],Kt),o(Yt,A[3],Kt),o(l,"click",mt,!0),o(l,"click",Et),o(Yt,"gesturestart",xt),o(Yt,"gestureend",St),o(l,S+"enter",At),o(l,S+"leave",Pt),o(l,S+"move",kt),Rt.isEnabled=Rt.isPressed=Rt.isDragging=!1,ht&&ht(Rt))},Rt.kill=Rt.revert=function(){Rt.disable();var t=M.indexOf(Rt);0<=t&&M.splice(t,1),k===Rt&&(k=0)},M.push(Rt),rt&&r(l)&&(k=Rt),Rt.enable(N)},function(t,i,n){i&&e(t.prototype,i),n&&e(t,n)}(F,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),F);function F(t){this.init(t)}function j(t,e,i){var n=ye(t)&&("clamp("===t.substr(0,6)||-1<t.indexOf("max"));return(i["_"+e+"Clamp"]=n)?t.substr(6,t.length-7):t}function H(t,e){return!e||ye(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"}function W(){return Zt=1}function V(){return Zt=0}function Z(t){return t}function Y(t){return Math.round(1e5*t)/1e5||0}function X(){return"undefined"!=typeof window}function U(){return Lt||X()&&(Lt=window.gsap)&&Lt.registerPlugin&&Lt}function $(t){return!!~qt.indexOf(t)}function G(t){return("Height"===t?le:It["inner"+t])||Bt["client"+t]||Rt["client"+t]}function K(t){return n(t,"getBoundingClientRect")||($(t)?function(){return Qe.width=It.innerWidth,Qe.height=le,Qe}:function(){return ze(t)})}function J(t,e){var i=e.s,r=e.d2,s=e.d,o=e.a;return Math.max(0,(i="scroll"+r)&&(o=n(t,i))?o()-K(t)()[s]:$(t)?(Bt[i]||Rt[i])-G(r):t[i]-t["offset"+r])}function Q(t,e){for(var i=0;i<Gt.length;i+=3)e&&!~e.indexOf(Gt[i+1])||t(Gt[i],Gt[i+1],Gt[i+2])}function tt(t){return"function"==typeof t}function et(t){return"number"==typeof t}function it(t){return"object"==typeof t}function nt(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()}function rt(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}}function st(t){return It.getComputedStyle(t)}function ot(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function at(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0}function lt(t){var e,i=[],n=t.labels,r=t.duration();for(e in n)i.push(n[e]/r);return i}function ht(t){var e=Lt.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(t,e){return t-e});return i?function(t,n,r){var s;if(void 0===r&&(r=.001),!n)return e(t);if(0<n){for(t-=r,s=0;s<i.length;s++)if(i[s]>=t)return i[s];return i[s-1]}for(s=i.length,t+=r;s--;)if(i[s]<=t)return i[s];return i[0]}:function(i,n,r){void 0===r&&(r=.001);var s=e(i);return!n||Math.abs(s-i)<r||s-i<0==n<0?s:e(n<0?i-t:i+t)}}function ct(t,e,i,n){return i.split(",").forEach(function(i){return t(e,i,n)})}function ut(t,e,i,n,r){return t.addEventListener(e,i,{passive:!n,capture:!!r})}function dt(t,e,i,n){return t.removeEventListener(e,i,!!n)}function ft(t,e,i){(i=i&&i.wheelHandler)&&(t(e,"wheel",i),t(e,"touchmove",i))}function pt(t,e){if(ye(t)){var i=t.indexOf("="),n=~i?(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(n*=e/100),t=t.substr(0,i-1)),t=n+(t in Be?Be[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t}function gt(t,e,i,r,s,o,a,l){var h=s.startColor,c=s.endColor,u=s.fontSize,d=s.indent,f=s.fontWeight,p=Dt.createElement("div"),g=$(i)||"fixed"===n(i,"pinType"),m=-1!==t.indexOf("scroller"),v=g?Rt:i,_=-1!==t.indexOf("start"),y=_?h:c,w="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((m||l)&&g?"fixed;":"absolute;"),!m&&!l&&g||(w+=(r===q?be:xe)+":"+(o+parseFloat(d))+"px;"),a&&(w+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=_,p.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),p.style.cssText=w,p.innerText=e||0===e?t+"-"+e:t,v.children[0]?v.insertBefore(p,v.children[0]):v.appendChild(p),p._offset=p["offset"+r.op.d2],Re(p,0,r,_),p}function mt(){return 34<ge()-ve&&(ce=ce||requestAnimationFrame(Ue))}function vt(){te&&te.isPressed&&!(te.startX>Rt.clientWidth)||(O.cache++,te?ce=ce||requestAnimationFrame(Ue):Ue(),ve||He("scrollStart"),ve=ge())}function _t(){ne=It.innerWidth,ie=It.innerHeight}function yt(){O.cache++,Vt||Qt||Dt.fullscreenElement||Dt.webkitFullscreenElement||ee&&ne===It.innerWidth&&!(Math.abs(It.innerHeight-ie)>.25*It.innerHeight)||Nt.restart(!0)}function wt(){return dt(ei,"scrollEnd",wt)||Ze(!0)}function bt(t){for(var e=0;e<We.length;e+=5)(!t||We[e+4]&&We[e+4].query===t)&&(We[e].style.cssText=We[e+1],We[e].getBBox&&We[e].setAttribute("transform",We[e+2]||""),We[e+3].uncache=1)}function xt(t,e){var i;for(Xt=0;Xt<qe.length;Xt++)!(i=qe[Xt])||e&&i._ctx!==e||(t?i.kill(1):i.revert(!0,!0));e&&bt(e),e||He("revert")}function St(t,e){O.cache++,!e&&ue||O.forEach(function(t){return tt(t)&&t.cacheID++&&(t.rec=0)}),ye(t)&&(It.history.scrollRestoration=oe=t)}function Ct(){Rt.appendChild(ae),le=ae.offsetHeight||It.innerHeight,Rt.removeChild(ae)}function Tt(t,e,i,n){if(!t._gsap.swappedIn){for(var r,s=$e.length,o=e.style,a=t.style;s--;)o[r=$e[s]]=i[r];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[xe]=a[be]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Se]=at(t,R)+Le,o[Ce]=at(t,q)+Le,o[Ee]=a[Me]=a.top=a.left="0",Je(n),a[Se]=a.maxWidth=i[Se],a[Ce]=a.maxHeight=i[Ce],a[Ee]=i[Ee],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}}function kt(t){for(var e=Ge.length,i=t.style,n=[],r=0;r<e;r++)n.push(Ge[r],i[Ge[r]]);return n.t=t,n}function At(t,e,i,n,r,s,o,a,l,c,u,d,f,p){tt(t)&&(t=t(a)),ye(t)&&"max"===t.substr(0,3)&&(t=d+("="===t.charAt(4)?pt("0"+t.substr(3),i):0));var g,m,v,_=f?f.time():0;if(f&&f.seek(0),isNaN(t)||(t=+t),et(t))f&&(t=Lt.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,d,t)),o&&Re(o,i,n,!0);else{tt(e)&&(e=e(a));var y,w,b,x,S=(t||"0").split(" ");v=h(e,a)||Rt,(y=ze(v)||{})&&(y.left||y.top)||"none"!==st(v).display||(x=v.style.display,v.style.display="block",y=ze(v),x?v.style.display=x:v.style.removeProperty("display")),w=pt(S[0],y[n.d]),b=pt(S[1]||"0",i),t=y[n.p]-l[n.p]-c+w+r-b,o&&Re(o,b,n,i-b<20||o._isStart&&20<b),i-=i-b}if(p&&(a[p]=t||-.001,t<0&&(t=0)),s){var C=t+i,T=s._isStart;g="scroll"+n.d2,Re(s,C,n,T&&20<C||!T&&(u?Math.max(Rt[g],Bt[g]):s.parentNode[g])<=C+1),u&&(l=ze(o),u&&(s.style[n.op.p]=l[n.op.p]-n.op.m-s._offset+Le))}return f&&v&&(g=ze(v),f.seek(d),m=ze(v),f._caScrollDist=g[n.p]-m[n.p],t=t/f._caScrollDist*d),f&&f.seek(_),f?t:Math.round(t)}function Pt(t,e,i,n){if(t.parentNode!==e){var r,s,o=t.style;if(e===Rt){for(r in t._stOrig=o.cssText,s=st(t))+r||ti.test(r)||!s[r]||"string"!=typeof o[r]||"0"===r||(o[r]=s[r]);o.top=i,o.left=n}else o.cssText=t._stOrig;Lt.core.getCache(t).uncache=1,e.appendChild(t)}}function Et(t,e,i){var n=e,r=n;return function(e){var s=Math.round(t());return s!==n&&s!==r&&3<Math.abs(s-n)&&3<Math.abs(s-r)&&(e=s,i&&i()),r=n,n=e}}function Mt(t,e,i){var n={};n[e.p]="+="+i,Lt.set(t,n)}function Ot(t,e){function i(e,s,o,a,l){var h=i.tween,c=s.onComplete;o=o||n();var u=Et(n,o,function(){h.kill(),i.tween=0});return l=a&&l||0,a=a||e-o,h&&h.kill(),s[r]=e,(s.modifiers={})[r]=function(){return u(o+a*h.ratio+l*h.ratio*h.ratio)},s.onUpdate=function(){O.cache++,Ue()},s.onComplete=function(){i.tween=0,c&&c.call(h)},h=i.tween=Lt.to(t,s)}var n=c(t,e),r="_scroll"+e.p2;return(t[r]=n).wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},ut(t,"wheel",n.wheelHandler),ei.isTouch&&ut(t,"touchmove",n.wheelHandler),i}N.version="3.12.2",N.create=function(t){return new N(t)},N.register=g,N.getAll=function(){return M.slice()},N.getById=function(t){return M.filter(function(e){return e.vars.id===t})[0]},i()&&m.registerPlugin(N);var Lt,zt,It,Dt,Bt,Rt,qt,Nt,Ft,jt,Ht,Wt,Vt,Zt,Yt,Xt,Ut,$t,Gt,Kt,Jt,Qt,te,ee,ie,ne,re,se,oe,ae,le,he,ce,ue,de,fe,pe=1,ge=Date.now,me=ge(),ve=0,_e=0,ye=function(t){return"string"==typeof t},we=Math.abs,be="right",xe="bottom",Se="width",Ce="height",Te="Right",ke="Left",Ae="Top",Pe="Bottom",Ee="padding",Me="margin",Oe="Width",Le="px",ze=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==st(t)[Yt]&&Lt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},Ie={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},De={toggleActions:"play",anticipatePin:0},Be={top:0,left:0,center:.5,bottom:1,right:1},Re=function(t,e,i,n){var r={display:"block"},s=i[n?"os2":"p2"],o=i[n?"p2":"os2"];t._isFlipped=n,r[i.a+"Percent"]=n?-100:0,r[i.a]=n?"1px":0,r["border"+s+Oe]=1,r["border"+o+Oe]=0,r[i.p]=e+"px",Lt.set(t,r)},qe=[],Ne={},Fe={},je=[],He=function(t){return Fe[t]&&Fe[t].map(function(t){return t()})||je},We=[],Ve=0,Ze=function(t,e){if(!ve||t){Ct(),ue=ei.isRefreshing=!0,O.forEach(function(t){return tt(t)&&++t.cacheID&&(t.rec=t())});var i=He("refreshInit");Kt&&ei.sort(),e||xt(),O.forEach(function(t){tt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))}),qe.slice(0).forEach(function(t){return t.refresh()}),qe.forEach(function(t,e){if(t._subPinOffset&&t.pin){var i=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[i];t.revert(!0,1),t.adjustPinSpacing(t.pin[i]-n),t.refresh()}}),qe.forEach(function(t){var e=J(t.scroller,t._dir);("max"===t.vars.end||t._endClamp&&t.end>e)&&t.setPositions(t.start,Math.max(t.start+1,e),!0)}),i.forEach(function(t){return t&&t.render&&t.render(-1)}),O.forEach(function(t){tt(t)&&(t.smooth&&requestAnimationFrame(function(){return t.target.style.scrollBehavior="smooth"}),t.rec&&t(t.rec))}),St(oe,1),Nt.pause(),Ve++,Ue(ue=2),qe.forEach(function(t){return tt(t.vars.onRefresh)&&t.vars.onRefresh(t)}),ue=ei.isRefreshing=!1,He("refresh")}else ut(ei,"scrollEnd",wt)},Ye=0,Xe=1,Ue=function(t){if(!ue||2===t){ei.isUpdating=!0,fe&&fe.update(0);var e=qe.length,i=ge(),n=50<=i-me,r=e&&qe[0].scroll();if(Xe=r<Ye?-1:1,ue||(Ye=r),n&&(ve&&!Zt&&200<i-ve&&(ve=0,He("scrollEnd")),Ht=me,me=i),Xe<0){for(Xt=e;0<Xt--;)qe[Xt]&&qe[Xt].update(0,n);Xe=1}else for(Xt=0;Xt<e;Xt++)qe[Xt]&&qe[Xt].update(0,n);ei.isUpdating=!1}ce=0},$e=["left","top",xe,be,Me+Pe,Me+Te,Me+Ae,Me+ke,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ge=$e.concat([Se,Ce,"boxSizing","max"+Oe,"maxHeight","position",Me,Ee,Ee+Ae,Ee+Te,Ee+Pe,Ee+ke]),Ke=/([A-Z])/g,Je=function(t){if(t){var e,i,n=t.t.style,r=t.length,s=0;for((t.t._gsap||Lt.core.getCache(t.t)).uncache=1;s<r;s+=2)i=t[s+1],e=t[s],i?n[e]=i:n[e]&&n.removeProperty(e.replace(Ke,"-$1").toLowerCase())}},Qe={left:0,top:0},ti=/(webkit|moz|length|cssText|inset)/i,ei=(ii.prototype.init=function(t,e){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),_e){var i,r,s,o,a,l,u,d,f,p,g,m,v,_,y,w,b,x,S,C,T,k,A,P,E,M,z,I,D,B,N,F,W,V,X,U,Q,ct,ft,mt=(t=ot(ye(t)||et(t)||t.nodeType?{trigger:t}:t,De)).onUpdate,_t=t.toggleClass,bt=t.id,xt=t.onToggle,St=t.onRefresh,Ct=t.scrub,Et=t.trigger,zt=t.pin,qt=t.pinSpacing,Nt=t.invalidateOnRefresh,Wt=t.anticipatePin,Yt=t.onScrubComplete,Ut=t.onSnapComplete,$t=t.once,Gt=t.snap,Qt=t.pinReparent,te=t.pinSpacer,ee=t.containerAnimation,ie=t.fastScrollEnd,ne=t.preventOverlaps,re=t.horizontal||t.containerAnimation&&!1!==t.horizontal?R:q,se=!Ct&&0!==Ct,oe=h(t.scroller||It),ae=Lt.core.getCache(oe),le=$(oe),ce="fixed"===("pinType"in t?t.pinType:n(oe,"pinType")||le&&"fixed"),me=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],be=se&&t.toggleActions.split(" "),xe="markers"in t?t.markers:De.markers,Be=le?0:parseFloat(st(oe)["border"+re.p2+Oe])||0,Re=this,Fe=t.onRefreshInit&&function(){return t.onRefreshInit(Re)},je=function(t,e,i){var r=i.d,s=i.d2,o=i.a;return(o=n(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(e?G(s):t["client"+s])||0}}(oe,le,re),He=function(t,e){return!e||~L.indexOf(t)?K(t):function(){return Qe}}(oe,le),We=0,Ye=0,Ue=0,$e=c(oe,re);if(Re._startClamp=Re._endClamp=!1,Re._dir=re,Wt*=45,Re.scroller=oe,Re.scroll=ee?ee.time.bind(ee):$e,o=$e(),Re.vars=t,e=e||t.animation,"refreshPriority"in t&&(Kt=1,-9999===t.refreshPriority&&(fe=Re)),ae.tweenScroll=ae.tweenScroll||{top:Ot(oe,q),left:Ot(oe,R)},Re.tweenTo=i=ae.tweenScroll[re.p],Re.scrubDuration=function(t){(W=et(t)&&t)?F?F.duration(t):F=Lt.to(e,{ease:"expo",totalProgress:"+=0",duration:W,paused:!0,onComplete:function(){return Yt&&Yt(Re)}}):(F&&F.progress(1).kill(),F=0)},e&&(e.vars.lazy=!1,e._initted&&!Re.isReverted||!1!==e.vars.immediateRender&&!1!==t.immediateRender&&e.duration()&&e.render(0,!0,!0),Re.animation=e.pause(),(e.scrollTrigger=Re).scrubDuration(Ct),B=0,bt=bt||e.vars.id),Gt&&(it(Gt)&&!Gt.push||(Gt={snapTo:Gt}),"scrollBehavior"in Rt.style&&Lt.set(le?[Rt,Bt]:oe,{scrollBehavior:"auto"}),O.forEach(function(t){return tt(t)&&t.target===(le?Dt.scrollingElement||Bt:oe)&&(t.smooth=!1)}),s=tt(Gt.snapTo)?Gt.snapTo:"labels"===Gt.snapTo?function(t){return function(e){return Lt.utils.snap(lt(t),e)}}(e):"labelsDirectional"===Gt.snapTo?function(t){return function(e,i){return ht(lt(t))(e,i.direction)}}(e):!1!==Gt.directional?function(t,e){return ht(Gt.snapTo)(t,ge()-Ye<500?0:e.direction)}:Lt.utils.snap(Gt.snapTo),V=it(V=Gt.duration||{min:.1,max:2})?jt(V.min,V.max):jt(V,V),X=Lt.delayedCall(Gt.delay||W/2||.1,function(){var t=$e(),n=ge()-Ye<500,r=i.tween;if(!(n||Math.abs(Re.getVelocity())<10)||r||Zt||We===t)Re.isActive&&We!==t&&X.restart(!0);else{var o=(t-l)/_,a=e&&!se?e.totalProgress():o,h=n?0:(a-N)/(ge()-Ht)*1e3||0,c=Lt.utils.clamp(-o,1-o,we(h/2)*h/.185),d=o+(!1===Gt.inertia?0:c),f=jt(0,1,s(d,Re)),p=Math.round(l+f*_),g=Gt.onStart,m=Gt.onInterrupt,v=Gt.onComplete;if(t<=u&&l<=t&&p!==t){if(r&&!r._initted&&r.data<=we(p-t))return;!1===Gt.inertia&&(c=f-o),i(p,{duration:V(we(.185*Math.max(we(d-a),we(f-a))/h/.05||0)),ease:Gt.ease||"power3",data:we(p-t),onInterrupt:function(){return X.restart(!0)&&m&&m(Re)},onComplete:function(){Re.update(),We=$e(),B=N=e&&!se?e.totalProgress():Re.progress,Ut&&Ut(Re),v&&v(Re)}},t,c*_,p-t-c*_),g&&g(Re,i.tween)}}}).pause()),bt&&(Ne[bt]=Re),ft=(ft=(Et=Re.trigger=h(Et||!0!==zt&&zt))&&Et._gsap&&Et._gsap.stRevert)&&ft(Re),zt=!0===zt?Et:h(zt),ye(_t)&&(_t={targets:Et,className:_t}),zt&&(!1===qt||qt===Me||(qt=!(!qt&&zt.parentNode&&zt.parentNode.style&&"flex"===st(zt.parentNode).display)&&Ee),Re.pin=zt,(r=Lt.core.getCache(zt)).spacer?y=r.pinState:(te&&((te=h(te))&&!te.nodeType&&(te=te.current||te.nativeElement),r.spacerIsNative=!!te,te&&(r.spacerState=kt(te))),r.spacer=x=te||Dt.createElement("div"),x.classList.add("pin-spacer"),bt&&x.classList.add("pin-spacer-"+bt),r.pinState=y=kt(zt)),!1!==t.force3D&&Lt.set(zt,{force3D:!0}),Re.spacer=x=r.spacer,D=st(zt),P=D[qt+re.os2],C=Lt.getProperty(zt),T=Lt.quickSetter(zt,re.a,Le),Tt(zt,x,D),b=kt(zt)),xe){m=it(xe)?ot(xe,Ie):Ie,p=gt("scroller-start",bt,oe,re,m,0),g=gt("scroller-end",bt,oe,re,m,0,p),S=p["offset"+re.op.d2];var Ge=h(n(oe,"content")||oe);d=this.markerStart=gt("start",bt,Ge,re,m,S,0,ee),f=this.markerEnd=gt("end",bt,Ge,re,m,S,0,ee),ee&&(ct=Lt.quickSetter([d,f],re.a,Le)),ce||L.length&&!0===n(oe,"fixedMarkers")||(function(t){var e=st(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(le?Rt:oe),Lt.set([p,g],{force3D:!0}),M=Lt.quickSetter(p,re.a,Le),I=Lt.quickSetter(g,re.a,Le))}if(ee){var Ke=ee.vars.onUpdate,ti=ee.vars.onUpdateParams;ee.eventCallback("onUpdate",function(){Re.update(0,0,1),Ke&&Ke.apply(ee,ti||[])})}if(Re.previous=function(){return qe[qe.indexOf(Re)-1]},Re.next=function(){return qe[qe.indexOf(Re)+1]},Re.revert=function(t,i){if(!i)return Re.kill(!0);var n=!1!==t||!Re.enabled,r=Vt;n!==Re.isReverted&&(n&&(U=Math.max($e(),Re.scroll.rec||0),Ue=Re.progress,Q=e&&e.progress()),d&&[d,f,p,g].forEach(function(t){return t.style.display=n?"none":"block"}),n&&(Vt=Re).update(n),!zt||Qt&&Re.isActive||(n?function(t,e,i){Je(i);var n=t._gsap;if(n.spacerIsNative)Je(n.spacerState);else if(t._gsap.swappedIn){var r=e.parentNode;r&&(r.insertBefore(t,e),r.removeChild(e))}t._gsap.swappedIn=!1}(zt,x,y):Tt(zt,x,st(zt),E)),n||Re.update(n),Vt=r,Re.isReverted=n)},Re.refresh=function(n,r,s,m){if(!Vt&&Re.enabled||r)if(zt&&n&&ve)ut(ii,"scrollEnd",wt);else{!ue&&Fe&&Fe(Re),Vt=Re,i.tween&&!s&&(i.tween.kill(),i.tween=0),F&&F.pause(),Nt&&e&&e.revert({kill:!1}).invalidate(),Re.isReverted||Re.revert(!0,!0),Re._subPinOffset=!1;var S,T,P,M,O,L,I,D,B,N,H,W,V,Z=je(),Y=He(),$=ee?ee.duration():J(oe,re),G=_<=.01,K=0,et=m||0,nt=it(s)?s.end:t.end,rt=t.endTrigger||Et,ot=it(s)?s.start:t.start||(0!==t.start&&Et?zt?"0 0":"0 100%":0),lt=Re.pinnedContainer=t.pinnedContainer&&h(t.pinnedContainer,Re),ht=Et&&Math.max(0,qe.indexOf(Re))||0,ct=ht;for(xe&&it(s)&&(W=Lt.getProperty(p,re.p),V=Lt.getProperty(g,re.p));ct--;)(L=qe[ct]).end||L.refresh(0,1)||(Vt=Re),!(I=L.pin)||I!==Et&&I!==zt&&I!==lt||L.isReverted||((N=N||[]).unshift(L),L.revert(!0,!0)),L!==qe[ct]&&(ht--,ct--);for(tt(ot)&&(ot=ot(Re)),ot=j(ot,"start",Re),l=At(ot,Et,Z,re,$e(),d,p,Re,Y,Be,ce,$,ee,Re._startClamp&&"_startClamp")||(zt?-.001:0),tt(nt)&&(nt=nt(Re)),ye(nt)&&!nt.indexOf("+=")&&(~nt.indexOf(" ")?nt=(ye(ot)?ot.split(" ")[0]:"")+nt:(K=pt(nt.substr(2),Z),nt=ye(ot)?ot:(ee?Lt.utils.mapRange(0,ee.duration(),ee.scrollTrigger.start,ee.scrollTrigger.end,l):l)+K,rt=Et)),nt=j(nt,"end",Re),u=Math.max(l,At(nt||(rt?"100% 0":$),rt,Z,re,$e()+K,f,g,Re,Y,Be,ce,$,ee,Re._endClamp&&"_endClamp"))||-.001,K=0,ct=ht;ct--;)(I=(L=qe[ct]).pin)&&L.start-L._pinPush<=l&&!ee&&0<L.end&&(S=L.end-(Re._startClamp?Math.max(0,L.start):L.start),(I===Et&&L.start-L._pinPush<l||I===lt)&&isNaN(ot)&&(K+=S*(1-L.progress)),I===zt&&(et+=S));if(l+=K,u+=K,Re._startClamp&&(Re._startClamp+=K),Re._endClamp&&!ue&&(Re._endClamp=u||-.001,u=Math.min(u,J(oe,re))),_=u-l||(l-=.01)&&.001,G&&(Ue=Lt.utils.clamp(0,1,Lt.utils.normalize(l,u,U))),Re._pinPush=et,d&&K&&((S={})[re.a]="+="+K,lt&&(S[re.p]="-="+$e()),Lt.set([d,f],S)),zt)S=st(zt),M=re===q,P=$e(),k=parseFloat(C(re.a))+et,!$&&1<u&&(H={style:H=(le?Dt.scrollingElement||Bt:oe).style,value:H["overflow"+re.a.toUpperCase()]},le&&"scroll"!==st(Rt)["overflow"+re.a.toUpperCase()]&&(H.style["overflow"+re.a.toUpperCase()]="scroll")),Tt(zt,x,S),b=kt(zt),T=ze(zt,!0),D=ce&&c(oe,M?R:q)(),qt&&((E=[qt+re.os2,_+et+Le]).t=x,(ct=qt===Ee?at(zt,re)+_+et:0)&&E.push(re.d,ct+Le),Je(E),lt&&qe.forEach(function(t){t.pin===lt&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)}),ce&&$e(U)),ce&&((O={top:T.top+(M?P-l:D)+Le,left:T.left+(M?D:P-l)+Le,boxSizing:"border-box",position:"fixed"})[Se]=O.maxWidth=Math.ceil(T.width)+Le,O[Ce]=O.maxHeight=Math.ceil(T.height)+Le,O[Me]=O[Me+Ae]=O[Me+Te]=O[Me+Pe]=O[Me+ke]="0",O[Ee]=S[Ee],O[Ee+Ae]=S[Ee+Ae],O[Ee+Te]=S[Ee+Te],O[Ee+Pe]=S[Ee+Pe],O[Ee+ke]=S[Ee+ke],w=function(t,e,i){for(var n,r=[],s=t.length,o=i?8:0;o<s;o+=2)n=t[o],r.push(n,n in e?e[n]:t[o+1]);return r.t=t.t,r}(y,O,Qt),ue&&$e(0)),e?(B=e._initted,Jt(1),e.render(e.duration(),!0,!0),A=C(re.a)-k+_+et,z=1<Math.abs(_-A),ce&&z&&w.splice(w.length-2,2),e.render(0,!0,!0),B||e.invalidate(!0),e.parent||e.totalTime(e.totalTime()),Jt(0)):A=_,H&&(H.value?H.style["overflow"+re.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+re.a));else if(Et&&$e()&&!ee)for(T=Et.parentNode;T&&T!==Rt;)T._pinOffset&&(l-=T._pinOffset,u-=T._pinOffset),T=T.parentNode;N&&N.forEach(function(t){return t.revert(!1,!0)}),Re.start=l,Re.end=u,o=a=ue?U:$e(),ee||ue||(o<U&&$e(U),Re.scroll.rec=0),Re.revert(!1,!0),Ye=ge(),X&&(We=-1,X.restart(!0)),Vt=0,e&&se&&(e._initted||Q)&&e.progress()!==Q&&e.progress(Q||0,!0).render(e.time(),!0,!0),(G||Ue!==Re.progress||ee)&&(e&&!se&&e.totalProgress(ee&&l<-.001&&!Ue?Lt.utils.normalize(l,u,0):Ue,!0),Re.progress=G||(o-l)/_===Ue?0:Ue),zt&&qt&&(x._pinOffset=Math.round(Re.progress*A)),F&&F.invalidate(),isNaN(W)||(W-=Lt.getProperty(p,re.p),V-=Lt.getProperty(g,re.p),Mt(p,re,W),Mt(d,re,W-(m||0)),Mt(g,re,V),Mt(f,re,V-(m||0))),G&&!ue&&Re.update(),!St||ue||v||(v=!0,St(Re),v=!1)}},Re.getVelocity=function(){return($e()-a)/(ge()-Ht)*1e3||0},Re.endAnimation=function(){nt(Re.callbackAnimation),e&&(F?F.progress(1):e.paused()?se||nt(e,Re.direction<0,1):nt(e,e.reversed()))},Re.labelToScroll=function(t){return e&&e.labels&&(l||Re.refresh()||l)+e.labels[t]/e.duration()*_||0},Re.getTrailing=function(t){var e=qe.indexOf(Re),i=0<Re.direction?qe.slice(0,e).reverse():qe.slice(e+1);return(ye(t)?i.filter(function(e){return e.vars.preventOverlaps===t}):i).filter(function(t){return 0<Re.direction?t.end<=l:t.start>=u})},Re.update=function(t,n,r){if(!ee||r||t){var s,h,c,d,f,g,m,v=!0===ue?U:Re.scroll(),y=t?0:(v-l)/_,S=y<0?0:1<y?1:y||0,C=Re.progress;if(n&&(a=o,o=ee?$e():v,Gt&&(N=B,B=e&&!se?e.totalProgress():S)),Wt&&!S&&zt&&!Vt&&!pe&&ve&&l<v+(v-a)/(ge()-Ht)*Wt&&(S=1e-4),S!==C&&Re.enabled){if(d=(f=(s=Re.isActive=!!S&&S<1)!=(!!C&&C<1))||!!S!=!!C,Re.direction=C<S?1:-1,Re.progress=S,d&&!Vt&&(h=S&&!C?0:1===S?1:1===C?2:3,se&&(c=!f&&"none"!==be[h+1]&&be[h+1]||be[h],m=e&&("complete"===c||"reset"===c||c in e))),ne&&(f||m)&&(m||Ct||!e)&&(tt(ne)?ne(Re):Re.getTrailing(ne).forEach(function(t){return t.endAnimation()})),se||(!F||Vt||pe?e&&e.totalProgress(S,!(!Vt||!Ye&&!t)):(F._dp._time-F._start!==F._time&&F.render(F._dp._time-F._start),F.resetTo?F.resetTo("totalProgress",S,e._tTime/e._tDur):(F.vars.totalProgress=S,F.invalidate().restart()))),zt)if(t&&qt&&(x.style[qt+re.os2]=P),ce){if(d){if(g=!t&&C<S&&v<u+1&&v+1>=J(oe,re),Qt)if(t||!s&&!g)Pt(zt,x);else{var E=ze(zt,!0),O=v-l;Pt(zt,Rt,E.top+(re===q?O:0)+Le,E.left+(re===q?0:O)+Le)}Je(s||g?w:b),z&&S<1&&s||T(k+(1!==S||g?0:A))}}else T(Y(k+A*S));!Gt||i.tween||Vt||pe||X.restart(!0),_t&&(f||$t&&S&&(S<1||!he))&&Ft(_t.targets).forEach(function(t){return t.classList[s||$t?"add":"remove"](_t.className)}),!mt||se||t||mt(Re),d&&!Vt?(se&&(m&&("complete"===c?e.pause().totalProgress(1):"reset"===c?e.restart(!0).pause():"restart"===c?e.restart(!0):e[c]()),mt&&mt(Re)),!f&&he||(xt&&f&&rt(Re,xt),me[h]&&rt(Re,me[h]),$t&&(1===S?Re.kill(!1,1):me[h]=0),f||me[h=1===S?1:3]&&rt(Re,me[h])),ie&&!s&&Math.abs(Re.getVelocity())>(et(ie)?ie:2500)&&(nt(Re.callbackAnimation),F?F.progress(1):nt(e,"reverse"===c?1:!S,1))):se&&mt&&!Vt&&mt(Re)}if(I){var L=ee?v/ee.duration()*(ee._caScrollDist||0):v;M(L+(p._isFlipped?1:0)),I(L)}ct&&ct(-v/ee.duration()*(ee._caScrollDist||0))}},Re.enable=function(t,e){Re.enabled||(Re.enabled=!0,ut(oe,"resize",yt),le||ut(oe,"scroll",vt),Fe&&ut(ii,"refreshInit",Fe),!1!==t&&(Re.progress=Ue=0,o=a=We=$e()),!1!==e&&Re.refresh())},Re.getTween=function(t){return t&&i?i.tween:F},Re.setPositions=function(t,e,i,n){if(ee){var r=ee.scrollTrigger,s=ee.duration(),o=r.end-r.start;t=r.start+o*t/s,e=r.start+o*e/s}Re.refresh(!1,!1,{start:H(t,i&&!!Re._startClamp),end:H(e,i&&!!Re._endClamp)},n),Re.update()},Re.adjustPinSpacing=function(t){if(E&&t){var e=E.indexOf(re.d)+1;E[e]=parseFloat(E[e])+t+Le,E[1]=parseFloat(E[1])+t+Le,Je(E)}},Re.disable=function(t,e){if(Re.enabled&&(!1!==t&&Re.revert(!0,!0),Re.enabled=Re.isActive=!1,e||F&&F.pause(),U=0,r&&(r.uncache=1),Fe&&dt(ii,"refreshInit",Fe),X&&(X.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!le)){for(var n=qe.length;n--;)if(qe[n].scroller===oe&&qe[n]!==Re)return;dt(oe,"resize",yt),le||dt(oe,"scroll",vt)}},Re.kill=function(i,n){Re.disable(i,n),F&&!n&&F.kill(),bt&&delete Ne[bt];var s=qe.indexOf(Re);0<=s&&qe.splice(s,1),s===Xt&&0<Xe&&Xt--,s=0,qe.forEach(function(t){return t.scroller===Re.scroller&&(s=1)}),s||ue||(Re.scroll.rec=0),e&&(e.scrollTrigger=null,i&&e.revert({kill:!1}),n||e.kill()),d&&[d,f,p,g].forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),fe===Re&&(fe=0),zt&&(r&&(r.uncache=1),s=0,qe.forEach(function(t){return t.pin===zt&&s++}),s||(r.spacer=0)),t.onKill&&t.onKill(Re)},qe.push(Re),Re.enable(!1,!1),ft&&ft(Re),e&&e.add&&!_){var ei=Re.update;Re.update=function(){Re.update=ei,l||u||Re.refresh()},Lt.delayedCall(.01,Re.update),_=.01,l=u=0}else Re.refresh();zt&&function(){if(de!==Ve){var t=de=Ve;requestAnimationFrame(function(){return t===Ve&&Ze(!0)})}}()}else this.update=this.refresh=this.kill=Z},ii.register=function(t){return zt||(Lt=t||U(),X()&&window.document&&ii.enable(),zt=_e),zt},ii.defaults=function(t){if(t)for(var e in t)De[e]=t[e];return De},ii.disable=function(t,e){_e=0,qe.forEach(function(i){return i[e?"kill":"disable"](t)}),dt(It,"wheel",vt),dt(Dt,"scroll",vt),clearInterval(Wt),dt(Dt,"touchcancel",Z),dt(Rt,"touchstart",Z),ct(dt,Dt,"pointerdown,touchstart,mousedown",W),ct(dt,Dt,"pointerup,touchend,mouseup",V),Nt.kill(),Q(dt);for(var i=0;i<O.length;i+=3)ft(dt,O[i],O[i+1]),ft(dt,O[i],O[i+2])},ii.enable=function(){if(It=window,Dt=document,Bt=Dt.documentElement,Rt=Dt.body,Lt&&(Ft=Lt.utils.toArray,jt=Lt.utils.clamp,se=Lt.core.context||Z,Jt=Lt.core.suppressOverwrites||Z,oe=It.history.scrollRestoration||"auto",Ye=It.pageYOffset,Lt.core.globals("ScrollTrigger",ii),Rt)){_e=1,(ae=document.createElement("div")).style.height="100vh",ae.style.position="absolute",Ct(),function t(){return _e&&requestAnimationFrame(t)}(),N.register(Lt),ii.isTouch=N.isTouch,re=N.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ut(It,"wheel",vt),qt=[It,Dt,Bt,Rt],Lt.matchMedia?(ii.matchMedia=function(t){var e,i=Lt.matchMedia();for(e in t)i.add(e,t[e]);return i},Lt.addEventListener("matchMediaInit",function(){return xt()}),Lt.addEventListener("matchMediaRevert",function(){return bt()}),Lt.addEventListener("matchMedia",function(){Ze(0,1),He("matchMedia")}),Lt.matchMedia("(orientation: portrait)",function(){return _t(),_t})):console.warn("Requires GSAP 3.11.0 or later"),_t(),ut(Dt,"scroll",vt);var t,e,i=Rt.style,n=i.borderTopStyle,r=Lt.core.Animation.prototype;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=ze(Rt),q.m=Math.round(t.top+q.sc())||0,R.m=Math.round(t.left+R.sc())||0,n?i.borderTopStyle=n:i.removeProperty("border-top-style"),Wt=setInterval(mt,250),Lt.delayedCall(.5,function(){return pe=0}),ut(Dt,"touchcancel",Z),ut(Rt,"touchstart",Z),ct(ut,Dt,"pointerdown,touchstart,mousedown",W),ct(ut,Dt,"pointerup,touchend,mouseup",V),Yt=Lt.utils.checkPrefix("transform"),Ge.push(Yt),zt=ge(),Nt=Lt.delayedCall(.2,Ze).pause(),Gt=[Dt,"visibilitychange",function(){var t=It.innerWidth,e=It.innerHeight;Dt.hidden?(Ut=t,$t=e):Ut===t&&$t===e||yt()},Dt,"DOMContentLoaded",Ze,It,"load",Ze,It,"resize",yt],Q(ut),qe.forEach(function(t){return t.enable(0,1)}),e=0;e<O.length;e+=3)ft(dt,O[e],O[e+1]),ft(dt,O[e],O[e+2])}},ii.config=function(t){"limitCallbacks"in t&&(he=!!t.limitCallbacks);var e=t.syncInterval;e&&clearInterval(Wt)||(Wt=e)&&setInterval(mt,e),"ignoreMobileResize"in t&&(ee=1===ii.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Q(dt)||Q(ut,t.autoRefreshEvents||"none"),Qt=-1===(t.autoRefreshEvents+"").indexOf("resize"))},ii.scrollerProxy=function(t,e){var i=h(t),n=O.indexOf(i),r=$(i);~n&&O.splice(n,r?6:2),e&&(r?L.unshift(It,e,Rt,e,Bt,e):L.unshift(i,e))},ii.clearMatchMedia=function(t){qe.forEach(function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)})},ii.isInViewport=function(t,e,i){var n=(ye(t)?h(t):t).getBoundingClientRect(),r=n[i?Se:Ce]*e||0;return i?0<n.right-r&&n.left+r<It.innerWidth:0<n.bottom-r&&n.top+r<It.innerHeight},ii.positionInViewport=function(t,e,i){ye(t)&&(t=h(t));var n=t.getBoundingClientRect(),r=n[i?Se:Ce],s=null==e?r/2:e in Be?Be[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0;return i?(n.left+s)/It.innerWidth:(n.top+s)/It.innerHeight},ii.killAll=function(t){if(qe.slice(0).forEach(function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()}),!0!==t){var e=Fe.killAll||[];Fe={},e.forEach(function(t){return t()})}},ii);function ii(t,e){zt||ii.register(Lt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),se(this),this.init(t,e)}function ni(t,e,i,n){return n<e?t(n):e<0&&t(0),n<i?(n-e)/(i-e):i<0?e/(e-i):1}function ri(t,e){!0===e?t.style.removeProperty("touch-action"):t.style.touchAction=!0===e?"auto":e?"pan-"+e+(N.isTouch?" pinch-zoom":""):"none",t===Bt&&ri(Rt,e)}function si(t){var e,i=t.event,n=t.target,r=t.axis,s=(i.changedTouches?i.changedTouches[0]:i).target,o=s._gsap||Lt.core.getCache(s),a=ge();if(!o._isScrollT||2e3<a-o._isScrollT){for(;s&&s!==Rt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!li[(e=st(s)).overflowY]&&!li[e.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==n&&!$(s)&&(li[(e=st(s)).overflowY]||li[e.overflowX]),o._isScrollT=a}!o._isScroll&&"x"!==r||(i.stopPropagation(),i._gsapAllow=!0)}function oi(t,e,i,n){return N.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:n=n&&si,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&ut(Dt,N.eventTypes[0],ci,!1,!0)},onDisable:function(){return dt(Dt,N.eventTypes[0],ci,!0)}})}ei.version="3.12.2",ei.saveStyles=function(t){return t?Ft(t).forEach(function(t){if(t&&t.style){var e=We.indexOf(t);0<=e&&We.splice(e,5),We.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Lt.core.getCache(t),se())}}):We},ei.revert=function(t,e){return xt(!t,e)},ei.create=function(t,e){return new ei(t,e)},ei.refresh=function(t){return t?yt():(zt||ei.register())&&Ze(!0)},ei.update=function(t){return++O.cache&&Ue(!0===t?2:0)},ei.clearScrollMemory=St,ei.maxScroll=function(t,e){return J(t,e?R:q)},ei.getScrollFunc=function(t,e){return c(h(t),e?R:q)},ei.getById=function(t){return Ne[t]},ei.getAll=function(){return qe.filter(function(t){return"ScrollSmoother"!==t.vars.id})},ei.isScrolling=function(){return!!ve},ei.snapDirectional=ht,ei.addEventListener=function(t,e){var i=Fe[t]||(Fe[t]=[]);~i.indexOf(e)||i.push(e)},ei.removeEventListener=function(t,e){var i=Fe[t],n=i&&i.indexOf(e);0<=n&&i.splice(n,1)},ei.batch=function(t,e){function i(t,e){var i=[],n=[],r=Lt.delayedCall(o,function(){e(i,n),i=[],n=[]}).pause();return function(t){i.length||r.restart(!0),i.push(t.trigger),n.push(t),a<=i.length&&r.progress(1)}}var n,r=[],s={},o=e.interval||.016,a=e.batchMax||1e9;for(n in e)s[n]="on"===n.substr(0,2)&&tt(e[n])&&"onRefreshInit"!==n?i(0,e[n]):e[n];return tt(a)&&(a=a(),ut(ei,"refresh",function(){return a=e.batchMax()})),Ft(t).forEach(function(t){var e={};for(n in s)e[n]=s[n];e.trigger=t,r.push(ei.create(e))}),r};var ai,li={auto:1,scroll:1},hi=/(input|label|select|textarea)/i,ci=function(t){var e=hi.test(t.target.tagName);(e||ai)&&(t._gsapAllow=!0,ai=e)};ei.sort=function(t){return qe.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},ei.observe=function(t){return new N(t)},ei.normalizeScroll=function(t){if(void 0===t)return te;if(!0===t&&te)return te.enable();if(!1===t)return te&&te.kill();var e=t instanceof N?t:function(t){function e(){return l=!1}function i(){o=J(y,q),L=jt(re?1:0,o),g&&(M=jt(0,J(y,R))),a=Ve}function n(){x._gsap.y=Y(parseFloat(x._gsap.y)+S.offset)+"px",x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(x._gsap.y)+", 0, 1)",S.offset=S.cacheID=0}function r(){i(),u.isActive()&&u.vars.scrollY>o&&(S()>o?u.progress(1)&&S(o):u.resetTo("scrollY",o))}it(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var s,o,a,l,u,d,f,p,g=t.normalizeScrollX,m=t.momentum,v=t.allowNestedScroll,_=t.onRelease,y=h(t.target)||Bt,w=Lt.core.globals().ScrollSmoother,b=w&&w.get(),x=re&&(t.content&&h(t.content)||b&&!1!==t.content&&!b.smooth()&&b.content()),S=c(y,q),C=c(y,R),T=1,k=(N.isTouch&&It.visualViewport?It.visualViewport.scale*It.visualViewport.width:It.outerWidth)/It.innerWidth,A=0,P=tt(m)?function(){return m(s)}:function(){return m||2.8},E=oi(y,t.type,!0,v),M=Z,L=Z;return x&&Lt.set(x,{y:"+=0"}),t.ignoreCheck=function(t){return re&&"touchmove"===t.type&&function(){if(l){requestAnimationFrame(e);var t=Y(s.deltaY/2),i=L(S.v-t);if(x&&i!==S.v+S.offset){S.offset=i-S.v;var r=Y((parseFloat(x&&x._gsap.y)||0)-S.offset);x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",x._gsap.y=r+"px",S.cacheID=O.cache,Ue()}return!0}S.offset&&n(),l=!0}()||1.05<T&&"touchstart"!==t.type||s.isGesturing||t.touches&&1<t.touches.length},t.onPress=function(){l=!1;var t=T;T=Y((It.visualViewport&&It.visualViewport.scale||1)/k),u.pause(),t!==T&&ri(y,1.01<T||!g&&"x"),d=C(),f=S(),i(),a=Ve},t.onRelease=t.onGestureStart=function(t,e){if(S.offset&&n(),e){O.cache++;var i,s,a=P();g&&(s=(i=C())+.05*a*-t.velocityX/.227,a*=ni(C,i,s,J(y,R)),u.vars.scrollX=M(s)),s=(i=S())+.05*a*-t.velocityY/.227,a*=ni(S,i,s,J(y,q)),u.vars.scrollY=L(s),u.invalidate().duration(a).play(.01),(re&&u.vars.scrollY>=o||o-1<=i)&&Lt.to({},{onUpdate:r,duration:a})}else p.restart(!0);_&&_(t)},t.onWheel=function(){u._ts&&u.pause(),1e3<ge()-A&&(a=0,A=ge())},t.onChange=function(t,e,r,s,o){if(Ve!==a&&i(),e&&g&&C(M(s[2]===e?d+(t.startX-t.x):C()+e-s[1])),r){S.offset&&n();var l=o[2]===r,h=l?f+t.startY-t.y:S()+r-o[1],c=L(h);l&&h!==c&&(f+=c-h),S(c)}(r||e)&&Ue()},t.onEnable=function(){ri(y,!g&&"x"),ei.addEventListener("refresh",r),ut(It,"resize",r),S.smooth&&(S.target.style.scrollBehavior="auto",S.smooth=C.smooth=!1),E.enable()},t.onDisable=function(){ri(y,!0),dt(It,"resize",r),ei.removeEventListener("refresh",r),E.kill()},t.lockAxis=!1!==t.lockAxis,((s=new N(t)).iOS=re)&&!S()&&S(1),re&&Lt.ticker.add(Z),p=s._dc,u=Lt.to(s,{ease:"power4",paused:!0,scrollX:g?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Et(S,S(),function(){return u.pause()})},onUpdate:Ue,onComplete:p.vars.onComplete}),s}(t);return te&&te.target===e.target&&te.kill(),$(e.target)&&(te=e),e},ei.core={_getVelocityProp:u,_inputObserver:oi,_scrollers:O,_proxies:L,bridge:{ss:function(){ve||He("scrollStart"),ve=ge()},ref:function(){return Vt}}},U()&&Lt.registerPlugin(ei),t.ScrollTrigger=ei,t.default=ei,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).PhotoSwipe=e()}(this,function(){"use strict";function t(t,e,i){const n=document.createElement(e);return t&&(n.className=t),i&&i.appendChild(n),n}function e(t,e){return t.x=e.x,t.y=e.y,void 0!==e.id&&(t.id=e.id),t}function i(t){t.x=Math.round(t.x),t.y=Math.round(t.y)}function n(t,e){const i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.sqrt(i*i+n*n)}function r(t,e){return t.x===e.x&&t.y===e.y}function s(t,e,i){return Math.min(Math.max(t,e),i)}function o(t,e,i){let n=`translate3d(${t}px,${e||0}px,0)`;return void 0!==i&&(n+=` scale3d(${i},${i},1)`),n}function a(t,e,i,n){t.style.transform=o(e,i,n)}function l(t,e,i,n){t.style.transition=e?`${e} ${i}ms ${n||"cubic-bezier(.4,0,.22,1)"}`:"none"}function h(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const c="idle",u="loading",d="loaded",f="error";function p(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}let g=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{g=!0}}))}catch(t){}function m(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function v(t,e,i,n,r){let s=0;if(e.paddingFn)s=e.paddingFn(i,n,r)[t];else if(e.padding)s=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(s=e[i])}return Number(s)||0}function _(t,e,i,n){return{x:e.x-v("left",t,e,i,n)-v("right",t,e,i,n),y:e.y-v("top",t,e,i,n)-v("bottom",t,e,i,n)}}class y{constructor(t){this.slide=t,this.currZoomLevel=1,this.center={x:0,y:0},this.max={x:0,y:0},this.min={x:0,y:0}}update(t){this.currZoomLevel=t,this.slide.width?(this.o("x"),this.o("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}o(t){const{pswp:e}=this.slide,i=this.slide["x"===t?"width":"height"]*this.currZoomLevel,n=v("x"===t?"left":"top",e.options,e.viewportSize,this.slide.data,this.slide.index),r=this.slide.panAreaSize[t];this.center[t]=Math.round((r-i)/2)+n,this.max[t]=i>r?Math.round(r-i)+n:this.center[t],this.min[t]=i>r?n:this.center[t]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(t,e){return s(e,this.max[t],this.min[t])}}class w{constructor(t,e,i,n){this.pswp=n,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,e,i){const n={x:t,y:e};this.elementSize=n,this.panAreaSize=i;const r=i.x/n.x,s=i.y/n.y;this.fit=Math.min(1,r<s?r:s),this.fill=Math.min(1,r>s?r:s),this.vFill=Math.min(1,s),this.initial=this.l(),this.secondary=this.u(),this.max=Math.max(this.initial,this.secondary,this.p()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}m(t){const e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}u(){let t=this.m("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}l(){return this.m("initial")||this.fit}p(){return this.m("max")||Math.max(1,4*this.fit)}}class b{constructor(e,i,n){this.data=e,this.index=i,this.pswp=n,this.isActive=i===n.currIndex,this.currentResolution=0,this.panAreaSize={x:0,y:0},this.pan={x:0,y:0},this.isFirstSlide=this.isActive&&!n.opener.isOpen,this.zoomLevels=new w(n.options,e,i,n),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:i}),this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=t("pswp__zoom-wrap","div"),this.holderElement=null,this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.heavyAppended=!1,this.bounds=new y(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(t){t&&!this.isActive?this.activate():!t&&this.isActive&&this.deactivate()}append(t){this.holderElement=t,this.container.style.transformOrigin="0 0",this.data&&(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate())}load(){this.content.load(!1),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:t}=this;!this.heavyAppended&&t.opener.isOpen&&!t.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}updateContentSize(t){const e=this.currentResolution||this.zoomLevels.initial;if(!e)return;const i=Math.round(this.width*e)||this.pswp.viewportSize.x,n=Math.round(this.height*e)||this.pswp.viewportSize.y;(this.sizeChanged(i,n)||t)&&this.content.setDisplayedSize(i,n)}sizeChanged(t,e){return(t!==this.prevDisplayedWidth||e!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=t,this.prevDisplayedHeight=e,!0)}getPlaceholderElement(){var t;return null===(t=this.content.placeholder)||void 0===t?void 0:t.element}zoomTo(t,e,n,r){const{pswp:o}=this;if(!this.isZoomable()||o.mainScroll.isShifted())return;o.dispatch("beforeZoomTo",{destZoomLevel:t,centerPoint:e,transitionDuration:n}),o.animations.stopAllPan();const a=this.currZoomLevel;r||(t=s(t,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(t),this.pan.x=this.calculateZoomToPanOffset("x",e,a),this.pan.y=this.calculateZoomToPanOffset("y",e,a),i(this.pan);const l=()=>{this.v(t),this.applyCurrentZoomPan()};n?o.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:l,duration:n,easing:o.options.easing}):l()}toggleZoom(t){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,t,this.pswp.options.zoomAnimationDuration)}setZoomLevel(t){this.currZoomLevel=t,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(t,e,i){if(0==this.bounds.max[t]-this.bounds.min[t])return this.bounds.center[t];e||(e=this.pswp.getViewportCenterPoint()),i||(i=this.zoomLevels.initial);const n=this.currZoomLevel/i;return this.bounds.correctPan(t,(this.pan[t]-e[t])*n+e[t])}panTo(t,e){this.pan.x=this.bounds.correctPan("x",t),this.pan.y=this.bounds.correctPan("y",e),this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){this.g(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),e(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}g(t,e,i){i/=this.currentResolution||this.zoomLevels.initial,a(this.container,t,e,i)}calculateSize(){const{pswp:t}=this;e(this.panAreaSize,_(t.options,t.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),t.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const t=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return o(this.pan.x,this.pan.y,t)}v(t){t!==this.currentResolution&&(this.currentResolution=t,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}class x{constructor(t){this.gestures=t,this.pswp=t.pswp,this.startPan={x:0,y:0}}start(){this.pswp.currSlide&&e(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:t,prevP1:e,dragAxis:n}=this.gestures,{currSlide:r}=this.pswp;if("y"===n&&this.pswp.options.closeOnVerticalDrag&&r&&r.currZoomLevel<=r.zoomLevels.fit&&!this.gestures.isMultitouch){const i=r.pan.y+(t.y-e.y);if(!this.pswp.dispatch("verticalDrag",{panY:i}).defaultPrevented){this._("y",i,.6);const t=1-Math.abs(this.S(r.pan.y));this.pswp.applyBgOpacity(t),r.applyCurrentZoomPan()}}else this.M("x")||(this.M("y"),r&&(i(r.pan),r.applyCurrentZoomPan()))}end(){const{velocity:t}=this.gestures,{mainScroll:e,currSlide:i}=this.pswp;let n=0;if(this.pswp.animations.stopAll(),e.isShifted()){const i=(e.x-e.getCurrSlideX())/this.pswp.viewportSize.x;t.x<-.5&&i<0||t.x<.1&&i<-.5?(n=1,t.x=Math.min(t.x,0)):(t.x>.5&&i>0||t.x>-.1&&i>.5)&&(n=-1,t.x=Math.max(t.x,0)),e.moveIndexBy(n,!0,t.x)}i&&i.currZoomLevel>i.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this.P("x"),this.P("y"))}P(t){const{velocity:e}=this.gestures,{currSlide:i}=this.pswp;if(!i)return;const{pan:n,bounds:r}=i,o=n[t],a=this.pswp.bgOpacity<1&&"y"===t,l=o+function(t,e){return.995*t/(1-.995)}(e[t]);if(a){const t=this.S(o),e=this.S(l);if(t<0&&e<-.4||t>0&&e>.4)return void this.pswp.close()}const h=r.correctPan(t,l);if(o===h)return;const c=h===l?1:.82,u=this.pswp.bgOpacity,d=h-o;this.pswp.animations.startSpring({name:"panGesture"+t,isPan:!0,start:o,end:h,velocity:e[t],dampingRatio:c,onUpdate:e=>{if(a&&this.pswp.bgOpacity<1){const t=1-(h-e)/d;this.pswp.applyBgOpacity(s(u+(1-u)*t,0,1))}n[t]=Math.floor(e),i.applyCurrentZoomPan()}})}M(t){const{p1:e,dragAxis:i,prevP1:n,isMultitouch:r}=this.gestures,{currSlide:s,mainScroll:o}=this.pswp,a=e[t]-n[t],l=o.x+a;if(!a||!s)return!1;if("x"===t&&!s.isPannable()&&!r)return o.moveTo(l,!0),!0;const{bounds:h}=s,c=s.pan[t]+a;if(this.pswp.options.allowPanToNext&&"x"===i&&"x"===t&&!r){const e=o.getCurrSlideX(),i=o.x-e,n=a>0,r=!n;if(c>h.min[t]&&n){if(h.min[t]<=this.startPan[t])return o.moveTo(l,!0),!0;this._(t,c)}else if(c<h.max[t]&&r){if(this.startPan[t]<=h.max[t])return o.moveTo(l,!0),!0;this._(t,c)}else if(0!==i){if(i>0)return o.moveTo(Math.max(l,e),!0),!0;if(i<0)return o.moveTo(Math.min(l,e),!0),!0}else this._(t,c)}else"y"===t&&(o.isShifted()||h.min.y===h.max.y)||this._(t,c);return!1}S(t){var e,i;return(t-(null!==(e=null===(i=this.pswp.currSlide)||void 0===i?void 0:i.bounds.center.y)&&void 0!==e?e:0))/(this.pswp.viewportSize.y/3)}_(t,e,i){const{currSlide:n}=this.pswp;if(!n)return;const{pan:r,bounds:s}=n;if(s.correctPan(t,e)!==e||i){const n=Math.round(e-r[t]);r[t]+=n*(i||.35)}else r[t]=e}}function S(t,e,i){return t.x=(e.x+i.x)/2,t.y=(e.y+i.y)/2,t}class C{constructor(t){this.gestures=t,this.C={x:0,y:0},this.T={x:0,y:0},this.A={x:0,y:0},this.D=!1,this.I=1}start(){const{currSlide:t}=this.gestures.pswp;t&&(this.I=t.currZoomLevel,e(this.C,t.pan)),this.gestures.pswp.animations.stopAllPan(),this.D=!1}change(){const{p1:t,startP1:e,p2:i,startP2:r,pswp:s}=this.gestures,{currSlide:o}=s;if(!o)return;const a=o.zoomLevels.min,l=o.zoomLevels.max;if(!o.isZoomable()||s.mainScroll.isShifted())return;S(this.T,e,r),S(this.A,t,i);let h=1/n(e,r)*n(t,i)*this.I;if(h>o.zoomLevels.initial+o.zoomLevels.initial/15&&(this.D=!0),h<a)if(s.options.pinchToClose&&!this.D&&this.I<=o.zoomLevels.initial){const t=1-(a-h)/(a/1.2);s.dispatch("pinchClose",{bgOpacity:t}).defaultPrevented||s.applyBgOpacity(t)}else h=a-.15*(a-h);else h>l&&(h=l+.05*(h-l));o.pan.x=this.L("x",h),o.pan.y=this.L("y",h),o.setZoomLevel(h),o.applyCurrentZoomPan()}end(){const{pswp:t}=this.gestures,{currSlide:e}=t;(!e||e.currZoomLevel<e.zoomLevels.initial)&&!this.D&&t.options.pinchToClose?t.close():this.correctZoomPan()}L(t,e){const i=e/this.I;return this.A[t]-(this.T[t]-this.C[t])*i}correctZoomPan(t){const{pswp:i}=this.gestures,{currSlide:n}=i;if(null==n||!n.isZoomable())return;0===this.A.x&&(t=!0);const o=n.currZoomLevel;let a,l=!0;o<n.zoomLevels.initial?a=n.zoomLevels.initial:o>n.zoomLevels.max?a=n.zoomLevels.max:(l=!1,a=o);const h=i.bgOpacity,c=i.bgOpacity<1,u=e({x:0,y:0},n.pan);let d=e({x:0,y:0},u);t&&(this.A.x=0,this.A.y=0,this.T.x=0,this.T.y=0,this.I=o,e(this.C,u)),l&&(d={x:this.L("x",a),y:this.L("y",a)}),n.setZoomLevel(a),d={x:n.bounds.correctPan("x",d.x),y:n.bounds.correctPan("y",d.y)},n.setZoomLevel(o);const f=!r(d,u);if(!f&&!l&&!c)return n.v(a),void n.applyCurrentZoomPan();i.animations.stopAllPan(),i.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:t=>{if(t/=1e3,f||l){if(f&&(n.pan.x=u.x+(d.x-u.x)*t,n.pan.y=u.y+(d.y-u.y)*t),l){const e=o+(a-o)*t;n.setZoomLevel(e)}n.applyCurrentZoomPan()}c&&i.bgOpacity<1&&i.applyBgOpacity(s(h+(1-h)*t,0,1))},onComplete:()=>{n.v(a),n.applyCurrentZoomPan()}})}}function T(t){return!!t.target.closest(".pswp__container")}class k{constructor(t){this.gestures=t}click(t,e){const i=e.target.classList,n=i.contains("pswp__img"),r=i.contains("pswp__item")||i.contains("pswp__zoom-wrap");n?this.k("imageClick",t,e):r&&this.k("bgClick",t,e)}tap(t,e){T(e)&&this.k("tap",t,e)}doubleTap(t,e){T(e)&&this.k("doubleTap",t,e)}k(t,e,i){var n;const{pswp:r}=this.gestures,{currSlide:s}=r,o=t+"Action",a=r.options[o];if(!r.dispatch(o,{point:e,originalEvent:i}).defaultPrevented)if("function"!=typeof a)switch(a){case"close":case"next":r[a]();break;case"zoom":null==s||s.toggleZoom(e);break;case"zoom-or-close":null!=s&&s.isZoomable()&&s.zoomLevels.secondary!==s.zoomLevels.initial?s.toggleZoom(e):r.options.clickToCloseNonZoomable&&r.close();break;case"toggle-controls":null===(n=this.gestures.pswp.element)||void 0===n||n.classList.toggle("pswp--ui-visible")}else a.call(r,e,i)}}class A{constructor(t){this.pswp=t,this.x=0,this.slideWidth=0,this.ot=0,this.rt=0,this.lt=-1,this.itemHolders=[]}resize(t){const{pswp:e}=this,i=Math.round(e.viewportSize.x+e.viewportSize.x*e.options.spacing),n=i!==this.slideWidth;n&&(this.slideWidth=i,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach((e,i)=>{n&&a(e.el,(i+this.lt)*this.slideWidth),t&&e.slide&&e.slide.resize()})}resetPosition(){this.ot=0,this.rt=0,this.slideWidth=0,this.lt=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const i=t("pswp__item","div",this.pswp.container);i.setAttribute("role","group"),i.setAttribute("aria-roledescription","slide"),i.setAttribute("aria-hidden","true"),i.style.display=1===e?"block":"none",this.itemHolders.push({el:i})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(t,e,i){const{pswp:n}=this;let r=n.potentialIndex+t;const s=n.getNumItems();if(n.canLoop()){r=n.getLoopedIndex(r);const e=(t+s)%s;t=e<=s/2?e:e-s}else r<0?r=0:r>=s&&(r=s-1),t=r-n.potentialIndex;n.potentialIndex=r,this.ot-=t,n.animations.stopMainScroll();const o=this.getCurrSlideX();if(e){n.animations.startSpring({isMainScroll:!0,start:this.x,end:o,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:t=>{this.moveTo(t)},onComplete:()=>{this.updateCurrItem(),n.appendHeavy()}});let t=n.potentialIndex-n.currIndex;if(n.canLoop()){const e=(t+s)%s;t=e<=s/2?e:e-s}Math.abs(t)>1&&this.updateCurrItem()}else this.moveTo(o),this.updateCurrItem();return Boolean(t)}getCurrSlideX(){return this.slideWidth*this.ot}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var t;const{pswp:e}=this,i=this.rt-this.ot;if(!i)return;this.rt=this.ot,e.currIndex=e.potentialIndex;let n,r=Math.abs(i);r>=3&&(this.lt+=i+(i>0?-3:3),r=3);for(let t=0;t<r;t++)i>0?(n=this.itemHolders.shift())&&(this.itemHolders[2]=n,this.lt++,a(n.el,(this.lt+2)*this.slideWidth),e.setContent(n,e.currIndex-r+t+2)):(n=this.itemHolders.pop())&&(this.itemHolders.unshift(n),this.lt--,a(n.el,this.lt*this.slideWidth),e.setContent(n,e.currIndex+r-t-2));Math.abs(this.lt)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),e.animations.stopAllPan(),this.itemHolders.forEach((t,e)=>{t.slide&&t.slide.setIsActive(1===e)}),e.currSlide=null===(t=this.itemHolders[1])||void 0===t?void 0:t.slide,e.contentLoader.updateLazy(i),e.currSlide&&e.currSlide.applyCurrentZoomPan(),e.dispatch("change")}moveTo(t,e){if(!this.pswp.canLoop()&&e){let e=(this.slideWidth*this.ot-t)/this.slideWidth;e+=this.pswp.currIndex;const i=Math.round(t-this.x);(e<0&&i>0||e>=this.pswp.getNumItems()-1&&i<0)&&(t=this.x+.35*i)}this.x=t,this.pswp.container&&a(this.pswp.container,t),this.pswp.dispatch("moveMainScroll",{x:t,dragging:null!=e&&e})}}const P={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9},E=(t,e)=>e?t:P[t];const M="cubic-bezier(.4,0,.22,1)";class O{constructor(t){var e;this.props=t;const{target:i,onComplete:n,transform:r,onFinish:s=(()=>{}),duration:o=333,easing:a=M}=t;this.onFinish=s;const h=r?"transform":"opacity",c=null!==(e=t[h])&&void 0!==e?e:"";this.ft=i,this.wt=n,this.gt=!1,this.yt=this.yt.bind(this),this._t=setTimeout(()=>{l(i,h,o,a),this._t=setTimeout(()=>{i.addEventListener("transitionend",this.yt,!1),i.addEventListener("transitioncancel",this.yt,!1),this._t=setTimeout(()=>{this.xt()},o+500),i.style[h]=c},30)},0)}yt(t){t.target===this.ft&&this.xt()}xt(){this.gt||(this.gt=!0,this.onFinish(),this.wt&&this.wt())}destroy(){this._t&&clearTimeout(this._t),l(this.ft),this.ft.removeEventListener("transitionend",this.yt,!1),this.ft.removeEventListener("transitioncancel",this.yt,!1),this.gt||this.xt()}}class L{constructor(t,e,i){this.velocity=1e3*t,this.bt=e||.75,this.St=i||12,this.zt=this.St,this.bt<1&&(this.zt*=Math.sqrt(1-this.bt*this.bt))}easeFrame(t,e){let i,n=0;e/=1e3;const r=Math.E**(-this.bt*this.St*e);if(1===this.bt)n=(t+(i=this.velocity+this.St*t)*e)*r,this.velocity=n*-this.St+i*r;else if(this.bt<1){i=1/this.zt*(this.bt*this.St*t+this.velocity);const s=Math.cos(this.zt*e),o=Math.sin(this.zt*e);n=r*(t*s+i*o),this.velocity=n*-this.St*this.bt+r*(-this.zt*t*o+this.zt*i*s)}return n}}class z{constructor(t){this.props=t,this.Mt=0;const{start:e,end:i,velocity:n,onUpdate:r,onComplete:s,onFinish:o=(()=>{}),dampingRatio:a,naturalFrequency:l}=t;this.onFinish=o;const h=new L(n,a,l);let c=Date.now(),u=e-i;const d=()=>{this.Mt&&(u=h.easeFrame(u,Date.now()-c),Math.abs(u)<1&&Math.abs(h.velocity)<50?(r(i),s&&s(),this.onFinish()):(c=Date.now(),r(u+i),this.Mt=requestAnimationFrame(d)))};this.Mt=requestAnimationFrame(d)}destroy(){this.Mt>=0&&cancelAnimationFrame(this.Mt),this.Mt=0}}class I{constructor(e,i){var n;const r=i.name||i.className;let s=i.html;if(!1===e.options[r])return;"string"==typeof e.options[r+"SVG"]&&(s=e.options[r+"SVG"]),e.dispatch("uiElementCreate",{data:i});let o="";i.isButton?(o+="pswp__button ",o+=i.className||`pswp__button--${i.name}`):o+=i.className||`pswp__${i.name}`;let a=i.isButton?i.tagName||"button":i.tagName||"div";const l=t(o,a=a.toLowerCase());if(i.isButton){"button"===a&&(l.type="button");let{title:t}=i;const{ariaLabel:n}=i;"string"==typeof e.options[r+"Title"]&&(t=e.options[r+"Title"]),t&&(l.title=t);const s=n||t;s&&l.setAttribute("aria-label",s)}l.innerHTML=function(t){if("string"==typeof t)return t;if(!t||!t.isCustomSVG)return"";const e=t;let i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return i=i.split("%d").join(e.size||32),e.outlineID&&(i+='<use class="pswp__icn-shadow" xlink:href="#'+e.outlineID+'"/>'),i+=e.inner,i+="</svg>"}(s),i.onInit&&i.onInit(l,e),i.onClick&&(l.onclick=(t=>{"string"==typeof i.onClick?e[i.onClick]():"function"==typeof i.onClick&&i.onClick(t,l,e)}));const h=i.appendTo||"bar";let c=e.element;"bar"===h?(e.topBar||(e.topBar=t("pswp__top-bar pswp__hide-on-close","div",e.scrollWrap)),c=e.topBar):(l.classList.add("pswp__hide-on-close"),"wrapper"===h&&(c=e.scrollWrap)),null===(n=c)||void 0===n||n.appendChild(e.applyFilters("uiElement",l,i))}}function D(t,e,i){t.classList.add("pswp__button--arrow"),t.setAttribute("aria-controls","pswp__items"),e.on("change",()=>{e.options.loop||(t.disabled=i?!(e.currIndex<e.getNumItems()-1):!(e.currIndex>0))})}const B={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:D},R={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(t,e)=>{D(t,e,!0)}},q={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},N={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},F={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(t,e)=>{let i,n=null;const r=e=>{var n,r;i!==e&&(i=e,n="active",r=e,t.classList.toggle("pswp__preloader--"+n,r))},s=()=>{var t;if(null===(t=e.currSlide)||void 0===t||!t.content.isLoading())return r(!1),void(n&&(clearTimeout(n),n=null));n||(n=setTimeout(()=>{var t;r(Boolean(null===(t=e.currSlide)||void 0===t?void 0:t.content.isLoading())),n=null},e.options.preloaderDelay))};e.on("change",s),e.on("loadComplete",t=>{e.currSlide===t.slide&&s()}),e.ui&&(e.ui.updatePreloaderVisibility=s)}},j={name:"counter",order:5,onInit:(t,e)=>{e.on("change",()=>{t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()})}};function H(t,e){t.classList.toggle("pswp--zoomed-in",e)}class W{constructor(e,i){if(this.element=t("pswp__img pswp__img--placeholder",e?"img":"div",i),e){const t=this.element;t.decoding="async",t.alt="",t.src=e,t.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){this.element&&("IMG"===this.element.tagName?(h(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=o(0,0,t/250)):h(this.element,t,e))}destroy(){var t;null!==(t=this.element)&&void 0!==t&&t.parentNode&&this.element.remove(),this.element=null}}class V{constructor(t,e,i){this.instance=e,this.data=t,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=c,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new W(t,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=t("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=t("pswp__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){var e,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=null!==(e=this.data.src)&&void 0!==e?e:"",n.alt=null!==(i=this.data.alt)&&void 0!==i?i:"",this.state=u,n.complete?this.onLoaded():(n.onload=(()=>{this.onLoaded()}),n.onerror=(()=>{this.onError()}))}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=d,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==d&&this.state!==f||this.removePlaceholder())}onError(){this.state=f,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===u,this)}isError(){return this.state===f}isImageContent(){return"image"===this.type}setDisplayedSize(t,e){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,e),!this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented&&(h(this.element,t,e),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=e,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==f,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,i;let n=t("pswp__error-msg","div");n.innerText=null!==(e=null===(i=this.instance.options)||void 0===i?void 0:i.errorMsg)&&void 0!==e?e:"",n=this.instance.applyFilters("contentErrorElement",n,this),this.element=t("pswp__content pswp__error-msg-container","div"),this.element.appendChild(n),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===f)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||p())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!p()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==d&&this.state!==f||this.removePlaceholder()))}}function Z(t,e,i){const n=e.createContentFromData(t,i);let r;const{options:s}=e;if(s){let o;r=new w(s,t,-1);const a=_(s,o=e.pswp?e.pswp.viewportSize:m(s,e),t,i);r.update(n.width,n.height,a)}return n.lazyLoad(),r&&n.setDisplayedSize(Math.ceil(n.width*r.initial),Math.ceil(n.height*r.initial)),n}const Y=.003;const X={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,trapFocus:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};return class extends class extends class{constructor(){this.Yt={},this.Jt={},this.pswp=void 0,this.options=void 0}addFilter(t,e,i=100){var n,r,s;this.Jt[t]||(this.Jt[t]=[]),null===(n=this.Jt[t])||void 0===n||n.push({fn:e,priority:i}),null===(r=this.Jt[t])||void 0===r||r.sort((t,e)=>t.priority-e.priority),null===(s=this.pswp)||void 0===s||s.addFilter(t,e,i)}removeFilter(t,e){this.Jt[t]&&(this.Jt[t]=this.Jt[t].filter(t=>t.fn!==e)),this.pswp&&this.pswp.removeFilter(t,e)}applyFilters(t,...e){var i;return null===(i=this.Jt[t])||void 0===i||i.forEach(t=>{e[0]=t.fn.apply(this,e)}),e[0]}on(t,e){var i,n;this.Yt[t]||(this.Yt[t]=[]),null===(i=this.Yt[t])||void 0===i||i.push(e),null===(n=this.pswp)||void 0===n||n.on(t,e)}off(t,e){var i;this.Yt[t]&&(this.Yt[t]=this.Yt[t].filter(t=>e!==t)),null===(i=this.pswp)||void 0===i||i.off(t,e)}dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const n=new class{constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}(t,e);return null===(i=this.Yt[t])||void 0===i||i.forEach(t=>{t.call(this,n)}),n}}{getNumItems(){var t;let e=0;const i=null===(t=this.options)||void 0===t?void 0:t.dataSource;i&&"length"in i?e=i.length:i&&"gallery"in i&&(i.items||(i.items=this.Qt(i.gallery)),i.items&&(e=i.items.length));const n=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",n.numItems,i)}createContentFromData(t,e){return new V(t,this,e)}getItemData(t){var e;const i=null===(e=this.options)||void 0===e?void 0:e.dataSource;let n={};Array.isArray(i)?n=i[t]:i&&"gallery"in i&&(i.items||(i.items=this.Qt(i.gallery)),n=i.items[t]);let r=n;r instanceof Element&&(r=this.ti(r));const s=this.dispatch("itemData",{itemData:r||{},index:t});return this.applyFilters("itemData",s.itemData,t)}Qt(t){var e,i;return null!==(e=this.options)&&void 0!==e&&e.children||null!==(i=this.options)&&void 0!==i&&i.childSelector?function(t,e,i=document){let n=[];if(t instanceof Element)n=[t];else if(t instanceof NodeList||Array.isArray(t))n=Array.from(t);else{const r="string"==typeof t?t:e;r&&(n=Array.from(i.querySelectorAll(r)))}return n}(this.options.children,this.options.childSelector,t)||[]:[t]}ti(t){const e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);const r=t.querySelector("img");var n;r&&(e.msrc=r.currentSrc||r.src,e.alt=null!==(n=r.getAttribute("alt"))&&void 0!==n?n:""),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return Z(t,this,e)}}{constructor(t){super(),this.options=this.ii(t||{}),this.offset={x:0,y:0},this.si={x:0,y:0},this.viewportSize={x:0,y:0},this.bgOpacity=1,this.currIndex=0,this.potentialIndex=0,this.isOpen=!1,this.isDestroying=!1,this.hasMouse=!1,this.hi={},this.Gt=void 0,this.topBar=void 0,this.element=void 0,this.template=void 0,this.container=void 0,this.scrollWrap=void 0,this.currSlide=void 0,this.events=new class{constructor(){this.t=[]}add(t,e,i,n){this.i(t,e,i,n)}remove(t,e,i,n){this.i(t,e,i,n,!0)}removeAll(){this.t.forEach(t=>{this.i(t.target,t.type,t.listener,t.passive,!0,!0)}),this.t=[]}i(t,e,i,n,r,s){if(!t)return;const o=r?"removeEventListener":"addEventListener";e.split(" ").forEach(e=>{if(e){s||(r?this.t=this.t.filter(n=>n.type!==e||n.listener!==i||n.target!==t):this.t.push({target:t,type:e,listener:i,passive:n}));const a=!!g&&{passive:n||!1};t[o](e,i,a)}})}},this.animations=new class{constructor(){this.activeAnimations=[]}startSpring(t){this.Pt(t,!0)}startTransition(t){this.Pt(t)}Pt(t,e){const i=e?new z(t):new O(t);return this.activeAnimations.push(i),i.onFinish=(()=>this.stop(i)),i}stop(t){t.destroy();const e=this.activeAnimations.indexOf(t);e>-1&&this.activeAnimations.splice(e,1)}stopAll(){this.activeAnimations.forEach(t=>{t.destroy()}),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter(t=>!t.props.isPan||(t.destroy(),!1))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter(t=>!t.props.isMainScroll||(t.destroy(),!1))}isPanRunning(){return this.activeAnimations.some(t=>t.props.isPan)}},this.mainScroll=new A(this),this.gestures=new class{constructor(t){this.pswp=t,this.dragAxis=null,this.p1={x:0,y:0},this.p2={x:0,y:0},this.prevP1={x:0,y:0},this.prevP2={x:0,y:0},this.startP1={x:0,y:0},this.startP2={x:0,y:0},this.velocity={x:0,y:0},this.Z={x:0,y:0},this.B={x:0,y:0},this.F=0,this.O=[],this.R="ontouchstart"in window,this.N=!!window.PointerEvent,this.supportsTouch=this.R||this.N&&navigator.maxTouchPoints>1,this.F=0,this.U=0,this.V=!1,this.isMultitouch=!1,this.isDragging=!1,this.isZooming=!1,this.raf=null,this.G=null,this.supportsTouch||(t.options.allowPanToNext=!1),this.drag=new x(this),this.zoomLevels=new C(this),this.tapHandler=new k(this),t.on("bindEvents",()=>{t.events.add(t.scrollWrap,"click",this.$.bind(this)),this.N?this.q("pointer","down","up","cancel"):this.R?(this.q("touch","start","end","cancel"),t.scrollWrap&&(t.scrollWrap.ontouchmove=(()=>{}),t.scrollWrap.ontouchend=(()=>{}))):this.q("mouse","down","up")})}q(t,e,i,n){const{pswp:r}=this,{events:s}=r,o=n?t+n:"";s.add(r.scrollWrap,t+e,this.onPointerDown.bind(this)),s.add(window,t+"move",this.onPointerMove.bind(this)),s.add(window,t+i,this.onPointerUp.bind(this)),o&&s.add(r.scrollWrap,o,this.onPointerUp.bind(this))}onPointerDown(t){const i="mousedown"===t.type||"mouse"===t.pointerType;if(i&&t.button>0)return;const{pswp:n}=this;n.opener.isOpen?n.dispatch("pointerDown",{originalEvent:t}).defaultPrevented||(i&&(n.mouseDetected(),this.H(t,"down")),n.animations.stopAll(),this.K(t,"down"),1===this.F&&(this.dragAxis=null,e(this.startP1,this.p1)),this.F>1?(this.W(),this.isMultitouch=!0):this.isMultitouch=!1):t.preventDefault()}onPointerMove(t){this.H(t,"move"),this.F&&(this.K(t,"move"),this.pswp.dispatch("pointerMove",{originalEvent:t}).defaultPrevented||(1!==this.F||this.isDragging?this.F>1&&!this.isZooming&&(this.j(),this.isZooming=!0,this.X(),this.zoomLevels.start(),this.Y(),this.J()):(this.dragAxis||this.tt(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this.W(),this.X(),this.U=Date.now(),this.V=!1,e(this.B,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this.Y(),this.J()))))}j(){this.isDragging&&(this.isDragging=!1,this.V||this.it(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(t){this.F&&(this.K(t,"up"),this.pswp.dispatch("pointerUp",{originalEvent:t}).defaultPrevented||(0===this.F&&(this.Y(),this.isDragging?this.j():this.isZooming||this.isMultitouch||this.st(t)),this.F<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this.F&&(this.dragAxis=null,this.X()))))}J(){(this.isDragging||this.isZooming)&&(this.it(),this.isDragging?r(this.p1,this.prevP1)||this.drag.change():r(this.p1,this.prevP1)&&r(this.p2,this.prevP2)||this.zoomLevels.change(),this.ht(),this.raf=requestAnimationFrame(this.J.bind(this)))}it(t){const i=Date.now(),n=i-this.U;n<50&&!t||(this.velocity.x=this.et("x",n),this.velocity.y=this.et("y",n),this.U=i,e(this.B,this.p1),this.V=!0)}st(t){const{mainScroll:i}=this.pswp;if(i.isShifted())return void i.moveIndexBy(0,!0);if(t.type.indexOf("cancel")>0)return;if("mouseup"===t.type||"mouse"===t.pointerType)return void this.tapHandler.click(this.startP1,t);const r=this.pswp.options.doubleTapAction?300:0;this.G?(this.W(),n(this.Z,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,t)):(e(this.Z,this.startP1),this.G=setTimeout(()=>{this.tapHandler.tap(this.startP1,t),this.W()},r))}W(){this.G&&(clearTimeout(this.G),this.G=null)}et(t,e){const i=this.p1[t]-this.B[t];return Math.abs(i)>1&&e>5?i/e:0}Y(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}H(t,e){this.pswp.applyFilters("preventPointerEvent",!0,t,e)&&t.preventDefault()}K(t,i){if(this.N){const n=t,r=this.O.findIndex(t=>t.id===n.pointerId);"up"===i&&r>-1?this.O.splice(r,1):"down"===i&&-1===r?this.O.push(this.nt(n,{x:0,y:0})):r>-1&&this.nt(n,this.O[r]),this.F=this.O.length,this.F>0&&e(this.p1,this.O[0]),this.F>1&&e(this.p2,this.O[1])}else{const e=t;this.F=0,e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(this.nt(e.touches[0],this.p1),this.F++,e.touches.length>1&&(this.nt(e.touches[1],this.p2),this.F++)):(this.nt(t,this.p1),"up"===i?this.F=0:this.F++)}}ht(){e(this.prevP1,this.p1),e(this.prevP2,this.p2)}X(){e(this.startP1,this.p1),e(this.startP2,this.p2),this.ht()}tt(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const t=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==t){const e=t>0?"x":"y";Math.abs(this.p1[e]-this.startP1[e])>=10&&(this.dragAxis=e)}}}nt(t,e){return e.x=t.pageX-this.pswp.offset.x,e.y=t.pageY-this.pswp.offset.y,"pointerId"in t?e.id=t.pointerId:void 0!==t.identifier&&(e.id=t.identifier),e}$(t){this.pswp.mainScroll.isShifted()&&(t.preventDefault(),t.stopPropagation())}}(this),this.opener=new class{constructor(t){this.pswp=t,this.isClosed=!0,this.isOpen=!1,this.isClosing=!1,this.isOpening=!1,this.It=void 0,this.Et=!1,this.Lt=!1,this.kt=!1,this.Zt=!1,this.Bt=void 0,this.Ft=void 0,this.Ot=void 0,this.Rt=void 0,this.Nt=void 0,this.Ut=this.Ut.bind(this),t.on("firstZoomPan",this.Ut)}open(){this.Ut(),this.Pt()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const t=this.pswp.currSlide;this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this.It=this.pswp.options.hideAnimationDuration,t&&t.currZoomLevel*t.width>=this.pswp.options.maxWidthToAnimate&&(this.It=0),this.Vt(),setTimeout(()=>{this.Pt()},this.Lt?30:0)}Ut(){if(this.pswp.off("firstZoomPan",this.Ut),!this.isOpening){const t=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this.It=this.pswp.options.showAnimationDuration,t&&t.zoomLevels.initial*t.width>=this.pswp.options.maxWidthToAnimate&&(this.It=0),this.Vt()}}Vt(){const{pswp:t}=this,e=this.pswp.currSlide,{options:i}=t;var n,r;if("fade"===i.showHideAnimationType?(i.showHideOpacity=!0,this.Nt=void 0):"none"===i.showHideAnimationType?(i.showHideOpacity=!1,this.It=0,this.Nt=void 0):this.isOpening&&t.Gt?this.Nt=t.Gt:this.Nt=this.pswp.getThumbBounds(),this.Bt=null==e?void 0:e.getPlaceholderElement(),t.animations.stopAll(),this.Et=Boolean(this.It&&this.It>50),this.$t=Boolean(this.Nt)&&(null==e?void 0:e.content.usePlaceholder())&&(!this.isClosing||!t.mainScroll.isShifted()),this.$t?this.kt=null!==(n=i.showHideOpacity)&&void 0!==n&&n:(this.kt=!0,this.isOpening&&e&&(e.zoomAndPanToInitial(),e.applyCurrentZoomPan())),this.Zt=!this.kt&&this.pswp.options.bgOpacity>Y,this.Ft=this.kt?t.element:t.bg,!this.Et)return this.It=0,this.$t=!1,this.Zt=!1,this.kt=!0,void(this.isOpening&&(t.element&&(t.element.style.opacity=String(Y)),t.applyBgOpacity(1)));this.$t&&this.Nt&&this.Nt.innerRect?(this.Lt=!0,this.Ot=this.pswp.container,this.Rt=null===(r=this.pswp.currSlide)||void 0===r?void 0:r.holderElement,t.container&&(t.container.style.overflow="hidden",t.container.style.width=t.viewportSize.x+"px")):this.Lt=!1,this.isOpening?(this.kt?(t.element&&(t.element.style.opacity=String(Y)),t.applyBgOpacity(1)):(this.Zt&&t.bg&&(t.bg.style.opacity=String(Y)),t.element&&(t.element.style.opacity="1")),this.$t&&(this.qt(),this.Bt&&(this.Bt.style.willChange="transform",this.Bt.style.opacity=String(Y)))):this.isClosing&&(t.mainScroll.itemHolders[0]&&(t.mainScroll.itemHolders[0].el.style.display="none"),t.mainScroll.itemHolders[2]&&(t.mainScroll.itemHolders[2].el.style.display="none"),this.Lt&&0!==t.mainScroll.x&&(t.mainScroll.resetPosition(),t.mainScroll.resize()))}Pt(){this.isOpening&&this.Et&&this.Bt&&"IMG"===this.Bt.tagName?new Promise(t=>{let e=!1,i=!0;var n;(n=this.Bt,"decode"in n?n.decode().catch(()=>{}):n.complete?Promise.resolve(n):new Promise((t,e)=>{n.onload=(()=>t(n)),n.onerror=e})).finally(()=>{e=!0,i||t(!0)}),setTimeout(()=>{i=!1,e&&t(!0)},50),setTimeout(t,250)}).finally(()=>this.Ht()):this.Ht()}Ht(){var t,e;null===(t=this.pswp.element)||void 0===t||t.style.setProperty("--pswp-transition-duration",this.It+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),null===(e=this.pswp.element)||void 0===e||e.classList.toggle("pswp--ui-visible",this.isOpening),this.isOpening?(this.Bt&&(this.Bt.style.opacity="1"),this.Kt()):this.isClosing&&this.Wt(),this.Et||this.jt()}jt(){const{pswp:t}=this;if(this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,t.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),t.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed)t.destroy();else if(this.isOpen){var e;this.$t&&t.container&&(t.container.style.overflow="visible",t.container.style.width="100%"),null===(e=t.currSlide)||void 0===e||e.applyCurrentZoomPan()}}Kt(){const{pswp:t}=this;this.$t&&(this.Lt&&this.Ot&&this.Rt&&(this.Xt(this.Ot,"transform","translate3d(0,0,0)"),this.Xt(this.Rt,"transform","none")),t.currSlide&&(t.currSlide.zoomAndPanToInitial(),this.Xt(t.currSlide.container,"transform",t.currSlide.getCurrentTransform()))),this.Zt&&t.bg&&this.Xt(t.bg,"opacity",String(t.options.bgOpacity)),this.kt&&t.element&&this.Xt(t.element,"opacity","1")}Wt(){const{pswp:t}=this;this.$t&&this.qt(!0),this.Zt&&t.bgOpacity>.01&&t.bg&&this.Xt(t.bg,"opacity","0"),this.kt&&t.element&&this.Xt(t.element,"opacity","0")}qt(t){if(!this.Nt)return;const{pswp:i}=this,{innerRect:n}=this.Nt,{currSlide:r,viewportSize:s}=i;if(this.Lt&&n&&this.Ot&&this.Rt){const e=-s.x+(this.Nt.x-n.x)+n.w,i=-s.y+(this.Nt.y-n.y)+n.h,r=s.x-n.w,l=s.y-n.h;t?(this.Xt(this.Ot,"transform",o(e,i)),this.Xt(this.Rt,"transform",o(r,l))):(a(this.Ot,e,i),a(this.Rt,r,l))}r&&(e(r.pan,n||this.Nt),r.currZoomLevel=this.Nt.w/r.width,t?this.Xt(r.container,"transform",r.getCurrentTransform()):r.applyCurrentZoomPan())}Xt(t,e,i){if(!this.It)return void(t.style[e]=i);const{animations:n}=this.pswp,r={duration:this.It,easing:this.pswp.options.easing,onComplete:()=>{n.activeAnimations.length||this.jt()},target:t};r[e]=i,n.startTransition(r)}}(this),this.keyboard=new class{constructor(t){this.pswp=t,this.ct=!1,t.on("bindEvents",()=>{t.options.trapFocus&&(t.options.initialPointerPos||this.dt(),t.events.add(document,"focusin",this.ut.bind(this))),t.events.add(document,"keydown",this.vt.bind(this))});const e=document.activeElement;t.on("destroy",()=>{t.options.returnFocus&&e&&this.ct&&e.focus()})}dt(){!this.ct&&this.pswp.element&&(this.pswp.element.focus(),this.ct=!0)}vt(t){const{pswp:e}=this;if(e.dispatch("keydown",{originalEvent:t}).defaultPrevented)return;if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t))return;let i,n,r=!1;const s="key"in t;switch(s?t.key:t.keyCode){case E("Escape",s):e.options.escKey&&(i="close");break;case E("z",s):i="toggleZoom";break;case E("ArrowLeft",s):n="x";break;case E("ArrowUp",s):n="y";break;case E("ArrowRight",s):n="x",r=!0;break;case E("ArrowDown",s):r=!0,n="y";break;case E("Tab",s):this.dt()}if(n){t.preventDefault();const{currSlide:s}=e;e.options.arrowKeys&&"x"===n&&e.getNumItems()>1?i=r?"next":"prev":s&&s.currZoomLevel>s.zoomLevels.fit&&(s.pan[n]+=r?-80:80,s.panTo(s.pan.x,s.pan.y))}i&&(t.preventDefault(),e[i]())}ut(t){const{template:e}=this.pswp;e&&document!==t.target&&e!==t.target&&!e.contains(t.target)&&e.focus()}}(this),this.contentLoader=new class{constructor(t){this.pswp=t,this.limit=Math.max(t.options.preload[0]+t.options.preload[1]+1,5),this.Dt=[]}updateLazy(t){const{pswp:e}=this;if(e.dispatch("lazyLoad").defaultPrevented)return;const{preload:i}=e.options,n=void 0===t||t>=0;let r;for(r=0;r<=i[1];r++)this.loadSlideByIndex(e.currIndex+(n?r:-r));for(r=1;r<=i[0];r++)this.loadSlideByIndex(e.currIndex+(n?-r:r))}loadSlideByIndex(t){const e=this.pswp.getLoopedIndex(t);let i=this.getContentByIndex(e);i||(i=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return Z(i,e,t)}(e,this.pswp))&&this.addToCache(i)}getContentBySlide(t){let e=this.getContentByIndex(t.index);return e||(e=this.pswp.createContentFromData(t.data,t.index),this.addToCache(e)),e.setSlide(t),e}addToCache(t){if(this.removeByIndex(t.index),this.Dt.push(t),this.Dt.length>this.limit){const t=this.Dt.findIndex(t=>!t.isAttached&&!t.hasSlide);-1!==t&&this.Dt.splice(t,1)[0].destroy()}}removeByIndex(t){const e=this.Dt.findIndex(e=>e.index===t);-1!==e&&this.Dt.splice(e,1)}getContentByIndex(t){return this.Dt.find(e=>e.index===t)}destroy(){this.Dt.forEach(t=>t.destroy()),this.Dt=[]}}(this)}init(){if(this.isOpen||this.isDestroying)return!1;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this.ei();let t="pswp--open";return this.gestures.supportsTouch&&(t+=" pswp--touch"),this.options.mainClass&&(t+=" "+this.options.mainClass),this.element&&(this.element.className+=" "+t),this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new class{constructor(t){this.pswp=t,t.events.add(t.element,"wheel",this.Ct.bind(this))}Ct(t){t.preventDefault();const{currSlide:e}=this.pswp;let{deltaX:i,deltaY:n}=t;if(e&&!this.pswp.dispatch("wheel",{originalEvent:t}).defaultPrevented)if(t.ctrlKey||this.pswp.options.wheelToZoom){if(e.isZoomable()){let i=-n;1===t.deltaMode?i*=.05:i*=t.deltaMode?1:.002,i=2**i;const r=e.currZoomLevel*i;e.zoomTo(r,{x:t.clientX,y:t.clientY})}}else e.isPannable()&&(1===t.deltaMode&&(i*=18,n*=18),e.panTo(e.pan.x-i,e.pan.y-n))}}(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this.hi=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this.hi,slide:void 0}),this.Gt=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",()=>{const{itemHolders:t}=this.mainScroll;t[0]&&(t[0].el.style.display="block",this.setContent(t[0],this.currIndex-1)),t[2]&&(t[2].el.style.display="block",this.setContent(t[2],this.currIndex+1)),this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this.ni.bind(this)),this.events.add(window,"scroll",this.oi.bind(this)),this.dispatch("bindEvents")}),this.mainScroll.itemHolders[1]&&this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(t){const e=this.getNumItems();return this.options.loop&&(t>e-1&&(t-=e),t<0&&(t+=e)),s(t,0,e-1)}appendHeavy(){this.mainScroll.itemHolders.forEach(t=>{var e;null===(e=t.slide)||void 0===e||e.appendHeavy()})}goTo(t){this.mainScroll.moveIndexBy(this.getLoopedIndex(t)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...t){var e;null===(e=this.currSlide)||void 0===e||e.zoomTo(...t)}toggleZoom(){var t;null===(t=this.currSlide)||void 0===t||t.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){var t;if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this.Yt={},this.scrollWrap&&(this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null),null===(t=this.element)||void 0===t||t.remove(),this.mainScroll.itemHolders.forEach(t=>{var e;null===(e=t.slide)||void 0===e||e.destroy()}),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(t){this.contentLoader.removeByIndex(t),this.mainScroll.itemHolders.forEach((e,i)=>{var n,r;let s=(null!==(n=null===(r=this.currSlide)||void 0===r?void 0:r.index)&&void 0!==n?n:0)-1+i;var o;this.canLoop()&&(s=this.getLoopedIndex(s)),s===t&&(this.setContent(e,t,!0),1===i&&(this.currSlide=e.slide,null===(o=e.slide)||void 0===o||o.setIsActive(!0)))}),this.dispatch("change")}setContent(t,e,i){if(this.canLoop()&&(e=this.getLoopedIndex(e)),t.slide){if(t.slide.index===e&&!i)return;t.slide.destroy(),t.slide=void 0}if(!this.canLoop()&&(e<0||e>=this.getNumItems()))return;const n=this.getItemData(e);t.slide=new b(n,e,this),e===this.currIndex&&(this.currSlide=t.slide),t.slide.append(t.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(t){if(this.isDestroying)return;const i=m(this.options,this);!t&&r(i,this.si)||(e(this.si,i),this.dispatch("beforeResize"),e(this.viewportSize,this.si),this.oi(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(t){this.bgOpacity=Math.max(t,0),this.bg&&(this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity))}mouseDetected(){var t;this.hasMouse||(this.hasMouse=!0,null===(t=this.element)||void 0===t||t.classList.add("pswp--has_mouse"))}ni(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout(()=>{this.updateSize()},500)}oi(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(t,e){this.offset.x=t,this.offset.y=e,this.dispatch("updateScrollOffset")}ei(){this.element=t("pswp","div"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=t("pswp__bg","div",this.element),this.scrollWrap=t("pswp__scroll-wrap","section",this.element),this.container=t("pswp__container","div",this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp__items"),this.mainScroll.appendHolders(),this.ui=new class{constructor(t){this.pswp=t,this.isRegistered=!1,this.uiElementsData=[],this.items=[],this.updatePreloaderVisibility=(()=>{}),this.Tt=void 0}init(){const{pswp:t}=this;this.isRegistered=!1,this.uiElementsData=[q,B,R,N,F,j],t.dispatch("uiRegister"),this.uiElementsData.sort((t,e)=>(t.order||0)-(e.order||0)),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach(t=>{this.registerElement(t)}),t.on("change",()=>{var e;null===(e=t.element)||void 0===e||e.classList.toggle("pswp--one-slide",1===t.getNumItems())}),t.on("zoomPanUpdate",()=>this.At())}registerElement(t){this.isRegistered?this.items.push(new I(this.pswp,t)):this.uiElementsData.push(t)}At(){const{template:t,currSlide:e,options:i}=this.pswp;if(this.pswp.opener.isClosing||!t||!e)return;let{currZoomLevel:n}=e;if(this.pswp.opener.isOpen||(n=e.zoomLevels.initial),n===this.Tt)return;this.Tt=n;const r=e.zoomLevels.initial-e.zoomLevels.secondary;if(Math.abs(r)<.01||!e.isZoomable())return H(t,!1),void t.classList.remove("pswp--zoom-allowed");t.classList.add("pswp--zoom-allowed"),H(t,(n===e.zoomLevels.initial?e.zoomLevels.secondary:e.zoomLevels.initial)<=n),"zoom"!==i.imageClickAction&&"zoom-or-close"!==i.imageClickAction||t.classList.add("pswp--click-to-zoom")}}(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return function(t,e,i){const n=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(n.thumbBounds)return n.thumbBounds;const{element:r}=e;let s,o;if(r&&!1!==i.options.thumbSelector){const t=i.options.thumbSelector||"img";o=r.matches(t)?r:r.querySelector(t)}return(o=i.applyFilters("thumbEl",o,e,t))&&(s=e.thumbCropped?function(t,e,i){const n=t.getBoundingClientRect(),r=n.width/e,s=n.height/i,o=r>s?r:s,a=(n.width-e*o)/2,l=(n.height-i*o)/2,h={x:n.left+a,y:n.top+l,w:e*o};return h.innerRect={w:n.width,h:n.height,x:a,y:l},h}(o,e.width||e.w||0,e.height||e.h||0):function(t){const e=o.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}()),i.applyFilters("thumbBounds",s,e,t)}(this.currIndex,this.currSlide?this.currSlide.data:this.hi,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}ii(t){return window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(t.showHideAnimationType="none",t.zoomAnimationDuration=0),{...X,...t}}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).PhotoSwipeLightbox=e()}(this,function(){"use strict";function t(t,e,i){const n=document.createElement(e);return t&&(n.className=t),i&&i.appendChild(n),n}function e(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const i="idle",n="loading",r="loaded",s="error";function o(t,e,i=document){let n=[];if(t instanceof Element)n=[t];else if(t instanceof NodeList||Array.isArray(t))n=Array.from(t);else{const r="string"==typeof t?t:e;r&&(n=Array.from(i.querySelectorAll(r)))}return n}function a(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}class l{constructor(e,i){if(this.element=t("pswp__img pswp__img--placeholder",e?"img":"div",i),e){const t=this.element;t.decoding="async",t.alt="",t.src=e,t.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,i){this.element&&("IMG"===this.element.tagName?(e(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(t,e,i){let n="translate3d(0px,0px,0)";return void 0!==i&&(n+=` scale3d(${i},${i},1)`),n}(0,0,t/250)):e(this.element,t,i))}destroy(){var t;null!==(t=this.element)&&void 0!==t&&t.parentNode&&this.element.remove(),this.element=null}}class h{constructor(t,e,n){this.instance=e,this.data=t,this.index=n,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=i,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new l(t,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=t("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=t("pswp__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){var e,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const r=this.element;this.updateSrcsetSizes(),this.data.srcset&&(r.srcset=this.data.srcset),r.src=null!==(e=this.data.src)&&void 0!==e?e:"",r.alt=null!==(i=this.data.alt)&&void 0!==i?i:"",this.state=n,r.complete?this.onLoaded():(r.onload=(()=>{this.onLoaded()}),r.onerror=(()=>{this.onError()}))}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=r,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==r&&this.state!==s||this.removePlaceholder())}onError(){this.state=s,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===n,this)}isError(){return this.state===s}isImageContent(){return"image"===this.type}setDisplayedSize(t,i){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,i),!this.instance.dispatch("contentResize",{content:this,width:t,height:i}).defaultPrevented&&(e(this.element,t,i),this.isImageContent()&&!this.isError()))){const e=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=i,e?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:i,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==s,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,i;let n=t("pswp__error-msg","div");n.innerText=null!==(e=null===(i=this.instance.options)||void 0===i?void 0:i.errorMsg)&&void 0!==e?e:"",n=this.instance.applyFilters("contentErrorElement",n,this),this.element=t("pswp__content pswp__error-msg-container","div"),this.element.appendChild(n),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===s)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||a())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!a()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==r&&this.state!==s||this.removePlaceholder()))}}function c(t,e,i,n,r){let s=0;if(e.paddingFn)s=e.paddingFn(i,n,r)[t];else if(e.padding)s=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(s=e[i])}return Number(s)||0}class u{constructor(t,e,i,n){this.pswp=n,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,e,i){const n={x:t,y:e};this.elementSize=n,this.panAreaSize=i;const r=i.x/n.x,s=i.y/n.y;this.fit=Math.min(1,r<s?r:s),this.fill=Math.min(1,r>s?r:s),this.vFill=Math.min(1,s),this.initial=this.t(),this.secondary=this.i(),this.max=Math.max(this.initial,this.secondary,this.o()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}l(t){const e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}i(){let t=this.l("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}t(){return this.l("initial")||this.fit}o(){return this.l("max")||Math.max(1,4*this.fit)}}function d(t,e,i){const n=e.createContentFromData(t,i);let r;const{options:s}=e;if(s){let o;r=new u(s,t,-1);const a=function(t,e,i,n){return{x:e.x-c("left",t,e,i,n)-c("right",t,e,i,n),y:e.y-c("top",t,e,i,n)-c("bottom",t,e,i,n)}}(s,o=e.pswp?e.pswp.viewportSize:function(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(s,e),t,i);r.update(n.width,n.height,a)}return n.lazyLoad(),r&&n.setDisplayedSize(Math.ceil(n.width*r.initial),Math.ceil(n.height*r.initial)),n}return class extends class extends class{constructor(){this.u={},this.p={},this.pswp=void 0,this.options=void 0}addFilter(t,e,i=100){var n,r,s;this.p[t]||(this.p[t]=[]),null===(n=this.p[t])||void 0===n||n.push({fn:e,priority:i}),null===(r=this.p[t])||void 0===r||r.sort((t,e)=>t.priority-e.priority),null===(s=this.pswp)||void 0===s||s.addFilter(t,e,i)}removeFilter(t,e){this.p[t]&&(this.p[t]=this.p[t].filter(t=>t.fn!==e)),this.pswp&&this.pswp.removeFilter(t,e)}applyFilters(t,...e){var i;return null===(i=this.p[t])||void 0===i||i.forEach(t=>{e[0]=t.fn.apply(this,e)}),e[0]}on(t,e){var i,n;this.u[t]||(this.u[t]=[]),null===(i=this.u[t])||void 0===i||i.push(e),null===(n=this.pswp)||void 0===n||n.on(t,e)}off(t,e){var i;this.u[t]&&(this.u[t]=this.u[t].filter(t=>e!==t)),null===(i=this.pswp)||void 0===i||i.off(t,e)}dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const n=new class{constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}(t,e);return null===(i=this.u[t])||void 0===i||i.forEach(t=>{t.call(this,n)}),n}}{getNumItems(){var t;let e=0;const i=null===(t=this.options)||void 0===t?void 0:t.dataSource;i&&"length"in i?e=i.length:i&&"gallery"in i&&(i.items||(i.items=this.v(i.gallery)),i.items&&(e=i.items.length));const n=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",n.numItems,i)}createContentFromData(t,e){return new h(t,this,e)}getItemData(t){var e;const i=null===(e=this.options)||void 0===e?void 0:e.dataSource;let n={};Array.isArray(i)?n=i[t]:i&&"gallery"in i&&(i.items||(i.items=this.v(i.gallery)),n=i.items[t]);let r=n;r instanceof Element&&(r=this.m(r));const s=this.dispatch("itemData",{itemData:r||{},index:t});return this.applyFilters("itemData",s.itemData,t)}v(t){var e,i;return null!==(e=this.options)&&void 0!==e&&e.children||null!==(i=this.options)&&void 0!==i&&i.childSelector?o(this.options.children,this.options.childSelector,t)||[]:[t]}m(t){const e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);const r=t.querySelector("img");var n;r&&(e.msrc=r.currentSrc||r.src,e.alt=null!==(n=r.getAttribute("alt"))&&void 0!==n?n:""),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return d(t,this,e)}}{constructor(t){super(),this.options=t||{},this.g=0,this.shouldOpen=!1,this._=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){o(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(t){if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t)||window.pswp)return;let e={x:t.clientX,y:t.clientY};e.x||e.y||(e=null);let i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);const n={gallery:t.currentTarget};i>=0&&(t.preventDefault(),this.loadAndOpen(i,n,e))}getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const e=t.target,i=o(this.options.children,this.options.childSelector,t.currentTarget).findIndex(t=>t===e||t.contains(e));return-1!==i?i:this.options.children||this.options.childSelector?-1:0}loadAndOpen(t,e,i){if(window.pswp||!this.options)return!1;if(!e&&this.options.gallery&&this.options.children){const t=o(this.options.gallery);t[0]&&(e={gallery:t[0]})}return this.options.index=t,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(t,e),!0}preload(t,e){const{options:i}=this;e&&(i.dataSource=e);const n=[],r=typeof i.pswpModule;if("function"==typeof(s=i.pswpModule)&&s.prototype&&s.prototype.goTo)n.push(Promise.resolve(i.pswpModule));else{if("string"===r)throw new Error("pswpModule as string is no longer supported");if("function"!==r)throw new Error("pswpModule is not valid");n.push(i.pswpModule())}var s;"function"==typeof i.openPromise&&n.push(i.openPromise()),!1!==i.preloadFirstSlide&&t>=0&&(this._=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return d(i,e,t)}(t,this));const o=++this.g;Promise.all(n).then(t=>{if(this.shouldOpen){const e=t[0];this.I(e,o)}})}I(t,e){if(e!==this.g&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const i="object"==typeof t?new t.default(this.options):new t(this.options);this.pswp=i,window.pswp=i,Object.keys(this.u).forEach(t=>{var e;null===(e=this.u[t])||void 0===e||e.forEach(e=>{i.on(t,e)})}),Object.keys(this.p).forEach(t=>{var e;null===(e=this.p[t])||void 0===e||e.forEach(e=>{i.addFilter(t,e.fn,e.priority)})}),this._&&(i.contentLoader.addToCache(this._),this._=void 0),i.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),i.init()}destroy(){var t;null===(t=this.pswp)||void 0===t||t.destroy(),this.shouldOpen=!1,this.u={},o(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}}),document.addEventListener("DOMContentLoaded",function(){console.log("INIT: RICH BROWN"),document.documentElement.classList.remove("no-js"),history.scrollRestoration&&(history.scrollRestoration="manual"),lazySizes.init();let t,e,i,n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${n}px`),gsap.registerPlugin(ScrollTrigger);const r="power3.out",s=.66;squareElementTL=gsap.timeline(),socialTL=gsap.timeline(),navscrollerTL=gsap.timeline(),pageContainerTL=gsap.timeline(),singlepageContainerTL=gsap.timeline(),showreelTL=gsap.timeline();const o=document.querySelector(".name.top"),a=document.querySelector(".name.bottom"),l=.2;let h=!1,c=!1;function u(){return t.scroll.instance.scroll.y}function d(){if(document.querySelector(".container-active .hover-cards")){let t=0,e=0,i=0;document.querySelector(".container-active .hover-cards").addEventListener("mousemove",n=>{e=t,t=n.clientX,i+=.05*(t-e),i=Math.max(-7.5,Math.min(7.5,i)),cardTL=gsap.timeline(),cardTL.set(document.querySelector(".hover-card"),{x:n.clientX-document.querySelector(".hover-cards").getBoundingClientRect().left,y:n.clientY-document.querySelector(".hover-cards").getBoundingClientRect().top}),cardTL.to(document.querySelector(".hover-card"),{rotation:i,duration:1,ease:r})}),document.querySelectorAll(".container-active .work-title-inner").forEach(t=>{t.addEventListener("mouseenter",()=>{const e=document.querySelector(".container-active .hover-card img"),i=t.getAttribute("data-src");if(e&&i){e.setAttribute("src",i);const n=t.getAttribute("data-video"),r=document.querySelector(".container-active .hover-card video");n?(r.setAttribute("src",n),r.style.display="block",e.style.display="none",r.play()):(r.style.display="none",e.style.display="block"),gsap.to(document.querySelector(".container-active .hover-card"),{opacity:1,duration:.2,onComplete:()=>{n&&r.play()}})}}),t.addEventListener("mouseleave",()=>{const t=document.querySelector(".container-active .hover-card img"),e=document.querySelector(".container-active .hover-card video");(t||e)&&(e.style.display="none",t.style.display="none",gsap.to(document.querySelector(".container-active .hover-card"),{opacity:0,duration:.2}),e.pause())})})}}function f(t){const e=getComputedStyle(t),i=(e.transform||e.webkitTransform).match(/matrix\(1, 0, 0, 1, (.*), 0\)/);if(i&&i[1]){return parseFloat(i[1])}return 0}function p(){const t=20;function e(e){const i=(e.clientX/window.innerWidth-.5)*t*2,n=(e.clientY/window.innerHeight-.5)*t*2,r=e.currentTarget.querySelector("img, video"),s=gsap.timeline({paused:!0});r&&s.clear().to(r,{rotationX:3.33*-n,rotationY:3.33*i,duration:.5}).play()}function i(t){const e=t.currentTarget.querySelector("img, video"),i=gsap.timeline({paused:!0});e&&i.clear().to(e,{rotationX:0,rotationY:0,duration:.25}).play()}const n=document.querySelectorAll(".work-horizontal-scroll-single");return n.forEach(t=>{t.addEventListener("mousemove",e),t.addEventListener("mouseout",i)}),function(){n.forEach(t=>{t.removeEventListener("mousemove",e),t.removeEventListener("mouseout",i)})}}barba.init({debug:!1,_views:[{namespace:"work",beforeEnter(t){_(),document.querySelector(".preloader").classList.remove("show"),document.body.classList.add("skip-preload");getComputedStyle(document.documentElement).getPropertyValue("--bg");document.querySelectorAll(".slideshow").forEach(O);let n=0;e=new LocomotiveScroll({el:document.querySelector(".container-active #single-container"),smooth:!0,touchMultiplier:4,direction:"horizontal",gestureDirection:"both",reloadOnContextChange:!0,smartphone:{smooth:!0},tablet:{smooth:!0}}),window.innerWidth>850&&document.querySelector(".container-active #single-container")&&(ScrollTrigger.getAll().forEach(t=>t.kill()),ScrollTrigger.scrollerProxy(document.querySelector(".container-active #single-container"),{scrollLeft(t){return arguments.length?e.scrollTo(t,{duration:0,disableLerp:!0}):e.scroll.instance.scroll.x},getBoundingClientRect:()=>({left:0,top:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector(".container-active #single-container").style.transform?"transform":"fixed"}),ScrollTrigger.defaults({scroller:document.querySelector(".container-active #single-container")}),e.on("scroll",ScrollTrigger.update),i&&i.kill(),i=gsap.timeline(),setTimeout(()=>{i.to(".container-active .anim-wrap",{scrollTrigger:{trigger:".container-active .vertical",start:()=>"left left",end:()=>"+="+document.querySelector(".container-active .anim-wrap").scrollHeight,pin:!0,pinSpacing:!0,scrub:!0,horizontal:!0,invalidateOnRefresh:!0,onUpdate:t=>{animHeight=document.querySelector(".container-active .anim-wrap").scrollHeight,xPos=f(document.querySelector(".container-active #single-container")),containerWidth=document.querySelector(".container-active #single-container").offsetWidth,wrapWidth=document.querySelector(".container-active .anim-wrap").offsetWidth,xPosMinusWidth=-1*xPos-wrapWidth,xTranslateValue=containerWidth-wrapWidth+xPos-animHeight,xTranslateValue>0&&(xTranslateValue=0),document.querySelector(".container-active #single-work .single-meta-fixed.top")&&gsap.to(" .container-active #single-work .single-meta-fixed",{x:xTranslateValue})}},y:()=>-(document.querySelector(".container-active .anim-wrap").scrollHeight-.33*window.innerHeight),ease:"none"}),ScrollTrigger.refresh,e.update(),e.on("scroll",t=>{const e=t.scroll.x,i=window.innerWidth/6,s=Math.max(0,1-e/i);if(gsap.to(document.querySelector(".container-active .single-meta.top .title"),{opacity:s,duration:.1}),document.querySelector(".container-active .tracker")){const e=document.querySelector(".container-active .tracker-line"),i=t.scroll.x/t.limit.x;e.style.transform="scaleX("+i+")"}var o=null;n>e?(o=-e+n,n=e,tx=-1*Math.min(10,Math.max(0,o))):(o=e-n,n=e,tx=1*Math.min(10,Math.max(0,o))),singlepageContainerTL=gsap.timeline(),singlepageContainerTL.clear(),singlepageContainerTL.to(document.querySelectorAll("#single-container .single-container-inner .richbrown-block"),{skewX:tx,ease:r,duration:.15})})},1e3)),setTimeout(()=>{document.querySelectorAll(".work-title-inner").forEach(function(t){t.removeAttribute("data-barba-prevent")})},1001);const s=new PhotoSwipeLightbox({bgOpacity:1,gallery:".container-active #single-container",children:"a.media-zoom ",showHideAnimationType:"zoom",secondaryZoomLevel:t=>{var e=window.innerWidth,i=t.elementSize.x;return percentageWidth=.8275*(e/i),percentageWidth},initialZoomLevel:t=>{var e=window.innerWidth,i=t.elementSize.x;return percentageWidth=.8275*(e/i),percentageWidth},maxZoomLevel:t=>{var e=window.innerWidth,i=t.elementSize.x;return percentageWidth=.8275*(e/i),percentageWidth},arrowPrev:!1,arrowNext:!1,zoom:!1,close:!1,counter:!1,pswpModule:PhotoSwipe});function o(t,e,i,n){const r=parseFloat(t);return t.indexOf("%")>0?(i-e*n)*r/100:r}function a(t,e,i){const n=parseFloat(t);return t.indexOf("%")>0?e+(i-e)*n/100:n}function l(t){return t.querySelector("img")}function h(t){return getComputedStyle(t).getPropertyValue("object-position").split(" ")}s.on("afterInit",()=>{var t=document.querySelector(".pswp");t.classList.add("hover-close"),t.classList.add("hoverable"),_()}),s.on("close",()=>{m.style.width="5px",m.style.height="5px",v.classList.remove("play"),v.classList.remove("open"),v.classList.remove("close")});new class{constructor(t){t.on("initialZoomPan",t=>{const e=t.slide,[i,n]=h(l(e.data.element));"50%"!==i&&e.pan.x<0&&(e.pan.x=a(i,e.bounds.min.x,e.bounds.max.x)),"50%"!==n&&e.pan.y<0&&(e.pan.y=a(n,e.bounds.min.y,e.bounds.max.y))}),t.addFilter("thumbBounds",(t,e)=>{const i=l(e.element),n=i.getBoundingClientRect(),r=t.w/e.width,[s,a]=h(i);if("50%"!==s){const i=o(s,e.width,n.width,r);t.x=n.left+i,t.innerRect.x=i}if("50%"!==a){const i=o(a,e.height,n.height,r);t.y=n.top+i,t.innerRect.y=i}return t})}}(s),s.init(),document.querySelector(".name.bottom").addEventListener("click",t=>E(t,e)),c=!0,document.addEventListener("mousemove",T),window.addEventListener("resize",T),window.addEventListener("orientationchange",T),setTimeout(()=>{window.innerWidth>850&&document.querySelectorAll(".container-active .richbrown-media video").forEach(t=>{var e=t.play();void 0!==e&&e.then(t=>{}).catch(t=>{})}),d()},999),document.querySelectorAll(".container-active .embed-mask").forEach(t=>{t.addEventListener("click",function(){gsap.to(t,{autoAlpha:0,duration:.1})})})},beforeLeave(t){e.destroy()}},{namespace:"home",beforeLeave(){},beforeEnter(e){document.querySelector(".preloader").classList.add("show"),_();var i=!1,n=!1;e.current&&e.current.container&&e.current.container.dataset&&e.current.container.dataset.barbaId&&(i=!0,n=e.current.container.dataset.barbaId),(t=new LocomotiveScroll({el:document.getElementById("primary-container"),smooth:!0,touchMultiplier:4,debug:!0,getDirection:!0,smartphone:{smooth:!0},tablet:{smooth:!0}})).stop(),setTimeout(()=>{if(window.innerWidth>850){ScrollTrigger.getAll().forEach(t=>t.kill()),ScrollTrigger.scrollerProxy(document.getElementById("primary-container"),{scrollTop(e){return arguments.length?t.scrollTo(e,{duration:0,disableLerp:!0}):t.scroll.instance.scroll.y},getBoundingClientRect:()=>({left:0,top:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.getElementById("primary-container").style.transform?"transform":"fixed"}),t.on("scroll",ScrollTrigger.update),maxWidth=0,(()=>{maxWidth=0,document.querySelectorAll(".container-active .pin-wrap > .work-horizontal-scroll-single").forEach(t=>{maxWidth+=t.offsetWidth})})(),pinWrapWidth=maxWidth,horizontalScrollLength=pinWrapWidth-window.innerWidth,pinTimeline=gsap.timeline(),pinTimeline.to(document.querySelector(".container-active .pin-wrap"),{scrollTrigger:{scroller:document.getElementById("primary-container"),scrub:!0,trigger:".work-horizontal-scroll",pin:!0,start:"top top",end:()=>`+=${pinWrapWidth}`,invalidateOnRefresh:!0,onLeave:()=>{document.querySelector("#work")&&document.querySelector("#work").classList.remove("active"),document.body.removeAttribute("data-bg")},onLeaveBack:()=>{document.querySelector("#work")&&document.querySelector("#work").classList.remove("active"),document.body.removeAttribute("data-bg")},onEnter:()=>{document.querySelector("#work")&&document.querySelector("#work").classList.add("active")},onUpdate:t=>{document.querySelector(".container-active .pin-wrap")?xTranslateValue=f(document.querySelector(" .container-active .pin-wrap")):xTranslateValue=0;let e=0;if(document.querySelector(".bg-video-mirror .scroll-downs")&&(xTranslateValue>-1?document.querySelector(".bg-video-mirror .scroll-downs").classList.remove("visible"):document.querySelector(".bg-video-mirror .scroll-downs").classList.add("visible")),xTranslateValue>-1*window.innerWidth*.25?(e=0,mirrorxTranslateValue=-1*xTranslateValue):(e=xTranslateValue+.25*window.innerWidth,mirrorxTranslateValue=-1*xTranslateValue+e),document.querySelector(".fpvideo-container")&&(document.querySelector(".fpvideo-container").style.setProperty("--x",e+"px"),document.querySelector(".bg-video-mirror").style.setProperty("--x",mirrorxTranslateValue+"px")),xTranslateValue<-1*window.innerWidth*.75){document.querySelector(".bg-video-mirror .scroll-downs").classList.add("invisible");for(var i=0;i<document.querySelectorAll(".rotatingtext").length;i++)document.querySelectorAll(".rotatingtext")[i].classList.add("visible")}else for(i=0;i<document.querySelectorAll(".rotatingtext").length;i++)document.querySelectorAll(".rotatingtext")[i].classList.remove("visible");const n=e;var s=null;a>n?(s=-n+a,a=n,tx=-1*Math.min(10,Math.max(0,s))):(s=n-a,a=n,tx=1*Math.min(10,Math.max(0,s))),singlepageContainerTL=gsap.timeline(),singlepageContainerTL.clear(),singlepageContainerTL.to(document.querySelectorAll(".container-active .pin-wrap > .work-horizontal-scroll-single"),{skewX:tx,ease:r,duration:.15})}},x:-horizontalScrollLength,ease:"none"}),ScrollTrigger.refresh,t.update(),setTimeout(()=>{if(i){scrollElm="#"+n;const e=document.querySelector(scrollElm),i=document.querySelector(".container-active .pin-wrap "+scrollElm);if(i){const e=document.querySelector(".container-active .pin-spacer").offsetTop,n=i.parentElement,r=i.getBoundingClientRect().x;n.getBoundingClientRect().x;targetdistance=r+e;document.querySelector("#work .work-horizontal-scroll-single:last-child");const s=document.querySelectorAll("#work .work-horizontal-scroll-single"),o=Array.from(s).indexOf(i);targetdistance=r+e+.125*o*window.innerWidth,t.scrollTo(targetdistance,{duration:0})}else t.scrollTo(e,{duration:50,disableLerp:!1,callback:function(){}})}},250)}else if(i){scrollElm="#"+n;const e=document.querySelector(scrollElm);t.scrollTo(e,{duration:50,disableLerp:!1,callback:function(){}})}},1e3),document.querySelectorAll(".text-inner").forEach(t=>{const e=t.offsetHeight;t.parentNode.style.minHeight=e+"px"});let o=0,a=0;if(t.on("scroll",t=>{const e=t.scroll.y;"down"==t.direction?scrollDelta=e-o:scrollDelta=e+o;const i=u();if(o=e,t.currentElements)for(const e of Object.keys(t.currentElements)){if(t.currentElements[e].el.classList.contains("text-inner")){const i=t.currentElements[e].inView,n=10;texttimeline=gsap.timeline(),triggerpoint=1,t.currentElements[e].el.querySelector(".text-animate")&&(i?(y=-1*Math.min(n,Math.max(0,scrollDelta)),"down"==t.direction?ty=.5*y:ty=-.5*y,texttimeline.clear(),texttimeline.to(t.currentElements[e].el.querySelector(".text-animate"),{skewY:-ty,ease:r,duration:2})):texttimeline.set(t.currentElements[e].el.querySelector(".text-animate"),{rotationX:0,rotationY:0,skewY:0}))}if(t.currentElements[e].el.classList.contains("flip-row")){t.currentElements[e].inView&&document.querySelectorAll(".flip-row-inner").forEach(n=>{const r=n.querySelectorAll(".cell-flip"),s=r.length,o=window.innerHeight/s;for(let n=0;n<r.length;n++){let s=n*o;s<1&&(s=1);const a=t.currentElements[e].top+s-window.innerHeight;if(i<=a){r.forEach((t,e)=>{e===n?t.classList.add("visible"):t.classList.remove("visible")});break}}})}}}),document.querySelector(".square")&&t.on("scroll",t=>{const e=t.scroll.y,i=(t.limit.y,e/(2*window.outerHeight)*100%100*-1),n=i+100;document.querySelector(".square").style.setProperty("--move1",`${i}%`),document.querySelector(".square").style.setProperty("--move2",`${n}%`)}),c=!1,gsap.set(document.querySelector(".square"),{opacity:0,y:-50,visibility:"hidden"}),pageContainerTL.set(document.getElementById("primary-container"),{y:"25vh"}),document.body.classList.contains("skip-preload")){const e=document.querySelector(".fpvideo");e&&(e.style.opacity=0);const i=gsap.timeline(),n=document.querySelector(".preloader .bg"),o=document.querySelector(".preloader");gsap.set([n,o],{autoAlpha:1}),i.to(o,{autoAlpha:0,duration:.5,delay:1.5,ease:r,onComplete:()=>{o.classList.remove("show"),e&&(e.style.opacity=1,e.style.transform="scale(1) rotateX(0) rotateY(0) translate(-50%,-50%)",e.style.transformOrigin="50% 50%",e.style.perspective="200vh")}}),i.play(),document.getElementById("primary-container").classList.remove("show"),document.body.classList.add("show"),document.querySelectorAll(".name").forEach(function(t){t.style.opacity=1}),document.querySelectorAll(".name").forEach(t=>{t.classList.add("--end")}),t.on("scroll",function(t){p(t.direction)}),function(){if(document.querySelector(".fpvideo")){const t=document.querySelector(".fpvideo");t&&(t.style.opacity=1,t.style.transform="scale(1) rotateX(0) rotateY(0) translate(-50%,-50%)",t.style.transformOrigin="50% 50%",t.style.perspective="200vh"),document.querySelectorAll(".fpvideo-container video").forEach(t=>{var e=t.play();void 0!==e&&e.then(t=>{}).catch(t=>{})})}}(),document.querySelectorAll(".line").forEach(t=>{t.classList.add("--visible")}),document.querySelectorAll(".name").forEach(t=>{t.classList.add("--endhide")}),pageContainerTL=gsap.timeline(),squareElementTL=gsap.timeline(),socialTL=gsap.timeline(),navscrollerTL=gsap.timeline(),pageContainerTL.to(document.getElementById("primary-container"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),squareElementTL.to(document.querySelector(".square"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),socialTL.to(document.getElementById("social"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),navscrollerTL.to(document.getElementById("scroller"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),document.querySelector(".name.bottom").addEventListener("click",e=>E(e,t)),document.querySelector(".name.top").addEventListener("click",e=>M(t)),c=!0,document.addEventListener("mousemove",T),window.addEventListener("resize",T),window.addEventListener("orientationchange",T),t.start(),ScrollTrigger.refresh,t.update(),setTimeout(()=>{window.innerWidth>850&&document.querySelectorAll(".work-horizontal-scroll-single video").forEach(t=>{var e=t.play();void 0!==e&&e.then(t=>{}).catch(t=>{})})},999)}else{document.getElementById("primary-container").classList.remove("show"),document.querySelectorAll(".name").forEach(t=>{t.classList.add("--start")});const e=Array.from(document.querySelectorAll(".character")).map(t=>{return t.querySelector(".svg-container").innerHTML}),i=setInterval(()=>{let t=-1;document.querySelectorAll(".character").forEach((i,n)=>{let r=e.filter(i=>i!==e[t]);1===r.length&&(r=e.filter(t=>t!==r[0]));const s=Math.floor(Math.random()*r.length);t=s;const o=r[s];i.querySelector(".svg-container").innerHTML=o})},25);var l=0,h=setInterval(function(){if(l+=1,document.querySelector(".preloader_inner").textContent=l+"%",100===l){document.querySelector(".preloader").classList.remove("show"),document.body.classList.add("show");for(let t=0;t<document.querySelectorAll(".name").length;t++)document.querySelectorAll(".name")[t].style.opacity=1;clearInterval(i),document.querySelectorAll(".character").forEach((t,i)=>{t.querySelector(".svg-container").innerHTML=e[i]}),document.querySelectorAll(".name").forEach(t=>{t.classList.add("--end")}),function(){if(document.querySelector(".fpvideo")){const t=document.querySelector(".fpvideo"),e=gsap.timeline();e.set(t,{opacity:1,scale:0,rotationX:66,rotationY:-66,transformOrigin:"66.66%",perspective:"200vh"}),e.to(t,{opacity:1,rotationX:0,rotationY:0,transformOrigin:"50% 50%",scale:1,duration:2,ease:"power3.out",onComplete:()=>{}})}}(),setTimeout(()=>{document.querySelectorAll(".line").forEach(t=>{t.classList.add("--visible")}),setTimeout(()=>{document.querySelectorAll(".name").forEach(t=>{t.classList.add("--endhide")})},700),setTimeout(()=>{setTimeout(()=>{pageContainerTL.to(document.getElementById("primary-container"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),squareElementTL.to(document.querySelector(".square"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),socialTL.to(document.getElementById("social"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),navscrollerTL.to(document.getElementById("scroller"),{visibility:"visible",y:0,opacity:1,duration:s,ease:r}),t.on("scroll",function(t){p(t.direction)}),document.querySelector(".name.bottom").addEventListener("click",e=>E(e,t)),document.querySelector(".name.top").addEventListener("click",e=>M(t)),t.update(),c=!0,document.addEventListener("mousemove",T),window.addEventListener("resize",T),window.addEventListener("orientationchange",T),setTimeout(()=>{t.start()},250)},500)},1e3)},750),document.body.classList.add("skip-preload"),clearInterval(h),l=0}},20)}function p(){if(document.querySelectorAll(".fpvideo:not(.--scrollock)"))if(window.innerWidth>850){const e=u(),i=window.innerHeight;let n=0;document.querySelectorAll(".--videoscrollheight").forEach(t=>{n+=t.clientHeight});const r=.25*i,s=n-=i;let o;if(e<=r)o=1,skew=0;else if(e>=s)o=.5,skew=0;else{o=1-.5*((e-r)/(s-r)),skew=o/2*33}if(videoTL=gsap.timeline(),videoTL.to(document.querySelector(".fpvideo"),{scale:o,rotateY:skew,rotateX:skew}),e>=s-i){var t=(s-i-e)/i*100;scrollUpSquare=t+"%",gsap.set(document.querySelector(".square"),{y:scrollUpSquare}),gsap.set(document.getElementById("scroller"),{y:scrollUpSquare})}}else{const s=window.innerWidth,o=.5*window.innerHeight-.28*s,a=u();var e=window.visualViewport;const l=e.height;let h=0;document.querySelectorAll(".--videoscrollheight").forEach(t=>{h+=t.clientHeight});const c=.25*l,d=(h-=l)+2*o;let f;const p=document.querySelector("#portfolio .work-horizontal-scroll-single-init .media .flex-width"),g=document.querySelector(".fpvideo-match"),m=p.offsetWidth/g.offsetWidth;if(a<=c)f=1,skew=0,document.querySelector(".fpvideo-container").style.setProperty("--x","0px");else if(a>=d){f=m,skew=0;var i=document.getElementById("bg-video-mirror-mobile").getBoundingClientRect(),n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=i.top-e.height/2.5+(n?20:0);document.querySelector(".fpvideo-container").style.setProperty("--x",r+"px")}else{document.querySelector(".fpvideo-container").style.setProperty("--x","0px"),f=1-.66*((a-c)/(d-c)),skew=f/2*33}if(a>=d+50?document.querySelector("#work").classList.add("active"):document.querySelector("#work").classList.remove("active"),videoTL=gsap.timeline(),videoTL.to(document.querySelector(".fpvideo"),{scale:f,rotateY:skew,rotateX:skew}),a>=d-l){t=(d-l-a)/l*100;scrollUpSquare=t+"%",gsap.set(document.querySelector(".square"),{y:scrollUpSquare}),gsap.set(document.getElementById("scroller"),{y:scrollUpSquare})}}}d(),document.querySelectorAll(".pin-wrap > .work-horizontal-scroll-single")&&document.querySelectorAll(".pin-wrap > .work-horizontal-scroll-single").forEach(t=>{t.addEventListener("mouseenter",()=>{if(t.hasAttribute("data-theme")){const e=t.getAttribute("data-theme");document.body.style.setProperty("--bg",e),document.body.setAttribute("data-bg",e)}}),t.addEventListener("mouseleave",()=>{document.body.style.removeProperty("--bg")})}),document.querySelectorAll(".bg-video-mirror")&&document.querySelectorAll(".bg-video-mirror").forEach(t=>{t.addEventListener("mouseenter",()=>{if(t.hasAttribute("data-theme")){const e=t.getAttribute("data-theme");document.body.style.setProperty("--bg",e),document.body.setAttribute("data-bg",e)}}),t.addEventListener("mouseleave",()=>{document.body.style.removeProperty("--bg")})}),document.querySelectorAll(".bg-video-mirror").forEach(e=>{e.getBoundingClientRect();let i=0,n=0,r=0,s=0;document.getElementById("showreel").querySelector(".inner").querySelector("iframe"),gsap.timeline();e.addEventListener("click",()=>{t.stop(),c=!1;const o=e.getBoundingClientRect();i=o.width,n=o.height,r=o.top,s=o.left,gsap.timeline().set(document.querySelector("#showreel .flex-video"),{opacity:1,scale:0,rotationX:66,rotationY:-66,transformOrigin:"66.66%",perspective:"200vh"}).set(document.getElementById("showreelmask"),{opacity:0,visibility:"hidden",left:s,top:r,width:i,height:n,position:"fixed"}).set(document.getElementById("showreel"),{opacity:1,visibility:"visible"}).to(document.getElementById("showreelmask"),{width:"100%",height:"100%",top:0,left:0,scale:1,opacity:1,visibility:"visible",duration:.3,ease:"power3.out"}).to(document.querySelector("#showreel .flex-video"),{opacity:1,rotationX:0,rotationY:0,delay:.15,transformOrigin:"50% 50%",scale:1,duration:1,ease:"power3.out",onComplete:()=>{new Vimeo.Player(document.querySelector("#showreel .flex-video")).play().then(()=>{}).catch(t=>{console.error("Error playing Vimeo video:",t)})}},0)}),document.getElementById("showreel").addEventListener("click",function(e){if(e.target===this){gsap.timeline().to(document.querySelector("#showreel .flex-video"),{ease:"power3.out",scale:0,rotationX:-66,rotationY:66,duration:.25,transformOrigin:"66.66%"}).to(document.getElementById("showreelmask"),{width:i,height:n,top:r,left:s,duration:.25,ease:"power3.out",onStart:()=>{const t=new Vimeo.Player(document.querySelector("#showreel .flex-video"));t.ready().then(()=>t.pause()).then(()=>{}).catch(t=>{console.error("Error stopping Vimeo video:",t)})},onComplete:()=>{t.start(),c=!0}}).to(document.getElementById("showreelmask"),{autoAlpha:0,duration:.1}).set(document.getElementById("showreel"),{autoAlpha:0,delay:.25})}})})},afterEnter(t){p(),document.querySelectorAll(".fpvideo").forEach(t=>{t.classList.remove("--scrollock")})},afterLeave(e){position=u(),document.body.setAttribute("data-home-position",position),t.destroy()}},{namespace:"notfound",beforeEnter(t){_(),document.body.classList.add("skip-preload"),document.querySelector(".preloader").classList.remove("show"),document.querySelectorAll(".name").forEach(function(t){t.classList.contains("notfoundname")?t.style.display="flex":t.style.display="none"}),document.querySelectorAll(".name").forEach(t=>{t.classList.add("--start")});const e=Array.from(document.querySelectorAll(".character")).map(t=>{return t.querySelector(".svg-container").innerHTML}),i=setInterval(()=>{let t=-1;document.querySelectorAll(".character").forEach((i,n)=>{let r=e.filter(i=>i!==e[t]);1===r.length&&(r=e.filter(t=>t!==r[0]));const s=Math.floor(Math.random()*r.length);t=s;const o=r[s];i.querySelector(".svg-container").innerHTML=o})},25);var n=0;setInterval(function(){100===(n+=1)&&(document.querySelectorAll(".name").forEach(function(t){t.style.opacity=1}),clearInterval(i),document.querySelectorAll(".character").forEach((t,i)=>{t.querySelector(".svg-container").innerHTML=e[i]}),gsap.timeline().set(document.querySelector("section#notfound  .info-inner"),{opacity:1,scale:0,rotationX:66,rotationY:-66,transformOrigin:"66.66%",perspective:"200vh"}).set(document.querySelector("section#notfound"),{opacity:0,visibility:"hidden"},0),gsap.timeline().to(document.querySelector("section#notfound"),{opacity:1,visibility:"visible",duration:.5,ease:r}).to(document.querySelector("section#notfound  .info-inner"),{opacity:1,rotationX:0,rotationY:0,transformOrigin:"50% 50%",scale:1,duration:1,ease:"power3.out"},0),document.querySelectorAll(".line").forEach(t=>{t.classList.add("--visible")}))},20)},beforeLeave(t){document.querySelectorAll(".name").forEach(function(t){t.classList.contains("notfoundname")?t.style.display="none":t.style.display="flex"})}}],get views(){return this._views},set views(t){this._views=t},transitions:[{name:"opacity-transition",leave:t=>(t.current.container.classList.remove("container-active"),gsap.globalTimeline.clear(),gsap.to(t.current.container,{opacity:0,scale:5,rotate:15,duration:.66,ease:r})),enter:t=>(t.next.container.classList.add("container-active"),gsap.from(t.next.container,{opacity:0,scale:2.5,rotate:-15,duration:.66,ease:r}))}]}),barba.hooks.enter(t=>{!function(t){if(mainElement=t,mainElement){const t=mainElement.getAttribute("data-bg"),e=mainElement.getAttribute("data-text");document.documentElement.style.setProperty("--bg",t),document.documentElement.style.setProperty("--text",e)}}(t.next.container)}),barba.hooks.before(t=>{document.querySelectorAll(".c-scrollbar").forEach(t=>{t.remove()})}),barba.hooks.afterLeave(t=>{lazySizes.init(),document.querySelector(".name.top").classList.add("--scrollfreeze");const e=document.querySelector(".fpvideo");e&&(e.style.opacity=0,e.style.transform="scale(1) rotateX(0) rotateY(0) translate(-50%,-50%)",e.style.transformOrigin="50% 50%",e.style.perspective="200vh"),setTimeout(function(){document.querySelector(".name.top").classList.remove("--scrollfreeze")},2500)}),document.querySelector("#social .toggle")&&(document.querySelector("#social .toggle").addEventListener("click",function(t){console.log("social toggle triggered"),t.stopPropagation(),document.getElementById("social").classList.contains("active")?A():k()}),window.innerWidth>850&&!("ontouchstart"in window||navigator.maxTouchPoints)&&document.querySelector("#social .toggle").addEventListener("mouseenter",function(t){t.stopPropagation(),document.getElementById("social").classList.contains("active")?A():k()})),document.getElementById("social")&&(window.innerWidth>850&&!("ontouchstart"in window||navigator.maxTouchPoints)&&document.getElementById("social").addEventListener("mouseleave",function(t){A()}),document.addEventListener("click",function(t){document.getElementById("social").contains(t.target)||A()})),document.querySelector("#social .list")&&document.querySelector("#social .list").addEventListener("click",function(t){t.stopPropagation()});p();const g=document.querySelector(".circle"),m=document.querySelector(".circle .circle-inner"),v=document.querySelector(".cross");function _(){if(window.innerWidth>850&&!("ontouchstart"in window||navigator.maxTouchPoints)){document.querySelectorAll(".hoverable, a, iframe").forEach(t=>{m&&(t.addEventListener("mouseover",()=>{t.classList.contains("hover-disabled")?(m.style.width="5px",m.style.height="5px",v.classList.remove("play"),v.classList.remove("open"),v.classList.remove("close")):t.classList.contains("hover-play")?(v.classList.add("play"),m.style.width="125px",m.style.height="125px"):t.classList.contains("hover-close")?(v.classList.add("close"),m.style.width="125px",m.style.height="125px"):(v.classList.add("open"),m.style.width="125px",m.style.height="125px"),"iframe"===t.tagName.toLowerCase()&&(g.style.display="none")}),t.addEventListener("mouseleave",()=>{m.style.width="5px",m.style.height="5px",v.classList.remove("play"),v.classList.remove("open"),v.classList.remove("close"),g.style.display="block"}))})}else console.log("GLOBAL: HOVEREFFECTS: DISABLED, MOBILE OR TOUCH")}if(window.innerWidth>850&&!("ontouchstart"in window||navigator.maxTouchPoints)&&document.addEventListener("mousemove",t=>{g.style.left=t.clientX-g.clientWidth/2+"px",g.style.top=t.clientY-g.clientHeight/2+"px"}),document.getElementById("paperCanvas")&&window.innerWidth>850&&!("ontouchstart"in window||navigator.maxTouchPoints)){paper.setup(document.getElementById("paperCanvas"));for(var w=600,b=new paper.Path({strokeColor:"#FFF",strokeWidth:1,strokeCap:"round"}),x=paper.view.center.add(5,0),S=0;S<30;S++)b.add(x+new paper.Point(100*S,0));var C=33;setTimeout(function t(){b.removeSegment(0),setTimeout(t,C)},C),paper.view.on("mousemove",function(t){var e=new paper.Segment(t.point),i=b.lastSegment;for((!i||i.point.getDistance(t.point)>10)&&b.add(e);b.length>w;)b.removeSegment(0);b.smooth({type:"continuous"})}),paper.view.draw()}function T(t){const e=window.innerHeight,i=.3*e,n=.3*e;if(c){const e=t.clientX,r=t.clientY,s=Math.sqrt(e*e+r*r),h=Math.sqrt(e*e+(window.innerHeight-r)*(window.innerHeight-r));if(s<i){const t=Math.max(-i,Math.min(i,e*l)),n=Math.max(-i,Math.min(i,r*l));gsap.to(o,{x:t,y:n,duration:.2})}else gsap.to(o,{x:0,y:0,duration:.2});if(h<n){const t=Math.max(-n,Math.min(n,e*l)),i=-Math.max(-n,Math.min(n,-r*l))+a.clientHeight-(n+.4*a.clientHeight);gsap.to(a,{x:t,y:i,duration:.2})}else gsap.to(a,{x:0,y:0,duration:.2})}}function k(){document.getElementById("social").classList.add("active")}function A(){document.getElementById("social").classList.remove("active")}function P(t){h&&(gsap.timeline().to(document.querySelector("section#info .info-inner"),{opacity:1,scale:0,rotationX:66,rotationY:-66,transformOrigin:"66.66%",perspective:"200vh",duration:s,ease:r}).to(document.querySelector("section#infomask"),{duration:s,opacity:0,visibility:"hidden",ease:r}).to(document.querySelector("section#info"),{duration:s,opacity:0,visibility:"hidden",ease:r},0),document.querySelector("section#info").classList.remove("active"),c=!0,h=!1,document.querySelectorAll(".name").forEach(t=>{t.classList.add("--endhide")}),document.querySelectorAll(".name").forEach(t=>{t.classList.add("--end")}))}function E(t,e){if(t.preventDefault(),!h){c=!1,gsap.to(a,{x:0,y:0,duration:.2}),gsap.timeline().set(document.querySelector("section#info .info-inner"),{opacity:1,scale:0,rotationX:66,rotationY:-66,transformOrigin:"66.66%",perspective:"200vh"});gsap.timeline();gsap.timeline().to(document.querySelector("section#infomask"),{opacity:1,visibility:"visible",duration:.2,ease:r}).to(document.querySelector("section#info"),{opacity:1,visibility:"visible",duration:s,ease:r}).to(document.querySelector("section#info .info-inner"),{opacity:1,rotationX:0,rotationY:0,transformOrigin:"50% 50%",scale:1,duration:2,ease:"power3.out"},0),document.querySelectorAll(".name").forEach(t=>{t.classList.remove("--endhide")}),document.querySelectorAll(".name").forEach(t=>{t.classList.remove("--end")}),setTimeout(()=>{document.querySelector("section#info").classList.add("active"),h=!0},1e3),document.addEventListener("click",function(t){document.querySelector("section#info").classList.contains("active")&&!document.querySelector("section#info .flex-content").contains(t.target)&&P()})}}function M(t){document.querySelector('main[data-barba-namespace="home"]')&&(event.preventDefault(),t.scrollTo("top",{offset:0,duration:600,easing:[.25,0,.35,1],disableLerp:!0}),P())}function O(t){let e,i=t.querySelectorAll(".flex-width"),n=0,r=t.getAttribute("data-timeout");function s(){i[n].style.display="none",n=(n+1)%i.length,i[n].style.display="block"}function o(){e=setInterval(s,r)}i.forEach((t,e)=>{t.style.display=0===e?"block":"none"}),t.classList.contains("pause_on_hover")&&(t.addEventListener("mouseover",function(){clearInterval(e)}),t.addEventListener("mouseout",o)),o()}});